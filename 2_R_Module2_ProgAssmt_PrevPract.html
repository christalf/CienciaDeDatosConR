<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R Programming</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Aprendiendo ciencia de datos con R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-hand-spock"></span>
     
    Resumen del contenido
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bars"></span>
     
    Contenido
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Data Science Toolbox</li>
    <li class="divider"></li>
    <li>
      <a href="1_DataScienceToolBox_Resumen.html">Módulo único</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">R</li>
    <li class="divider"></li>
    <li>
      <a href="2_R_Module1_Resumen.html">Módulo 1</a>
    </li>
    <li>
      <a href="2_R_Module2_Resumen.html">Módulo 2</a>
    </li>
    <li>
      <a href="2_R_Module2_ProgAssmt_PrevPract.html">_práctica</a>
    </li>
    <li>
      <a href="2_R_Module2_ProgAssmt.html">_ejercicio</a>
    </li>
    <li>
      <a href="2_R_Module3_Resumen.html">Módulo 3</a>
    </li>
    <li>
      <a href="2_R_Module3_ProgAssmt.html">_ejercicio</a>
    </li>
    <li>
      <a href="2_R_Module4_Resumen.html">Módulo 4</a>
    </li>
    <li>
      <a href="2_R_Module4_ProgAssmt.html">Ejercicio final</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Getting &amp; Cleaning Data</li>
    <li class="divider"></li>
    <li>
      <a href="3_GettingAndCleaningData_Module1_Resumen.html">Módulo 1</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module2_Resumen.html">Módulo 2</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module2_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module3_Resumen.html">Módulo 3</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module3_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module4.html">Módulo 4</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module4_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_FinalProj.html">Proyecto final</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Exploratory Data Analysis</li>
    <li class="divider"></li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module1.html">Módulo 1</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module1_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module2.html">Módulo 2</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module3.html">Módulo 3</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module4.html">Módulo 4</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_FinalProj.html">Proyecto final</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Reproducible Research</li>
    <li class="divider"></li>
    <li>
      <a href="5_ReproducibleResearch_Module1.html">Módulo 1</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_Module2.html">Módulo 2</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_Module3.html">Módulo 3</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_Module4.html">Módulo 4</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_FinalProj.html">Proyectos finales</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html">
    <span class="fa fa-gears"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">R Programming</h1>
<h3 class="subtitle">Modulo 2 - Práctica de programación previa</h3>

</div>

<div id="TOC">
<ul>
<li><a href="#session-info." id="toc-session-info."><span
class="toc-section-number">1</span> Session Info.</a></li>
</ul>
</div>

<hr />
<p>The goal of this assignment is to provide a “bridge” between the
first two weeks of lectures and assignment 1 for those either new to R
or struggling with how to approach the assignment.</p>
<p>This guided example, will <strong>not</strong> provide a solution for
programming assignment 1. However, it will guide you through some core
concepts and give you some practical experience to hopefully make
assignment 1 seems less daunting.</p>
<p>To begin, download this file and unzip it into your R working
directory.<br />
<a href="http://s3.amazonaws.com/practice_assignment/diet_data.zip"
class="uri">http://s3.amazonaws.com/practice_assignment/diet_data.zip</a></p>
<p>You can do this in R with the following code:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>dataset_url <span class="ot">&lt;-</span> <span class="st">&quot;http://s3.amazonaws.com/practice_assignment/diet_data.zip&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(dataset_url, <span class="st">&quot;diet_data.zip&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">unzip</span>(<span class="st">&quot;diet_data.zip&quot;</span>, <span class="at">exdir =</span> <span class="st">&quot;2_data/diet_data&quot;</span>)</span></code></pre></div>
<p>If you’re not sure where your working directory is, you can find out
with the <code>getwd()</code> command. Alternatively, you can
view/change it through the Tools &gt; Global Options menu in R
Studio.</p>
<p>So assuming you’ve unzipped the file into your R directory, you
should have a folder called 2_data/diet_data. In that folder there are
five files. Let’s get a list of those files:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="st">&quot;2_data/diet_data&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Andy.csv&quot;</span>  <span class="st">&quot;David.csv&quot;</span> <span class="st">&quot;John.csv&quot;</span>  <span class="st">&quot;Mike.csv&quot;</span>  <span class="st">&quot;Steve.csv&quot;</span></span></code></pre></div>
<p>Okay, so we have 5 files. Let’s take a look at one to see what’s
inside:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>andy <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2_data/diet_data/Andy.csv&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(andy)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">1</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">2</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">3</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         Andy  <span class="dv">30</span>    <span class="dv">139</span>   <span class="dv">4</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">5</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">6</span></span></code></pre></div>
<p>It appears that the file has 4 columns, Patient.Name, Age, Weight,
and Day. Let’s figure out how many rows there are by looking at the
length of the ‘Day’ column:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(andy<span class="sc">$</span>Day)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span></span></code></pre></div>
<p>30 rows. OK.</p>
<p>Alternatively, you could look at the dimensions of the
data.frame:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(andy)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span>  <span class="dv">4</span></span></code></pre></div>
<p>This tells us that we have 30 rows of data in 4 columns. There are
some other commands we might want to run to get a feel for a new data
file, <code>str()</code>, <code>summary()</code>, and
<code>names()</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(andy)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(andy)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a> Patient.Name      Age         Weight           Day       </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a> Andy<span class="sc">:</span><span class="dv">30</span>      Min.   <span class="sc">:</span><span class="dv">30</span>   Min.   <span class="sc">:</span><span class="fl">135.0</span>   Min.   <span class="sc">:</span> <span class="fl">1.00</span>  </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>              1st Qu.<span class="sc">:</span><span class="dv">30</span>   1st Qu.<span class="sc">:</span><span class="fl">137.0</span>   1st Qu.<span class="sc">:</span> <span class="fl">8.25</span>  </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>              Median <span class="sc">:</span><span class="dv">30</span>   Median <span class="sc">:</span><span class="fl">137.5</span>   Median <span class="sc">:</span><span class="fl">15.50</span>  </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>              Mean   <span class="sc">:</span><span class="dv">30</span>   Mean   <span class="sc">:</span><span class="fl">137.3</span>   Mean   <span class="sc">:</span><span class="fl">15.50</span>  </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>              3rd Qu.<span class="sc">:</span><span class="dv">30</span>   3rd Qu.<span class="sc">:</span><span class="fl">138.0</span>   3rd Qu.<span class="sc">:</span><span class="fl">22.75</span>  </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>              Max.   <span class="sc">:</span><span class="dv">30</span>   Max.   <span class="sc">:</span><span class="fl">140.0</span>   Max.   <span class="sc">:</span><span class="fl">30.00</span>  </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(andy)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Patient.Name&quot;</span> <span class="st">&quot;Age&quot;</span>          <span class="st">&quot;Weight&quot;</span>       <span class="st">&quot;Day&quot;</span>         </span></code></pre></div>
<p>So we have 30 days of data. To save you time, all of the other files
match this format and length. I’ve made up 30 days worth of weight data
for 5 subjects of an imaginary diet study.</p>
<p>Let’s play around with a couple of concepts. First, how would we see
Andy’s starting weight? We want to subset the data. Specifically, the
first row of the ‘Weight’ column:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>andy[<span class="dv">1</span>, <span class="st">&quot;Weight&quot;</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">140</span></span></code></pre></div>
<p>We can do the same thing to find his final weight on Day 30:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>andy[<span class="dv">30</span>, <span class="st">&quot;Weight&quot;</span>]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">135</span></span></code></pre></div>
<p>Alternatively, you could create a subset of the ‘Weight’ column where
the data where ‘Day’ is equal to 30.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>andy[<span class="fu">which</span>(andy<span class="sc">$</span>Day <span class="sc">==</span> <span class="dv">30</span>), <span class="st">&quot;Weight&quot;</span>]</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">135</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>andy[<span class="fu">which</span>(andy[,<span class="st">&quot;Day&quot;</span>] <span class="sc">==</span> <span class="dv">30</span>), <span class="st">&quot;Weight&quot;</span>]</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">135</span></span></code></pre></div>
<p>Or, we could use the <code>subset()</code> function to do the same
thing:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(andy<span class="sc">$</span>Weight, andy<span class="sc">$</span>Day<span class="sc">==</span><span class="dv">30</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">135</span></span></code></pre></div>
<p>There are lots of ways to get from A to B when using R. However it’s
important to understand some of the various approaches to subsetting
data.</p>
<p>Let’s assign Andy’s starting and ending weight to vectors:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>andy_start <span class="ot">&lt;-</span> andy[<span class="dv">1</span>, <span class="st">&quot;Weight&quot;</span>]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>andy_end <span class="ot">&lt;-</span> andy[<span class="dv">30</span>, <span class="st">&quot;Weight&quot;</span>]</span></code></pre></div>
<p>We can find out how much weight he lost by subtracting the
vectors:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>andy_loss <span class="ot">&lt;-</span> andy_start <span class="sc">-</span> andy_end</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>andy_loss</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<p>Andy lost 5 pounds over the 30 days. Not bad. What if we want to look
at other subjects or maybe even everybody at once?</p>
<p>Let’s look back to the <code>list.files()</code> command. It returns
the contents of a directory in alphabetical order. You can type
<code>?list.files</code> at the R prompt to learn more about the
function.</p>
<p>Let’s take the output of <code>list.files()</code> and store it:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;2_data/diet_data&quot;</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>files</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Andy.csv&quot;</span>  <span class="st">&quot;David.csv&quot;</span> <span class="st">&quot;John.csv&quot;</span>  <span class="st">&quot;Mike.csv&quot;</span>  <span class="st">&quot;Steve.csv&quot;</span></span></code></pre></div>
<p>Knowing that ‘files’ is now a list of the contents of ‘diet_data’ in
alphabetical order, we can call a specific file by subsetting it:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>files[<span class="dv">1</span>]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Andy.csv&quot;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>files[<span class="dv">2</span>]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;David.csv&quot;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>files[<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;John.csv&quot;</span>  <span class="st">&quot;Mike.csv&quot;</span>  <span class="st">&quot;Steve.csv&quot;</span></span></code></pre></div>
<p>Let’s take a quick look at John.csv:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">read.csv</span>(files[<span class="dv">3</span>]))</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> <span class="fu">file</span>(file, <span class="st">&quot;rt&quot;</span>)<span class="sc">:</span> no fue posible abrir el archivo <span class="st">&#39;John.csv&#39;</span><span class="sc">:</span> No</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>existe el archivo o el directorio</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">file</span>(file, <span class="st">&quot;rt&quot;</span>)<span class="sc">:</span> no se puede abrir la conexión</span></code></pre></div>
<p>Woah, what happened? Well, John.csv is sitting inside the
2_data/diet_data folder. We just tried to run the equivalent of
<code>read.csv("John.csv")</code> and R correctly told us that there
isn’t a file called John.csv in our working directory. To fix this, we
need to append the directory to the beginning of the file name.</p>
<p>One approach would be to use <code>paste()</code> or
<code>sprintf()</code>. However, if you go back to the help file for
<code>list.files()</code>, you’ll see that there is an argument called
<code>full.names</code> that will append (technically prepend) the path
to the file name for us.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>files_full <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;2_data/diet_data&quot;</span>, <span class="at">full.names=</span><span class="cn">TRUE</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>files_full</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2_data/diet_data/Andy.csv&quot;</span>  <span class="st">&quot;2_data/diet_data/David.csv&quot;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>] <span class="st">&quot;2_data/diet_data/John.csv&quot;</span>  <span class="st">&quot;2_data/diet_data/Mike.csv&quot;</span> </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>] <span class="st">&quot;2_data/diet_data/Steve.csv&quot;</span></span></code></pre></div>
<p>Pretty cool. Now let’s try taking a look at John.csv again:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">read.csv</span>(files_full[<span class="dv">3</span>]))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         John  <span class="dv">22</span>    <span class="dv">175</span>   <span class="dv">1</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         John  <span class="dv">22</span>    <span class="dv">175</span>   <span class="dv">2</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         John  <span class="dv">22</span>    <span class="dv">175</span>   <span class="dv">3</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         John  <span class="dv">22</span>    <span class="dv">175</span>   <span class="dv">4</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         John  <span class="dv">22</span>    <span class="dv">175</span>   <span class="dv">5</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         John  <span class="dv">22</span>    <span class="dv">175</span>   <span class="dv">6</span></span></code></pre></div>
<p>Success! So what if we wanted to create one big data frame with
everybody’s data in it? We’d do that with rbind and a loop. Let’s start
with rbind:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>andy_david <span class="ot">&lt;-</span> <span class="fu">rbind</span>(andy, <span class="fu">read.csv</span>(files_full[<span class="dv">2</span>]))</span></code></pre></div>
<p>This line of code took our existing data frame, Andy, and added the
rows from David.csv to the end of it. We can check this with:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(andy_david)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">1</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">2</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">3</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         Andy  <span class="dv">30</span>    <span class="dv">139</span>   <span class="dv">4</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">5</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">6</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(andy_david)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>   Patient.Name Age Weight Day</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="dv">55</span>        David  <span class="dv">35</span>    <span class="dv">203</span>  <span class="dv">25</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="dv">56</span>        David  <span class="dv">35</span>    <span class="dv">203</span>  <span class="dv">26</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="dv">57</span>        David  <span class="dv">35</span>    <span class="dv">202</span>  <span class="dv">27</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="dv">58</span>        David  <span class="dv">35</span>    <span class="dv">202</span>  <span class="dv">28</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="dv">59</span>        David  <span class="dv">35</span>    <span class="dv">202</span>  <span class="dv">29</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="dv">60</span>        David  <span class="dv">35</span>    <span class="dv">201</span>  <span class="dv">30</span></span></code></pre></div>
<p>One thing to note, rbind needs 2 arguments. The first is an existing
data frame and the second is what you want to append to it. This means
that there are occassions when you might want to create an empty data
frame just so there’s <em>something</em> to use as the existing data
frame in the rbind argument.</p>
<p>Don’t worry if you can’t imagine when that would be useful because
you’ll see an example in just a little while.</p>
<p>Now, let’s create a subset of the data frame that shows us just the
25th day for Andy and David.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>day_25 <span class="ot">&lt;-</span> andy_david[<span class="fu">which</span>(andy_david<span class="sc">$</span>Day <span class="sc">==</span> <span class="dv">25</span>), ]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>day_25</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>   Patient.Name Age Weight Day</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">25</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="dv">55</span>        David  <span class="dv">35</span>    <span class="dv">203</span>  <span class="dv">25</span></span></code></pre></div>
<p>Now you could manually go through and append everybody’s data to the
same data frame using rbind, but that’s not a practical solution if
you’ve got lots and lots of files. So let’s try using a loop.</p>
<p>To understand what’s happening in a loop, let’s try something:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {<span class="fu">print</span>(i)}</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span></span></code></pre></div>
<p>As you can see, for each pass through the loop, i increases by 1 from
1 through 5. Let’s apply that concept to our list of files.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>        dat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat, <span class="fu">read.csv</span>(files_full[i]))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">rbind</span>(dat, <span class="fu">read.csv</span>(files_full[i]))<span class="sc">:</span> objeto <span class="st">&#39;dat&#39;</span> no encontrado</span></code></pre></div>
<p>Whoops. Object ‘dat’ not found. This is because you can’t rbind
something into a file that doesn’t exist yet. So let’s create an empty
data frame called ‘dat’ before running the loop.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>        dat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat, <span class="fu">read.csv</span>(files_full[i]))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">150</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">5</span> levels <span class="st">&quot;Andy&quot;</span>,<span class="st">&quot;David&quot;</span>,..<span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
<p>Cool. We now have a data frame called ‘dat’ with all of our data in
it. Out of curiousity, what would happen if we had put
<code>dat &lt;- data.frame()</code> inside of the loop? Let’s see:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>        dat2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        dat2 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat2, <span class="fu">read.csv</span>(files_full[i]))</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat2)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Steve&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> ...</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">225</span> <span class="dv">225</span> <span class="dv">225</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> ...</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat2)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        Steve  <span class="dv">55</span>    <span class="dv">225</span>   <span class="dv">1</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>        Steve  <span class="dv">55</span>    <span class="dv">225</span>   <span class="dv">2</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>        Steve  <span class="dv">55</span>    <span class="dv">225</span>   <span class="dv">3</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>        Steve  <span class="dv">55</span>    <span class="dv">224</span>   <span class="dv">4</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>        Steve  <span class="dv">55</span>    <span class="dv">224</span>   <span class="dv">5</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>        Steve  <span class="dv">55</span>    <span class="dv">224</span>   <span class="dv">6</span></span></code></pre></div>
<p>Because we put <code>dat2 &lt;- data.frame()</code> inside of the
loop, <code>dat2</code> is being rewritten with each pass of the loop.
So we only end up with the data from the last file in our list.</p>
<p>Back to <code>dat</code>… So what if we wanted to know the median
weight for all the data? Let’s use the <code>median()</code>
function.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(dat<span class="sc">$</span>Weight)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span></span></code></pre></div>
<p>NA? Why did that happen? Type ‘dat’ into the console and you’ll see a
print out of all 150 obversations. Scroll back up to row 77, and you’ll
see that we have some missing data from John, which is recorded as NA by
R.</p>
<p>We need to get rid of those NA’s for the purposes of calculating the
median. There are several approaches. For instance, we could subset the
data using <code>complete.cases()</code> or <code>is.na()</code>. But if
you look at <code>?median</code>, you’ll see there is an argument called
<code>na.rm</code> that will strip the NA values out for us.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(dat<span class="sc">$</span>Weight, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">190</span></span></code></pre></div>
<p>So 190 is the median weight. We can find the median weight of day 30
by taking the median of a subset of the data where Day=30.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>dat_30 <span class="ot">&lt;-</span> dat[<span class="fu">which</span>(dat[, <span class="st">&quot;Day&quot;</span>] <span class="sc">==</span> <span class="dv">30</span>),]</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>dat_30</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    Patient.Name Age Weight Day</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>          Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">30</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="dv">60</span>         David  <span class="dv">35</span>    <span class="dv">201</span>  <span class="dv">30</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="dv">90</span>          John  <span class="dv">22</span>    <span class="dv">177</span>  <span class="dv">30</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="dv">120</span>         Mike  <span class="dv">40</span>    <span class="dv">192</span>  <span class="dv">30</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="dv">150</span>        Steve  <span class="dv">55</span>    <span class="dv">214</span>  <span class="dv">30</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(dat_30<span class="sc">$</span>Weight)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">192</span></span></code></pre></div>
<p>We’ve done a lot of manual data manipulation so far. Let’s build a
function that will return the median weight of a given day.</p>
<p>Let’s start out by defining what the arguments of the function should
be. These are the parameters that the user will define. The first
parameter the user will need to define is the directory that is holding
the data. The second parameter they need to define is the day for which
they want to calculate the median.</p>
<p>So our function is going to start out something like this:</p>
<p><code>weightmedian &lt;- function(directory, day)  {         # content of the function }</code></p>
<p>So what goes in the content? Let’s think through it logically. We
need a data frame with all of the data from the CSV’s. We’ll then subset
that data frame using the argument <code>day</code> and take the median
of that subset.</p>
<p>In order to get all of the data into a single data frame, we can use
the method we worked through earlier using <code>list.files()</code> and
<code>rbind()</code>.</p>
<p>Essentially, these are all things that we’ve done in this example.
Now we just need to combine them into a single function.</p>
<p>So what does the function look like?</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>weightmedian <span class="ot">&lt;-</span> <span class="cf">function</span>(directory, day) {</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    files_list <span class="ot">&lt;-</span> <span class="fu">list.files</span>(directory, <span class="at">full.names =</span> <span class="cn">TRUE</span>)  <span class="co">#creates a list of files</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()  <span class="co">#creates an empty data frame</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># loops through the files, rbinding them together</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        dat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat, <span class="fu">read.csv</span>(files_list[i]))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    dat_subset <span class="ot">&lt;-</span> dat[<span class="fu">which</span>(dat[, <span class="st">&quot;Day&quot;</span>] <span class="sc">==</span> day), ]  <span class="co">#subsets the rows that match the &#39;day&#39; argument</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">median</span>(dat_subset[, <span class="st">&quot;Weight&quot;</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co">#identifies the median weight </span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># while stripping out the NAs</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>You can test this function by running it a few different times:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">weightmedian</span>(<span class="at">directory =</span> <span class="st">&quot;2_data/diet_data&quot;</span>, <span class="at">day =</span> <span class="dv">20</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">197.5</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">weightmedian</span>(<span class="st">&quot;2_data/diet_data&quot;</span>, <span class="dv">4</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">188</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">weightmedian</span>(<span class="st">&quot;2_data/diet_data&quot;</span>, <span class="dv">17</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">198</span></span></code></pre></div>
<p>Hopefully, this has given you some practice applying the basic
concepts from weeks 1 and 2. If you can work your way through this
example, you should have all of the tools needed to complete part 1 of
assignment 1. Parts 2 and 3 are really just expanding on the same basic
concepts, potentially adding in some ideas like cbinds and if-else.</p>
<hr />
<p>One last quick note: The approach I’m showing above for building the
data frame is submoptimal. It works, but generally speaking, you don’t
want to build data frames or vectors by copying and re-copying them
inside of a loop. If you’ve got a lot of data it can become very, very
slow. However, this tutorial is meant to provide an introduction to
these concepts, and you can use this approach successfully for
programming assignments 1 and 3.</p>
<p>If you’re interested in learning the better approach, check out
Hadley Wickam’s excellent material on functionals within R: <a
href="http://adv-r.had.co.nz/Functionals.html"
class="uri">http://adv-r.had.co.nz/Functionals.html</a>. But if you’re
new to both programming and R, I would skip it for now as it will just
confuse you. Come back and revisit it (and the rest of this section)
once you are able to write working functions using the approach
above.</p>
<p>However, for those of you that do want to see a better way to create
a dataframe….</p>
<p>The main issue with the approach above is growing an object inside of
loop by copying and recopying it. It works, but it’s slow and if you’ve
got a lot of data, it will probably cause issues. The better approach is
to create an output object of an appropriate size and then fill it
up.</p>
<p>So the first thing we do is create an empty list that’s the length of
our expected output. In this case, our input object is going to be
<code>files_full</code> and our empty list is going to be
<code>tmp</code>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(files_full)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>   Length     Class      Mode </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>        <span class="dv">5</span> character character </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">&quot;list&quot;</span>, <span class="at">length =</span> <span class="fu">length</span>(files_full))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(tmp)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>     Length Class  Mode</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,] <span class="dv">0</span>      <span class="sc">-</span>none<span class="sc">-</span> <span class="cn">NULL</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,] <span class="dv">0</span>      <span class="sc">-</span>none<span class="sc">-</span> <span class="cn">NULL</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,] <span class="dv">0</span>      <span class="sc">-</span>none<span class="sc">-</span> <span class="cn">NULL</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>,] <span class="dv">0</span>      <span class="sc">-</span>none<span class="sc">-</span> <span class="cn">NULL</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>,] <span class="dv">0</span>      <span class="sc">-</span>none<span class="sc">-</span> <span class="cn">NULL</span></span></code></pre></div>
<p>Now we need to read in those csv files and drop them into
<code>tmp</code>.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(files_full)) {</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>        tmp[[i]] <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(files_full[[i]])</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tmp)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>List of <span class="dv">5</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;David&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> ...</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">210</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">208</span> <span class="dv">208</span> <span class="dv">208</span> ...</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;John&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> ...</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> ...</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Mike&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> ...</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> ...</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Steve&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> ...</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">225</span> <span class="dv">225</span> <span class="dv">225</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> ...</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
<p>What we just did was read in each of the csv files and place them
inside of our list. Now we have a list of 5 elements called
<code>tmp</code>, where each element of the list is a data frame
containing one of the csv files. It just so happens that what we just
did is functionally identical to using <code>lapply</code>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">lapply</span>(files_full, read.csv))</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>List of <span class="dv">5</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;David&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> ...</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">210</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">208</span> <span class="dv">208</span> <span class="dv">208</span> ...</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;John&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> ...</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> ...</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Mike&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> ...</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> ...</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Steve&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> ...</span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">225</span> <span class="dv">225</span> <span class="dv">225</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> ...</span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
<p>This is part of the power of the apply family of functions. You don’t
have to worry about the “housekeeping” of looping, and instead you can
focus on the function you’re using. When you or somebody else comes back
weeks later and reads through your code, it’s easier to understand what
you were doing and why. If somebody says that the apply functions are
more “expressive”, this is what they mean.</p>
<p>Now we still need to go from a list to a single data frame, although
you <em>can</em> manipulate the data within this structure:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tmp[[<span class="dv">1</span>]])</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tmp[[<span class="dv">1</span>]][,<span class="st">&quot;Day&quot;</span>])</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span></span></code></pre></div>
<p>We can use a function called <code>do.call()</code> to combine
<code>tmp</code> into a single data frame. <code>do.call</code> lets you
specify a function and then passes a list as if each element of the list
were an argument to the function. The syntax is
<code>do.call(function_you_want_to_use, list_of_arguments)</code>. In
our case, we want to <code>rbind()</code> our list of data frames,
<code>tmp</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, tmp)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(output)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">150</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">5</span> levels <span class="st">&quot;Andy&quot;</span>,<span class="st">&quot;David&quot;</span>,..<span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
<p>This approach avoids all of the messy copying and recopying of the
data to build the final data frame. It’s much more “R-like” and works
quite a bit faster than our other approach.</p>
<hr />
<div id="session-info." class="section level1" number="1">
<h1><span class="header-section-number">1</span> Session Info.</h1>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>R version <span class="dv">3</span>.<span class="fl">6.3</span> (<span class="dv">2020-02-29</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>Platform<span class="sc">:</span> x86_64<span class="sc">-</span>pc<span class="sc">-</span>linux<span class="sc">-</span><span class="fu">gnu</span> (<span class="dv">64</span><span class="sc">-</span>bit)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>Running under<span class="sc">:</span> Ubuntu <span class="dv">18</span>.<span class="fl">04.6</span> LTS</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>Matrix products<span class="sc">:</span> default</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>BLAS<span class="sc">:</span>   <span class="er">/</span>usr<span class="sc">/</span>lib<span class="sc">/</span>x86_64<span class="sc">-</span>linux<span class="sc">-</span>gnu<span class="sc">/</span>blas<span class="sc">/</span>libblas.so.<span class="dv">3</span>.<span class="fl">7.1</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>LAPACK<span class="sc">:</span> <span class="er">/</span>usr<span class="sc">/</span>lib<span class="sc">/</span>x86_64<span class="sc">-</span>linux<span class="sc">-</span>gnu<span class="sc">/</span>lapack<span class="sc">/</span>liblapack.so.<span class="dv">3</span>.<span class="fl">7.1</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>locale<span class="sc">:</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] LC_CTYPE<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>       LC_NUMERIC<span class="ot">=</span>C              </span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a> [<span class="dv">3</span>] LC_TIME<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>        LC_COLLATE<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>    </span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] LC_MONETARY<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>    LC_MESSAGES<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>   </span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] LC_PAPER<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>       LC_NAME<span class="ot">=</span>C                 </span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] LC_ADDRESS<span class="ot">=</span>C               LC_TELEPHONE<span class="ot">=</span>C            </span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] LC_MEASUREMENT<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span> LC_IDENTIFICATION<span class="ot">=</span>C       </span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>attached base packages<span class="sc">:</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>other attached packages<span class="sc">:</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] plyr_1.<span class="fl">8.6</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>loaded via a <span class="fu">namespace</span> (and not attached)<span class="sc">:</span></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] Rcpp_1.<span class="fl">0.7</span>       formatR_1<span class="fl">.14</span>     pillar_1.<span class="fl">7.0</span>     compiler_3.<span class="fl">6.3</span>  </span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] bslib_0.<span class="fl">3.0</span>      jquerylib_0.<span class="fl">1.4</span>  tools_3.<span class="fl">6.3</span>      digest_0.<span class="fl">6.29</span>   </span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] jsonlite_1.<span class="fl">7.2</span>   evaluate_0<span class="fl">.19</span>    lifecycle_1.<span class="fl">0.3</span>  tibble_3.<span class="fl">1.8</span>    </span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>[<span class="dv">13</span>] gtable_0.<span class="fl">3.0</span>     lattice_0<span class="fl">.20</span><span class="dv">-45</span>  pkgconfig_2.<span class="fl">0.3</span>  rlang_1.<span class="fl">0.6</span>     </span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>[<span class="dv">17</span>] DBI_1.<span class="fl">1.1</span>        cli_3.<span class="fl">6.0</span>        rstudioapi_0<span class="fl">.13</span>  yaml_2.<span class="fl">2.1</span>      </span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>[<span class="dv">21</span>] xfun_0<span class="fl">.36</span>        fastmap_1.<span class="fl">1.0</span>    stringr_1.<span class="fl">4.0</span>    dplyr_1.<span class="fl">0.8</span>     </span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>[<span class="dv">25</span>] httr_1.<span class="fl">4.2</span>       knitr_1<span class="fl">.41</span>       sass_0.<span class="fl">4.0</span>       generics_0.<span class="fl">1.2</span>  </span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>[<span class="dv">29</span>] vctrs_0.<span class="fl">5.2</span>      grid_3.<span class="fl">6.3</span>       tidyselect_1.<span class="fl">2.0</span> glue_1.<span class="fl">6.2</span>      </span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>[<span class="dv">33</span>] R6_2.<span class="fl">5.1</span>         fansi_1.<span class="fl">0.2</span>      rmarkdown_2<span class="fl">.11</span>   ggplot2_3.<span class="fl">3.5</span>   </span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>[<span class="dv">37</span>] magrittr_2.<span class="fl">0.2</span>   scales_1.<span class="fl">1.1</span>     ellipsis_0.<span class="fl">3.2</span>   htmltools_0.<span class="fl">5.2</span> </span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>[<span class="dv">41</span>] assertthat_0.<span class="fl">2.1</span> colorspace_2<span class="fl">.0</span><span class="dv">-3</span> utf8_1.<span class="fl">2.2</span>       stringi_1.<span class="fl">7.6</span>   </span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>[<span class="dv">45</span>] munsell_0.<span class="fl">5.0</span>    crayon_1.<span class="fl">5.0</span>    </span></code></pre></div>
<hr />
</div>

<div style="width: 100%; padding: 10px; box-sizing: border-box; text-align: justify; border: 1px solid gray;">
  <p style="font-family: 'Playfair Display', serif; font-style: italic;">Copyright &copy; 2020 por <b>Christian A. Karanicolas</b>.  Todos los derechos reservados.  La elaboración de este sitio ha tenido como fuente principal de información el curso de <b>Especialización en Ciencias de Datos</b> brindado por la <b>Johns Hopkins University</b> a través de <b>Coursera</b>.</p>
</div>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap');
</style>


<!--
<p style="font-family: 'Playfair Display', serif; font-style: italic;">Copyright &copy; 2020 por <b>Christian A. Karanicolas</b>.  Todos los derechos reservados.  La elaboración de este sitio ha tenido como fuente principal de información el curso de <b>Especialización en Ciencias de Datos</b> brindado por la <b>Johns Hopkins University</b> a través de <b>Coursera</b>.</p>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap');
</style>
-->


<!--
<p style="font-style: italic;">Copyright &copy; 2020 por <b>Christian A. Karanicolas</b>.  Todos los derechos reservados.  La elaboración de este sitio ha tenido como fuente principal de información el curso de <b>Especialización en Ciencias de Datos</b> brindado por la <b>Johns Hopkins University</b> a través de <b>Coursera</b>.</p>
-->




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
