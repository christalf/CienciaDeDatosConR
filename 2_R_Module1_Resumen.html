<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R Programming - Module 1</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Aprendiendo ciencia de datos con R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-hand-spock"></span>
     
    Resumen del contenido
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bars"></span>
     
    Contenido
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Data Science Toolbox</li>
    <li class="divider"></li>
    <li>
      <a href="1_DataScienceToolBox_Resumen.html">Módulo único</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">R</li>
    <li class="divider"></li>
    <li>
      <a href="2_R_Module1_Resumen.html">Módulo 1</a>
    </li>
    <li>
      <a href="2_R_Module2_Resumen.html">Módulo 2</a>
    </li>
    <li>
      <a href="2_R_Module2_ProgAssmt_PrevPract.html">_práctica</a>
    </li>
    <li>
      <a href="2_R_Module2_ProgAssmt.html">_ejercicio</a>
    </li>
    <li>
      <a href="2_R_Module3_Resumen.html">Módulo 3</a>
    </li>
    <li>
      <a href="2_R_Module3_ProgAssmt.html">_ejercicio</a>
    </li>
    <li>
      <a href="2_R_Module4_Resumen.html">Módulo 4</a>
    </li>
    <li>
      <a href="2_R_Module4_ProgAssmt.html">Ejercicio final</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Getting &amp; Cleaning Data</li>
    <li class="divider"></li>
    <li>
      <a href="3_GettingAndCleaningData_Module1_Resumen.html">Módulo 1</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module2_Resumen.html">Módulo 2</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module2_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module3_Resumen.html">Módulo 3</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module3_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module4.html">Módulo 4</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_Module4_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="3_GettingAndCleaningData_FinalProj.html">Proyecto final</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Exploratory Data Analysis</li>
    <li class="divider"></li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module1.html">Módulo 1</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module1_Ejercicios.html">_ejercicios</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module2.html">Módulo 2</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module3.html">Módulo 3</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_Module4.html">Módulo 4</a>
    </li>
    <li>
      <a href="4_ExploratoryDataAnalysis_FinalProj.html">Proyecto final</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Reproducible Research</li>
    <li class="divider"></li>
    <li>
      <a href="5_ReproducibleResearch_Module1.html">Módulo 1</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_Module2.html">Módulo 2</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_Module3.html">Módulo 3</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_Module4.html">Módulo 4</a>
    </li>
    <li>
      <a href="5_ReproducibleResearch_FinalProj.html">Proyectos finales</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html">
    <span class="fa fa-gears"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">R Programming - Module 1</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#help." id="toc-help."><span
class="toc-section-number">1</span> Help.</a></li>
<li><a href="#low-level-interface-to-the-computer-file-system."
id="toc-low-level-interface-to-the-computer-file-system."><span
class="toc-section-number">2</span> Low Level Interface to the Computer
File System.</a>
<ul>
<li><a href="#using-file.path." id="toc-using-file.path."><span
class="toc-section-number">2.1</span> Using
<code>file.path()</code>.</a></li>
<li><a href="#using-file.names-with-full.names-parameter."
id="toc-using-file.names-with-full.names-parameter."><span
class="toc-section-number">2.2</span> Using <code>file.names()</code>
with <code>full.names</code> parameter.</a></li>
</ul></li>
<li><a href="#summary-of-builtin-data-types-in-r."
id="toc-summary-of-builtin-data-types-in-r."><span
class="toc-section-number">3</span> Summary of builtin-data types in
R.</a></li>
<li><a href="#atomic-classes." id="toc-atomic-classes."><span
class="toc-section-number">4</span> Atomic classes.</a></li>
<li><a
href="#functions-to-see-r-objects-attributes-shape-size-and-structure."
id="toc-functions-to-see-r-objects-attributes-shape-size-and-structure."><span
class="toc-section-number">5</span> Functions to see R object’s
attributes, shape, size and structure.</a></li>
<li><a href="#vectors." id="toc-vectors."><span
class="toc-section-number">6</span> Vectors.</a>
<ul>
<li><a href="#two-basic-functions-for-creating-vectors."
id="toc-two-basic-functions-for-creating-vectors."><span
class="toc-section-number">6.1</span> Two basic functions for creating
vectors.</a>
<ul>
<li><a href="#combine-values-into-a-vector-c-function."
id="toc-combine-values-into-a-vector-c-function."><span
class="toc-section-number">6.1.1</span> Combine values into a vector:
<code>c()</code> function.</a></li>
<li><a
href="#produce-an-empty-vector-of-a-given-class-and-length-vector-function."
id="toc-produce-an-empty-vector-of-a-given-class-and-length-vector-function."><span
class="toc-section-number">6.1.2</span> Produce an empty vector of a
given class and length: <code>vector()</code> function.</a></li>
</ul></li>
<li><a href="#numeric-vectors." id="toc-numeric-vectors."><span
class="toc-section-number">6.2</span> Numeric vectors.</a>
<ul>
<li><a href="#colon-operator." id="toc-colon-operator."><span
class="toc-section-number">6.2.1</span> Colon operator.</a>
<ul>
<li><a href="#an-integer-sequence." id="toc-an-integer-sequence."><span
class="toc-section-number">6.2.1.1</span> An integer sequence.</a></li>
<li><a href="#a-real-number-sequence."
id="toc-a-real-number-sequence."><span
class="toc-section-number">6.2.1.2</span> A real number
sequence.</a></li>
<li><a href="#decreasing-sequences."
id="toc-decreasing-sequences."><span
class="toc-section-number">6.2.1.3</span> Decreasing sequences.</a></li>
<li><a href="#nth-length-sequence-length-function."
id="toc-nth-length-sequence-length-function."><span
class="toc-section-number">6.2.1.4</span> <em>nth</em> length sequence:
<code>length()</code> function.</a></li>
</ul></li>
<li><a href="#the-more-flexible-seq-function."
id="toc-the-more-flexible-seq-function."><span
class="toc-section-number">6.2.2</span> The more flexible
<code>seq()</code> function.</a></li>
<li><a href="#the-useful-seq_along-function."
id="toc-the-useful-seq_along-function."><span
class="toc-section-number">6.2.3</span> The useful
<code>seq_along()</code> function.</a></li>
<li><a href="#the-rep-function." id="toc-the-rep-function."><span
class="toc-section-number">6.2.4</span> The <code>rep()</code>
function.</a></li>
</ul></li>
<li><a href="#character-vectors." id="toc-character-vectors."><span
class="toc-section-number">6.3</span> Character vectors.</a>
<ul>
<li><a href="#paste-function." id="toc-paste-function."><span
class="toc-section-number">6.3.1</span> <code>paste()</code>
function.</a></li>
</ul></li>
<li><a href="#creating-vectors-from-lists-with-do.call-function."
id="toc-creating-vectors-from-lists-with-do.call-function."><span
class="toc-section-number">6.4</span> Creating vectors from lists with
<code>do.call()</code> function.</a></li>
</ul></li>
<li><a href="#matrices." id="toc-matrices."><span
class="toc-section-number">7</span> Matrices.</a>
<ul>
<li><a href="#direct-creation-of-matrices-with-matrix-function."
id="toc-direct-creation-of-matrices-with-matrix-function."><span
class="toc-section-number">7.1</span> Direct creation of matrices with
<code>matrix()</code> function.</a></li>
<li><a
href="#transforming-a-vector-into-a-matrix-by-assigning-dim-attribute."
id="toc-transforming-a-vector-into-a-matrix-by-assigning-dim-attribute."><span
class="toc-section-number">7.2</span> Transforming a vector into a
matrix by assigning <code>dim</code> attribute.</a></li>
<li><a href="#binding-vectors-with-cbind-and-rbind-functions."
id="toc-binding-vectors-with-cbind-and-rbind-functions."><span
class="toc-section-number">7.3</span> Binding vectors with
<code>cbind()</code> and <code>rbind()</code> functions.</a></li>
<li><a href="#creating-matrices-from-lists-with-do.call-function."
id="toc-creating-matrices-from-lists-with-do.call-function."><span
class="toc-section-number">7.4</span> Creating matrices from lists with
<code>do.call()</code> function.</a></li>
</ul></li>
<li><a href="#coercion." id="toc-coercion."><span
class="toc-section-number">8</span> Coercion.</a>
<ul>
<li><a href="#implicit-coercion." id="toc-implicit-coercion."><span
class="toc-section-number">8.1</span> Implicit coercion.</a></li>
<li><a href="#explicit-coercion-as.-functions."
id="toc-explicit-coercion-as.-functions."><span
class="toc-section-number">8.2</span> Explicit coercion: as.*
functions.</a></li>
</ul></li>
<li><a href="#lists." id="toc-lists."><span
class="toc-section-number">9</span> Lists.</a>
<ul>
<li><a href="#list-function." id="toc-list-function."><span
class="toc-section-number">9.1</span> <code>list()</code>
function.</a></li>
<li><a href="#vectormode-list-length-10-function."
id="toc-vectormode-list-length-10-function."><span
class="toc-section-number">9.2</span>
<code>vector(mode = "list", length = 10)</code> function.</a></li>
</ul></li>
<li><a href="#factors." id="toc-factors."><span
class="toc-section-number">10</span> Factors.</a>
<ul>
<li><a href="#creating-factors-with-factor-and-gl-functions."
id="toc-creating-factors-with-factor-and-gl-functions."><span
class="toc-section-number">10.1</span> Creating factors with
<code>factor()</code> and <code>gl()</code> functions.</a></li>
<li><a href="#making-a-table-of-levels-frequency."
id="toc-making-a-table-of-levels-frequency."><span
class="toc-section-number">10.2</span> Making a table of levels
frequency.</a></li>
<li><a href="#seeing-the-underlying-representation-integers-of-factors."
id="toc-seeing-the-underlying-representation-integers-of-factors."><span
class="toc-section-number">10.3</span> Seeing the underlying
representation (integers) of factors.</a></li>
</ul></li>
<li><a href="#missing-values." id="toc-missing-values."><span
class="toc-section-number">11</span> Missing Values.</a>
<ul>
<li><a href="#functions-for-testing-missing-values-is.na-and-is.nan."
id="toc-functions-for-testing-missing-values-is.na-and-is.nan."><span
class="toc-section-number">11.1</span> Functions for testing missing
values: <code>is.na()</code> and <code>is.nan()</code>.</a></li>
</ul></li>
<li><a href="#data-frames." id="toc-data-frames."><span
class="toc-section-number">12</span> Data Frames.</a>
<ul>
<li><a href="#creating-a-data-frame-by-reading-in-a-dataset."
id="toc-creating-a-data-frame-by-reading-in-a-dataset."><span
class="toc-section-number">12.1</span> Creating a data frame by reading
in a dataset.</a></li>
<li><a
href="#creating-explicitly-a-data-frame-with-data.frame-function."
id="toc-creating-explicitly-a-data-frame-with-data.frame-function."><span
class="toc-section-number">12.2</span> Creating explicitly a data frame
with <code>data.frame()</code> function.</a></li>
<li><a href="#creating-a-new-data-frame-by-binding-other-data-frames."
id="toc-creating-a-new-data-frame-by-binding-other-data-frames."><span
class="toc-section-number">12.3</span> Creating a new data frame by
binding other data frames.</a>
<ul>
<li><a href="#row-binding-data-frames."
id="toc-row-binding-data-frames."><span
class="toc-section-number">12.3.1</span> Row binding data
frames.</a></li>
<li><a
href="#row-binding-data-frames-from-a-list-with-do.call-function."
id="toc-row-binding-data-frames-from-a-list-with-do.call-function."><span
class="toc-section-number">12.3.2</span> Row-binding data frames from a
list, with <code>do.call()</code> function.</a></li>
<li><a href="#column-binding-data-frames."
id="toc-column-binding-data-frames."><span
class="toc-section-number">12.3.3</span> Column-binding data
frames.</a></li>
</ul></li>
<li><a href="#explicit-coercion-from-other-types-of-objects-like-lists."
id="toc-explicit-coercion-from-other-types-of-objects-like-lists."><span
class="toc-section-number">12.4</span> Explicit coercion from other
types of objects, like lists.</a></li>
<li><a href="#converting-a-data-frame-into-a-matrix."
id="toc-converting-a-data-frame-into-a-matrix."><span
class="toc-section-number">12.5</span> Converting a data frame into a
matrix.</a></li>
</ul></li>
<li><a href="#names-attribute." id="toc-names-attribute."><span
class="toc-section-number">13</span> Names Attribute.</a></li>
<li><a href="#reading-and-writing-data."
id="toc-reading-and-writing-data."><span
class="toc-section-number">14</span> Reading and Writing data.</a>
<ul>
<li><a href="#reading-tabular-data."
id="toc-reading-tabular-data."><span
class="toc-section-number">14.1</span> Reading tabular data.</a>
<ul>
<li><a href="#read.table-function." id="toc-read.table-function."><span
class="toc-section-number">14.1.1</span> <code>read.table()</code>
function.</a></li>
<li><a href="#read.csv-function." id="toc-read.csv-function."><span
class="toc-section-number">14.1.2</span> <code>read.csv()</code>
function.</a></li>
<li><a href="#a-common-problem-when-reading-files-with-tabular-data."
id="toc-a-common-problem-when-reading-files-with-tabular-data."><span
class="toc-section-number">14.1.3</span> A common problem when reading
files with tabular data.</a></li>
<li><a
href="#reading-large-tables-help-page-has-excellent-hints-and-complete-info."
id="toc-reading-large-tables-help-page-has-excellent-hints-and-complete-info."><span
class="toc-section-number">14.1.4</span> Reading <em>large tables</em>
(help page has excellent hints and complete info).</a></li>
</ul></li>
<li><a href="#reading-tabular-data-much-faster-from-readr-package."
id="toc-reading-tabular-data-much-faster-from-readr-package."><span
class="toc-section-number">14.2</span> Reading tabular data much faster
from readr package.</a></li>
<li><a href="#reading-and-convertingwriting-textual-data."
id="toc-reading-and-convertingwriting-textual-data."><span
class="toc-section-number">14.3</span> Reading and converting/writing
textual data.</a>
<ul>
<li><a href="#deparsing-and-parsing-textual-format-with-dput-and-dget."
id="toc-deparsing-and-parsing-textual-format-with-dput-and-dget."><span
class="toc-section-number">14.3.1</span> Deparsing and parsing textual
format with <code>dput()</code> and <code>dget()</code>.</a></li>
<li><a
href="#deparsing-and-parsing-textual-format-with-dump-and-source-"
id="toc-deparsing-and-parsing-textual-format-with-dump-and-source-"><span
class="toc-section-number">14.3.2</span> Deparsing and parsing textual
format with <code>dump()</code> and <code>source()</code>-</a></li>
</ul></li>
<li><a href="#reading-and-convertingwriting-binary-data."
id="toc-reading-and-convertingwriting-binary-data."><span
class="toc-section-number">14.4</span> Reading and converting/writing
binary data.</a>
<ul>
<li><a
href="#convertingwriting-and-reading-binary-format-with-save-and-load."
id="toc-convertingwriting-and-reading-binary-format-with-save-and-load."><span
class="toc-section-number">14.4.1</span> Converting/writing and reading
binary format with <code>save()</code> and <code>load()</code>.</a></li>
<li><a
href="#convertingwriting-and-reading-binary-format-with-save.image-and-load."
id="toc-convertingwriting-and-reading-binary-format-with-save.image-and-load."><span
class="toc-section-number">14.4.2</span> Converting/writing and reading
binary format with <code>save.image()</code> and
<code>load()</code>.</a></li>
<li><a href="#converting-to-binary-format-with-serialize-function."
id="toc-converting-to-binary-format-with-serialize-function."><span
class="toc-section-number">14.4.3</span> Converting to binary format
with <code>serialize()</code> function.</a></li>
</ul></li>
</ul></li>
<li><a
href="#reading-and-writing-lines-fromto-unstructured-or-non-standard-data-readlines-writelines."
id="toc-reading-and-writing-lines-fromto-unstructured-or-non-standard-data-readlines-writelines."><span
class="toc-section-number">15</span> Reading and writing Lines from/to
unstructured or non-standard data: <code>readLines()</code>,
<code>writeLines()</code>.</a></li>
<li><a href="#connections." id="toc-connections."><span
class="toc-section-number">16</span> Connections.</a>
<ul>
<li><a href="#file-connections." id="toc-file-connections."><span
class="toc-section-number">16.1</span> File connections.</a>
<ul>
<li><a href="#opening-and-closing-a-file-connection."
id="toc-opening-and-closing-a-file-connection."><span
class="toc-section-number">16.1.1</span> Opening and closing a file
connection.</a></li>
<li><a href="#behind-the-scene." id="toc-behind-the-scene."><span
class="toc-section-number">16.1.2</span> Behind the scene.</a></li>
<li><a href="#partial-reading-of-files."
id="toc-partial-reading-of-files."><span
class="toc-section-number">16.1.3</span> Partial reading of
files.</a></li>
</ul></li>
<li><a
href="#url-connections-url-function-using-the-connection-with-readlines."
id="toc-url-connections-url-function-using-the-connection-with-readlines."><span
class="toc-section-number">16.2</span> URL connections:
<code>url()</code> function, using the connection with
<code>readLines()</code>.</a></li>
</ul></li>
<li><a href="#subsetting-r-objects."
id="toc-subsetting-r-objects."><span
class="toc-section-number">17</span> Subsetting R Objects.</a>
<ul>
<li><a href="#four-different-kinds-of-index-vectors"
id="toc-four-different-kinds-of-index-vectors"><span
class="toc-section-number">17.1</span> Four different kinds of index
vectors:</a></li>
<li><a href="#one-based-indexing." id="toc-one-based-indexing."><span
class="toc-section-number">17.2</span> ONE-BASED indexing.</a></li>
<li><a href="#subsetting-vectors-operator-."
id="toc-subsetting-vectors-operator-."><span
class="toc-section-number">17.3</span> Subsetting Vectors:
<code>operator [</code>.</a>
<ul>
<li><a
href="#positive-integer-indexes-sequences-and-arbitrary-index-vectors."
id="toc-positive-integer-indexes-sequences-and-arbitrary-index-vectors."><span
class="toc-section-number">17.3.1</span> Positive integer indexes:
sequences and arbitrary index vectors.</a></li>
<li><a href="#negative-indexes-to-exclude-elements."
id="toc-negative-indexes-to-exclude-elements."><span
class="toc-section-number">17.3.2</span> Negative indexes to exclude
elements.</a></li>
<li><a href="#logical-index-vectors."
id="toc-logical-index-vectors."><span
class="toc-section-number">17.3.3</span> Logical index vectors.</a></li>
<li><a href="#character-index-vectors."
id="toc-character-index-vectors."><span
class="toc-section-number">17.3.4</span> Character index
vectors.</a></li>
</ul></li>
<li><a href="#subsetting-matrices-operator-."
id="toc-subsetting-matrices-operator-."><span
class="toc-section-number">17.4</span> Subsetting Matrices:
<code>operator [</code>.</a>
<ul>
<li><a
href="#exceptional-dropping-default-behaviour-of-operator-.-the-drop-parameter."
id="toc-exceptional-dropping-default-behaviour-of-operator-.-the-drop-parameter."><span
class="toc-section-number">17.4.1</span> Exceptional dropping default
behaviour of <code>operator [</code>. The <code>drop</code>
parameter.</a></li>
</ul></li>
<li><a href="#subsetting-lists-operator-operator-and-operator-."
id="toc-subsetting-lists-operator-operator-and-operator-."><span
class="toc-section-number">17.5</span> Subsetting Lists:
<code>operator [</code>, <code>operator [[</code> and
<code>operator $</code>.</a></li>
<li><a href="#subsetting-nested-elements-from-a-list-operator-."
id="toc-subsetting-nested-elements-from-a-list-operator-."><span
class="toc-section-number">17.6</span> Subsetting nested elements from a
list: <code>operator [[</code>.</a></li>
<li><a href="#subsetting-multiple-elements-from-a-list-operator-."
id="toc-subsetting-multiple-elements-from-a-list-operator-."><span
class="toc-section-number">17.7</span> Subsetting multiple elements from
a list: <code>operator [</code>.</a></li>
<li><a href="#partial-matching-operator-and-operator-."
id="toc-partial-matching-operator-and-operator-."><span
class="toc-section-number">17.8</span> Partial matching:
<code>operator [[</code> and <code>operator $</code>.</a></li>
</ul></li>
<li><a href="#removing-na-values." id="toc-removing-na-values."><span
class="toc-section-number">18</span> Removing NA values.</a>
<ul>
<li><a href="#basic-technique." id="toc-basic-technique."><span
class="toc-section-number">18.1</span> Basic technique.</a></li>
<li><a href="#using-the-is.na-function."
id="toc-using-the-is.na-function."><span
class="toc-section-number">18.2</span> Using the <code>is.na()</code>
function.</a></li>
<li><a href="#using-the-complete.cases-function."
id="toc-using-the-complete.cases-function."><span
class="toc-section-number">18.3</span> Using the
<code>complete.cases()</code> function.</a></li>
</ul></li>
<li><a href="#vectorized-operations."
id="toc-vectorized-operations."><span
class="toc-section-number">19</span> Vectorized Operations.</a>
<ul>
<li><a href="#arithmetic-operations-on-vectors---."
id="toc-arithmetic-operations-on-vectors---."><span
class="toc-section-number">19.1</span> Arithmetic operations on vectors
(+, -, *, /).</a></li>
<li><a href="#logical-comparisons-."
id="toc-logical-comparisons-."><span
class="toc-section-number">19.2</span> Logical comparisons (&gt;, &lt;,
&gt;=, &lt;=, ==).</a></li>
<li><a href="#matrix-operations." id="toc-matrix-operations."><span
class="toc-section-number">19.3</span> Matrix operations.</a></li>
<li><a href="#identical-function-against-logical-comparisons."
id="toc-identical-function-against-logical-comparisons."><span
class="toc-section-number">19.4</span> <code>identical()</code> function
against logical comparisons.</a></li>
</ul></li>
<li><a href="#applying-basic-operations-on-data-frames."
id="toc-applying-basic-operations-on-data-frames."><span
class="toc-section-number">20</span> Applying basic operations on data
frames.</a>
<ul>
<li><a href="#inspecting-a-data-frame."
id="toc-inspecting-a-data-frame."><span
class="toc-section-number">20.1</span> Inspecting a data frame.</a>
<ul>
<li><a href="#which-variables-does-it-have-how-many-observations"
id="toc-which-variables-does-it-have-how-many-observations"><span
class="toc-section-number">20.1.1</span> Which variables does it have?;
How many observations?</a></li>
<li><a href="#seeing-the-few-first-or-few-last-observations."
id="toc-seeing-the-few-first-or-few-last-observations."><span
class="toc-section-number">20.1.2</span> Seeing the few first or few
last observations.</a></li>
<li><a href="#summary-of-all-variables-summary"
id="toc-summary-of-all-variables-summary"><span
class="toc-section-number">20.1.3</span> Summary of all variables:
<code>summary()</code></a></li>
<li><a
href="#the-most-complete-set-of-information-about-an-r-object-at-once-str."
id="toc-the-most-complete-set-of-information-about-an-r-object-at-once-str."><span
class="toc-section-number">20.1.4</span> The most complete set of
information about an R Object at once: <code>str()</code>.</a></li>
</ul></li>
<li><a
href="#subsetting-sorting-ordering-and-combining-data-to-obtain-a-tidy-data-frame.-a-first-approach."
id="toc-subsetting-sorting-ordering-and-combining-data-to-obtain-a-tidy-data-frame.-a-first-approach."><span
class="toc-section-number">20.2</span> Subsetting, sorting, ordering and
combining data to obtain a tidy data frame. A first approach.</a>
<ul>
<li><a href="#simulating-an-untidy-dataset."
id="toc-simulating-an-untidy-dataset."><span
class="toc-section-number">20.2.1</span> Simulating an untidy
dataset.</a></li>
<li><a href="#subsetting-a-data-frame."
id="toc-subsetting-a-data-frame."><span
class="toc-section-number">20.2.2</span> Subsetting a data frame.</a>
<ul>
<li><a
href="#subset-a-specific-range-of-variables-or-observations-or-both-by-indexing-with-operator-c-and-seq."
id="toc-subset-a-specific-range-of-variables-or-observations-or-both-by-indexing-with-operator-c-and-seq."><span
class="toc-section-number">20.2.2.1</span> Subset a <em>specific
range</em> of <em>variables</em> or <em>observations</em> or
<em>both</em> by indexing with <code>operator :</code>, <code>c()</code>
and <code>seq()</code>.</a></li>
<li><a
href="#subset-a-single-observation-theres-no-default-dropping-behaviour."
id="toc-subset-a-single-observation-theres-no-default-dropping-behaviour."><span
class="toc-section-number">20.2.2.2</span> Subset a <em>single
observation</em>: there’s <strong>NO default dropping</strong>
behaviour.</a></li>
<li><a
href="#subset-a-single-variable-heres-the-default-dropping-behaviour-from-data.frame-to-vector-unless-setting-drop-parameter."
id="toc-subset-a-single-variable-heres-the-default-dropping-behaviour-from-data.frame-to-vector-unless-setting-drop-parameter."><span
class="toc-section-number">20.2.2.3</span> Subset a <em>single
variable</em>: here’s the <strong>default dropping behaviour</strong>
from <code>data.frame</code> to <code>vector</code>, unless setting
<code>drop</code> parameter.</a></li>
<li><a
href="#subset-observations-that-meet-a-condition-set-by-logical-statements-on-variables."
id="toc-subset-observations-that-meet-a-condition-set-by-logical-statements-on-variables."><span
class="toc-section-number">20.2.2.4</span> Subset <em>observations</em>
that <em>meet a condition</em> set by <em>logical statements on
variables</em>.</a></li>
<li><a
href="#subset-observations-based-on-multiple-queries-on-the-values-of-more-than-one-variable-operators-and-."
id="toc-subset-observations-based-on-multiple-queries-on-the-values-of-more-than-one-variable-operators-and-."><span
class="toc-section-number">20.2.2.5</span> Subset <em>observations</em>
based on multiple queries (on the values of more than one variable):
operators <code>&amp;</code> and <code>|</code>.</a></li>
<li><a
href="#subset-observations-based-on-multiple-queries-on-the-alternative-values-of-the-same-variable-operator-in."
id="toc-subset-observations-based-on-multiple-queries-on-the-alternative-values-of-the-same-variable-operator-in."><span
class="toc-section-number">20.2.2.6</span> Subset <em>observations</em>
based on multiple queries (on the alternative values of the same
variable): operator <code>%in%</code>.</a></li>
<li><a
href="#subset-observations-that-meet-a-condition-set-by-the-which-statement.-an-important-difference-in-terms-of-missing-values."
id="toc-subset-observations-that-meet-a-condition-set-by-the-which-statement.-an-important-difference-in-terms-of-missing-values."><span
class="toc-section-number">20.2.2.7</span> Subset <em>observations</em>
that <em>meet a condition</em> set by the <em><code>which()</code>
statement</em>. An important difference in terms of missing
values.</a></li>
<li><a
href="#subset-observations-using-subset-function.-only-for-interactive-use."
id="toc-subset-observations-using-subset-function.-only-for-interactive-use."><span
class="toc-section-number">20.2.2.8</span> Subset <em>observations</em>
using <code>subset()</code> function. Only for interactive use.</a></li>
<li><a href="#dealing-with-missing-values."
id="toc-dealing-with-missing-values."><span
class="toc-section-number">20.2.2.9</span> Dealing with <em>missing
values</em>.</a>
<ul>
<li><a
href="#how-many-missing-values-does-a-variable-have-count-is.nas-summary."
id="toc-how-many-missing-values-does-a-variable-have-count-is.nas-summary."><span
class="toc-section-number">20.2.2.9.1</span> How many missing values
does a variable have?: count <code>is.na()</code>’s,
<code>summary()</code>.</a></li>
<li><a
href="#subset-a-variable-without-missing-values-is.na-as-logical-index-vector."
id="toc-subset-a-variable-without-missing-values-is.na-as-logical-index-vector."><span
class="toc-section-number">20.2.2.9.2</span> Subset a <em>variable</em>
<strong>without</strong> <em>missing values</em>: <code>!is.na()</code>
as logical index vector.</a></li>
<li><a
href="#subset-observations-without-missing-values-in-a-certain-variable-again-is.na-as-logical-row-index-vector."
id="toc-subset-observations-without-missing-values-in-a-certain-variable-again-is.na-as-logical-row-index-vector."><span
class="toc-section-number">20.2.2.9.3</span> Subset
<em>observations</em> <strong>without</strong> <em>missing values in a
certain variable</em>: again <code>!is.na()</code> as logical row index
vector.</a></li>
<li><a
href="#subset-observations-without-missing-values-in-any-variable-complete.cases-as-logical-row-index-vector."
id="toc-subset-observations-without-missing-values-in-any-variable-complete.cases-as-logical-row-index-vector."><span
class="toc-section-number">20.2.2.9.4</span> Subset
<em>observations</em> <strong>without</strong> <em>missing values in any
variable</em>: <code>complete.cases()</code> as logical row index
vector.</a></li>
<li><a
href="#subset-observations-without-missing-values-in-the-variables-involved-in-the-subsetting-logical-condition-which-and-subset."
id="toc-subset-observations-without-missing-values-in-the-variables-involved-in-the-subsetting-logical-condition-which-and-subset."><span
class="toc-section-number">20.2.2.9.5</span> Subset
<em>observations</em> <strong>without</strong> <em>missing values in the
variables involved in the subsetting logical condition</em>:
<code>which()</code> and <code>subset()</code>.</a></li>
</ul></li>
</ul></li>
<li><a href="#sorting-and-ordering."
id="toc-sorting-and-ordering."><span
class="toc-section-number">20.2.3</span> Sorting and Ordering.</a>
<ul>
<li><a href="#sorting-values-of-a-vector-sort-function."
id="toc-sorting-values-of-a-vector-sort-function."><span
class="toc-section-number">20.2.3.1</span> Sorting values of a vector:
<code>sort()</code> function.</a></li>
<li><a
href="#ordering-observations-of-a-data-frame-by-an-ordering-variable-using-the-order-function-as-a-row-indexing-function."
id="toc-ordering-observations-of-a-data-frame-by-an-ordering-variable-using-the-order-function-as-a-row-indexing-function."><span
class="toc-section-number">20.2.3.2</span> Ordering
<em>observations</em> of a data frame <em>by an ordering variable</em>
using the <code>order()</code> function as a row indexing
function.</a></li>
<li><a
href="#ordering-a-data-frame-using-plyr-package-arrange-function."
id="toc-ordering-a-data-frame-using-plyr-package-arrange-function."><span
class="toc-section-number">20.2.3.3</span> Ordering a data frame using
<code>plyr</code> package: <code>arrange()</code> function.</a></li>
</ul></li>
<li><a
href="#combining-data-addingremoving-columns-and-rows-tofrom-data-frames."
id="toc-combining-data-addingremoving-columns-and-rows-tofrom-data-frames."><span
class="toc-section-number">20.2.4</span> Combining data: adding/removing
columns and rows to/from data frames.</a>
<ul>
<li><a
href="#adding-a-column-by-just-directly-assigning-a-vector-to-a-new-data-frame-variable."
id="toc-adding-a-column-by-just-directly-assigning-a-vector-to-a-new-data-frame-variable."><span
class="toc-section-number">20.2.4.1</span> Adding a <em>column</em> by
<em>just directly assigning</em> a vector to a new data frame
variable.</a></li>
<li><a href="#removing-a-column-by-just-setting-it-to-null."
id="toc-removing-a-column-by-just-setting-it-to-null."><span
class="toc-section-number">20.2.4.2</span> Removing a <em>column</em> by
<em>just setting it to <code>NULL</code></em>.</a></li>
<li><a href="#removing-specific-rows-by-subsetting-all-the-other-rows."
id="toc-removing-specific-rows-by-subsetting-all-the-other-rows."><span
class="toc-section-number">20.2.4.3</span> Removing <em>specific
rows</em> by <em>subsetting all the other rows</em>.</a></li>
<li><a href="#adding-columns-and-rows-with-cbind-and-rbind."
id="toc-adding-columns-and-rows-with-cbind-and-rbind."><span
class="toc-section-number">20.2.4.4</span> Adding columns and rows with
<code>cbind()</code> and <code>rbind()</code>.</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#session-info." id="toc-session-info."><span
class="toc-section-number">21</span> Session Info.</a></li>
</ul>
</div>

<hr />
<div id="help." class="section level1" number="1">
<h1><span class="header-section-number">1</span> Help.</h1>
<pre><code>     ?function_name
     
     ?&quot;operator&quot;</code></pre>
<hr />
</div>
<div id="low-level-interface-to-the-computer-file-system."
class="section level1" number="2">
<h1><span class="header-section-number">2</span> Low Level Interface to
the Computer File System.</h1>
<pre><code>dir() or list.files()       # See use of list.files() below.

ls()                        # list of objects in RAM workspace.  
rm()                        # removes objects from RAM workspace.

getwd()  
setwd()

dir.create()  
file.create()

file.exists()               # useful when looping throug files and doing some processing on them.  
dir.exists()

file.info()
    file.info()$mode  
    file.info()$size  
    file.info()$isdir  
    file.info()$uid  
    file.info()$gid  
    file.info()$uname  
    file.info()$grname

file.rename(from, to)  
file.remove()               # removes files and EMPTY directories
unlink()                    # removes files and directories (use recursive=TRUE to delete
                              all subdirectories also)
file.copy(from, to)

file.path()                              # for constructing relative paths.
list.files(directory, full.names = TRUE)    # also contructs releative paths: returns all files
                                            # names in directory, prepending the directory name.
basename()                               # basename removes all of the path up to and including
                                           the last path separator (if any).
dirname()                                # dirname returns the part of the path up to but excluding
                                           the last path separator, or &quot;.&quot; if there is no path
                                           separator.
</code></pre>
<div id="using-file.path." class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Using
<code>file.path()</code>.</h2>
<p>We can use file.path to construct file and directory paths that are
independent of the operating system where R code is running on.</p>
<p>For example, passing “folder1”, “folder2” and “someFile.ext” as
arguments,<code>file.path()</code> makes a
<strong>platform-independent</strong> pathname:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">file.path</span>(<span class="st">&#39;folder1&#39;</span>, <span class="st">&#39;folder2&#39;</span>, <span class="st">&quot;someFile.ext&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;folder1/folder2/someFile.ext&quot;</span></span></code></pre></div>
<p>So, we can give a platform-independent <strong>pathname to
dir.create()</strong> to create directories and subdirectories (we must
SET <strong>recursive</strong> parameter of dir.create to
<strong>TRUE</strong>):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="fu">file.path</span>(<span class="st">&#39;folder1&#39;</span>, <span class="st">&#39;folder2&#39;</span>), <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="using-file.names-with-full.names-parameter."
class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Using
<code>file.names()</code> with <code>full.names</code> parameter.</h2>
<p>If we need -and we <em>will</em>- to <strong>read all files from a
directory</strong> (tipically, csv files containing the dataset we are
working with), <code>file.names()</code> becomes more useful than
<code>file.path()</code> because:</p>
<ul>
<li><code>file.names()</code> gives us at once a character vector with
all the file names inside the specified directory.<br />
</li>
<li>and, if we set to TRUE the <code>full.names</code> parameter,
<code>file.names()</code> will return a character vector with all the
relative paths to each file (file names prepended with the directory
name).</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>file_paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;2_TestingFolder&quot;</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>file_paths</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>  <span class="st">&quot;2_TestingFolder/David.csv&quot;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>] <span class="st">&quot;2_TestingFolder/John.csv&quot;</span>  <span class="st">&quot;2_TestingFolder/Mike.csv&quot;</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>] <span class="st">&quot;2_TestingFolder/Steve.csv&quot;</span></span></code></pre></div>
<p>We can also combine <code>list.files()</code> with
<code>file.paths()</code>, like this and get the same thing:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>file_paths2 <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="st">&quot;2_TestingFolder&quot;</span>, <span class="fu">list.files</span>(<span class="st">&quot;2_TestingFolder&quot;</span>))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>file_paths2</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>  <span class="st">&quot;2_TestingFolder/David.csv&quot;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>] <span class="st">&quot;2_TestingFolder/John.csv&quot;</span>  <span class="st">&quot;2_TestingFolder/Mike.csv&quot;</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>] <span class="st">&quot;2_TestingFolder/Steve.csv&quot;</span></span></code></pre></div>
<hr />
</div>
</div>
<div id="summary-of-builtin-data-types-in-r." class="section level1"
number="3">
<h1><span class="header-section-number">3</span> Summary of builtin-data
types in R.</h1>
<blockquote>
<ul>
<li>atomic classes<br />
</li>
<li>vectors, lists<br />
</li>
<li>factors<br />
</li>
<li>missing values<br />
</li>
<li>matrices and data frames</li>
</ul>
</blockquote>
<hr />
</div>
<div id="atomic-classes." class="section level1" number="4">
<h1><span class="header-section-number">4</span> Atomic classes.</h1>
<blockquote>
<ol style="list-style-type: decimal">
<li>character<br />
</li>
<li>numeric (double precision real numbers, including
<strong><em>Inf</em></strong> and <strong><em>NaN</em></strong>)<br />
</li>
<li>integer<br />
</li>
<li>complex<br />
</li>
<li>logical<br />
</li>
<li>raw (we skip this in statistics)</li>
</ol>
</blockquote>
<hr />
</div>
<div
id="functions-to-see-r-objects-attributes-shape-size-and-structure."
class="section level1" number="5">
<h1><span class="header-section-number">5</span> Functions to see R
object’s attributes, shape, size and structure.</h1>
<pre><code>attributes()
class()
unclass()                           # underlying representation, see factors.

object.size()                       # space object occupies in memory.

# Functions that allow to both get or set an attribute of an R object:
    dim()
    nrow()                              # matrices, data frames.
    ncol()                              # matrices, data frames.
    names()
    colnames(), rownames(), dimnames()  # matrices, data frames.

summary()         # more detailed info about how data are distributed.
                  # - number of times each value (level) of categorical data (factors)
                      occurrs. This summary may be truncated including all not shown
                      levels in &quot;Others&quot;. To see all frequences of all levels of the
                      variable, type:
                          table(dataframeName$variableName)
                  # - min, 1Q, median, mean, 3Q, max of numerical data.
                  # - how many NAs there are.
                  
str()                      # shows the structure of an R object (including functions)
                           # THE BEST OF ALL, see module 4.

args()                     # shows the signature of functions.

head()                      # prints out the first few elements of an R object.
tail()                      # prints out the last few elements of an R object.
                            # (the second argument of both last functions, specifies
                            # the number of rows displayed -default is six-)</code></pre>
<hr />
</div>
<div id="vectors." class="section level1" number="6">
<h1><span class="header-section-number">6</span> Vectors.</h1>
<p>Vectors are the simplest and most common data structure in R.</p>
<p>Vectors do not have a dimension attribute, but a lenght
attribute.</p>
<ul>
<li><p>dim() function on a vector, returns NULL.</p></li>
<li><p>As we’ll see, if we give a dimension attribute to a vector, we
crate a matrix.</p></li>
</ul>
<div id="two-basic-functions-for-creating-vectors."
class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Two basic functions
for creating vectors.</h2>
<div id="combine-values-into-a-vector-c-function."
class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Combine values into
a vector: <code>c()</code> function.</h3>
<p>The <strong>“c”</strong> stands for <em>“concatenate”</em> or
<em>“combine”</em>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(c)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (...)  </span></code></pre></div>
<ul>
<li>If the arguments are of different classes, all of them are
<em>coerced</em> to a common type which is the type of the returned
value.</li>
</ul>
</div>
<div
id="produce-an-empty-vector-of-a-given-class-and-length-vector-function."
class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Produce an empty
vector of a given class and length: <code>vector()</code> function.</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(vector)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (<span class="at">mode =</span> <span class="st">&quot;logical&quot;</span>, <span class="at">length =</span> 0L)  </span></code></pre></div>
<ul>
<li><p><code>mode</code> allows to specify <em>an atomic class</em>
(<code>logical</code> is the default).</p></li>
<li><p><code>length</code> is of course the length of the
vector.</p></li>
</ul>
</div>
</div>
<div id="numeric-vectors." class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Numeric vectors.</h2>
<div id="colon-operator." class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Colon
operator.</h3>
<p>Colon operator, <code>:</code>, generates regular sequences
numbers.</p>
<div id="an-integer-sequence." class="section level4" number="6.2.1.1">
<h4><span class="header-section-number">6.2.1.1</span> An integer
sequence.</h4>
<p>Integer vector from 1 to 10, <strong>both included</strong>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">9</span> <span class="dv">10</span></span></code></pre></div>
</div>
<div id="a-real-number-sequence." class="section level4"
number="6.2.1.2">
<h4><span class="header-section-number">6.2.1.2</span> A real number
sequence.</h4>
<p>Real number vector:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> pi<span class="sc">:</span><span class="dv">10</span>    <span class="co"># upper limit 10 is never reached, since another increment of 1 would</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>y             <span class="co"># be greater than 10.</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">3.141593</span> <span class="fl">4.141593</span> <span class="fl">5.141593</span> <span class="fl">6.141593</span> <span class="fl">7.141593</span> <span class="fl">8.141593</span> <span class="fl">9.141593</span></span></code></pre></div>
</div>
<div id="decreasing-sequences." class="section level4" number="6.2.1.3">
<h4><span class="header-section-number">6.2.1.3</span> Decreasing
sequences.</h4>
<p>Integer sequence <strong>form 15 to 1</strong>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> <span class="dv">15</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>w</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">15</span> <span class="dv">14</span> <span class="dv">13</span> <span class="dv">12</span> <span class="dv">11</span> <span class="dv">10</span>  <span class="dv">9</span>  <span class="dv">8</span>  <span class="dv">7</span>  <span class="dv">6</span>  <span class="dv">5</span>  <span class="dv">4</span>  <span class="dv">3</span>  <span class="dv">2</span>  <span class="dv">1</span></span></code></pre></div>
</div>
<div id="nth-length-sequence-length-function." class="section level4"
number="6.2.1.4">
<h4><span class="header-section-number">6.2.1.4</span> <em>nth</em>
length sequence: <code>length()</code> function.</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
</div>
</div>
<div id="the-more-flexible-seq-function." class="section level3"
number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> The more flexible
<code>seq()</code> function.</h3>
<p><code>seq()</code>allows more control over a sequence.</p>
<pre><code>seq (from = 1, to = 1,
     by = ( (to - from) / (length.out - 1) ),
     length.out = NULL,
     along.with = NULL,
     ...)</code></pre>
<ul>
<li><code>from</code> and <code>to</code> are
<strong>integers</strong>.<br />
</li>
<li><code>by</code> can be <strong>any numeric value</strong>.
<ul>
<li>If <code>by</code> is **negative*, the sequence must be
<code>from</code> larger <code>to</code> smaller numbers.<br />
</li>
<li>Otherwise, a <em>sign error</em> is thrown.</li>
</ul></li>
</ul>
<p><strong>Typical usages</strong> are:</p>
<ul>
<li><p><code>seq(from, to)</code></p></li>
<li><p><code>seq(from, to, by= )</code></p></li>
<li><p><code>seq(from, to, length.out= )</code></p></li>
<li><p><code>seq(along.with= )</code></p></li>
<li><p><code>seq(from)</code></p></li>
<li><p><code>seq(length.out= )</code></p></li>
</ul>
<p>Let’s go ahead with a bunch of <strong>examples</strong>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">20</span>)                                  <span class="co"># same as 1:20</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">9</span> <span class="dv">10</span> <span class="dv">11</span> <span class="dv">12</span> <span class="dv">13</span> <span class="dv">14</span> <span class="dv">15</span> <span class="dv">16</span> <span class="dv">17</span> <span class="dv">18</span> <span class="dv">19</span> <span class="dv">20</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="fl">0.5</span>)      <span class="co"># we want increments by 0.5</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="fl">0.0</span>  <span class="fl">0.5</span>  <span class="fl">1.0</span>  <span class="fl">1.5</span>  <span class="fl">2.0</span>  <span class="fl">2.5</span>  <span class="fl">3.0</span>  <span class="fl">3.5</span>  <span class="fl">4.0</span>  <span class="fl">4.5</span>  <span class="fl">5.0</span>  <span class="fl">5.5</span>  <span class="fl">6.0</span>  <span class="fl">6.5</span>  <span class="fl">7.0</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">16</span>]  <span class="fl">7.5</span>  <span class="fl">8.0</span>  <span class="fl">8.5</span>  <span class="fl">9.0</span>  <span class="fl">9.5</span> <span class="fl">10.0</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">2</span>)        <span class="co"># first 10 odd numbers</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">7</span> <span class="dv">9</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">2</span>)        <span class="co"># first 10 even numbers</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">2</span>  <span class="dv">4</span>  <span class="dv">6</span>  <span class="dv">8</span> <span class="dv">10</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">2</span>, <span class="at">by =</span> <span class="dv">2</span>)        <span class="co"># error, positive &quot;by&quot; requires &quot;from&quot; smaller &quot;to&quot; larger.</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">seq.default</span>(<span class="dv">10</span>, <span class="dv">2</span>, <span class="at">by =</span> <span class="dv">2</span>)<span class="sc">:</span> wrong sign <span class="cf">in</span> <span class="st">&#39;by&#39;</span> argument</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">9</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">2</span>)        <span class="co"># first 10 odd numbers in decreasing order</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">9</span> <span class="dv">7</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">1</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">2</span>)        <span class="co"># error, negative &quot;by&quot; requires &quot;from&quot; larger &quot;to&quot; smaller.</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">seq.default</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">2</span>)<span class="sc">:</span> wrong sign <span class="cf">in</span> <span class="st">&#39;by&#39;</span> argument</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="at">length.out =</span> <span class="dv">30</span>)                 <span class="co"># we want 30 numbers between 5 and 10</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="fl">5.000000</span>  <span class="fl">5.172414</span>  <span class="fl">5.344828</span>  <span class="fl">5.517241</span>  <span class="fl">5.689655</span>  <span class="fl">5.862069</span>  <span class="fl">6.034483</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">8</span>]  <span class="fl">6.206897</span>  <span class="fl">6.379310</span>  <span class="fl">6.551724</span>  <span class="fl">6.724138</span>  <span class="fl">6.896552</span>  <span class="fl">7.068966</span>  <span class="fl">7.241379</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">15</span>]  <span class="fl">7.413793</span>  <span class="fl">7.586207</span>  <span class="fl">7.758621</span>  <span class="fl">7.931034</span>  <span class="fl">8.103448</span>  <span class="fl">8.275862</span>  <span class="fl">8.448276</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">22</span>]  <span class="fl">8.620690</span>  <span class="fl">8.793103</span>  <span class="fl">8.965517</span>  <span class="fl">9.137931</span>  <span class="fl">9.310345</span>  <span class="fl">9.482759</span>  <span class="fl">9.655172</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">29</span>]  <span class="fl">9.827586</span> <span class="fl">10.000000</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">along.with =</span> x)                         <span class="co"># the same as 1:length(x)</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
</div>
<div id="the-useful-seq_along-function." class="section level3"
number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> The useful
<code>seq_along()</code> function.</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">seq_along</span>(x)                       <span class="co"># the same as 1:length(x) and seq(along.with = x)</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
</div>
<div id="the-rep-function." class="section level3" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> The
<code>rep()</code> function.</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">0</span>, <span class="at">times =</span> <span class="dv">40</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">39</span>] <span class="dv">0</span> <span class="dv">0</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">times =</span> <span class="dv">10</span>)                 <span class="co"># repeates 10 times the vector</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">each =</span> <span class="dv">10</span>)                  <span class="co"># repeates 10 times eache element of the vector</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span> <span class="dv">3</span></span></code></pre></div>
</div>
</div>
<div id="character-vectors." class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Character
vectors.</h2>
<div id="paste-function." class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span>
<code>paste()</code> function.</h3>
<pre><code>- joins the elements of a character vector or multiple char vectors, into one string.</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>my_char <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;My&quot;</span>, <span class="st">&quot;name&quot;</span>, <span class="st">&quot;is&quot;</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="co"># &quot;collapse&quot; parameter to specify separator</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(my_char, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)    <span class="co"># when joining elements of a char vector.</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;My name is&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>my_name <span class="ot">&lt;-</span> <span class="fu">c</span>(my_char, <span class="st">&quot;Chris&quot;</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(my_name, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;My name is Chris&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>                                            <span class="co"># &quot;sep&quot; parameter to specify separator when</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>                                            <span class="co"># joining different char vectors (here, we</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                                            <span class="co"># join two char vectors of length 1, i.e.</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;world!&quot;</span>, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)         <span class="co"># two words).</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Hello world!&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>                                            <span class="co"># joins elements of two different vectors of</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="st">&quot;X&quot;</span>, <span class="st">&quot;Y&quot;</span>, <span class="st">&quot;Z&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)      <span class="co"># length 3 without space in between.</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;1X&quot;</span> <span class="st">&quot;2Y&quot;</span> <span class="st">&quot;3Z&quot;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># notice that the integer vector 1:3 is coerced into a char vector whose elements are then</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># joined with the elements of the other char vector.</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(LETTERS, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>)              <span class="co"># vectors with different lengths, recycling!</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;A-1&quot;</span> <span class="st">&quot;B-2&quot;</span> <span class="st">&quot;C-3&quot;</span> <span class="st">&quot;D-4&quot;</span> <span class="st">&quot;E-1&quot;</span> <span class="st">&quot;F-2&quot;</span> <span class="st">&quot;G-3&quot;</span> <span class="st">&quot;H-4&quot;</span> <span class="st">&quot;I-1&quot;</span> <span class="st">&quot;J-2&quot;</span> <span class="st">&quot;K-3&quot;</span> <span class="st">&quot;L-4&quot;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">13</span>] <span class="st">&quot;M-1&quot;</span> <span class="st">&quot;N-2&quot;</span> <span class="st">&quot;O-3&quot;</span> <span class="st">&quot;P-4&quot;</span> <span class="st">&quot;Q-1&quot;</span> <span class="st">&quot;R-2&quot;</span> <span class="st">&quot;S-3&quot;</span> <span class="st">&quot;T-4&quot;</span> <span class="st">&quot;U-1&quot;</span> <span class="st">&quot;V-2&quot;</span> <span class="st">&quot;W-3&quot;</span> <span class="st">&quot;X-4&quot;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">25</span>] <span class="st">&quot;Y-1&quot;</span> <span class="st">&quot;Z-2&quot;</span></span></code></pre></div>
</div>
</div>
<div id="creating-vectors-from-lists-with-do.call-function."
class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Creating vectors from
lists with <code>do.call()</code> function.</h2>
<p>This function executes a call of the function expected as first
parameter, with the <em>list</em> of arguments expected as second
parameter.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(do.call)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (what, args, <span class="at">quote =</span> <span class="cn">FALSE</span>, <span class="at">envir =</span> <span class="fu">parent.frame</span>())  </span></code></pre></div>
<p>So if we have a <em>list of numbers</em> or a <em>list of
characters</em>:</p>
<ul>
<li><p>We could <strong>create a vector</strong> from a those lists,
using the <code>do.call()</code> function and telling it to <em>excecute
the <code>c()</code> function</em> over those lists.</p></li>
<li><p><em>Explicit coertions</em> (such us <code>as.integer()</code>,
<code>as.numeric()</code>, <code>as.character()</code>, etc) applied
<strong>to lists</strong>, may result in <em>errors</em> or in
<em>unwanted outputs</em>.</p></li>
</ul>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we could have this list after some computation over a data frame, for instance.</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>num_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">3</span>, <span class="fl">2.8</span>, <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>num_list</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>]]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">2</span>]]</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">3</span>]]</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">2.8</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">4</span>]]</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">-</span><span class="dv">3</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># so we can assemble that list into a simpler numeric vector structure.</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>num_vec <span class="ot">&lt;-</span> <span class="fu">do.call</span>(c, num_list)</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(num_vec)</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;numeric&quot;</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>num_vec</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="fl">1.0</span>  <span class="fl">2.0</span>  <span class="fl">3.0</span>  <span class="fl">4.0</span>  <span class="fl">5.0</span>  <span class="fl">3.0</span>  <span class="fl">2.8</span> <span class="sc">-</span><span class="fl">3.0</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>num_vec <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(num_list)        <span class="co"># This gives an error.</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">eval</span>(expr, envir, enclos)<span class="sc">:</span> <span class="st">&#39;list&#39;</span> object cannot be coerced to type <span class="st">&#39;double&#39;</span></span></code></pre></div>
<p>Similarly:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>char_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;pippo&quot;</span>, <span class="fu">colnames</span>(<span class="fu">read.csv</span>(<span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>)))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>char_list</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>]]</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;pippo&quot;</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">2</span>]]</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Patient.Name&quot;</span> <span class="st">&quot;Age&quot;</span>          <span class="st">&quot;Weight&quot;</span>       <span class="st">&quot;Day&quot;</span>         </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>char_vec <span class="ot">&lt;-</span> <span class="fu">do.call</span>(c, char_list)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(char_vec)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;character&quot;</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>char_vec</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;pippo&quot;</span>        <span class="st">&quot;Patient.Name&quot;</span> <span class="st">&quot;Age&quot;</span>          <span class="st">&quot;Weight&quot;</span>       <span class="st">&quot;Day&quot;</span>         </span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>char_vec <span class="ot">&lt;-</span> <span class="fu">as.character</span>(char_list)    <span class="co"># This gives an unwanted result.</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(char_vec)</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;character&quot;</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>char_vec</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;pippo&quot;</span>                                            </span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>] <span class="st">&quot;c(</span><span class="sc">\&quot;</span><span class="st">Patient.Name</span><span class="sc">\&quot;</span><span class="st">, </span><span class="sc">\&quot;</span><span class="st">Age</span><span class="sc">\&quot;</span><span class="st">, </span><span class="sc">\&quot;</span><span class="st">Weight</span><span class="sc">\&quot;</span><span class="st">, </span><span class="sc">\&quot;</span><span class="st">Day</span><span class="sc">\&quot;</span><span class="st">)&quot;</span></span></code></pre></div>
<hr />
</div>
</div>
<div id="matrices." class="section level1" number="7">
<h1><span class="header-section-number">7</span> Matrices.</h1>
<p>Along with data frames, matrices represent “rectangular” data types,
meaning that they are used to store tabular data, with rows and
columns.</p>
<div id="direct-creation-of-matrices-with-matrix-function."
class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Direct creation of
matrices with <code>matrix()</code> function.</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(matrix)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (<span class="at">data =</span> <span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>, <span class="at">dimnames =</span> <span class="cn">NULL</span>)  </span></code></pre></div>
<ul>
<li><p>By default a 1x1 matrix with an NA value is cretated.</p></li>
<li><p>Matrices are <strong><em>constructed
“column-wise”</em></strong>.</p></li>
</ul>
</div>
<div
id="transforming-a-vector-into-a-matrix-by-assigning-dim-attribute."
class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Transforming a vector
into a matrix by assigning <code>dim</code> attribute.</h2>
<p>We can do this by just <strong>giving a dimension attribute</strong>
to a vector.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>m</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">4</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">7</span>  <span class="dv">8</span>  <span class="dv">9</span> <span class="dv">10</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>m</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">7</span>    <span class="dv">9</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">2</span>    <span class="dv">4</span>    <span class="dv">6</span>    <span class="dv">8</span>   <span class="dv">10</span></span></code></pre></div>
<ul>
<li><p><strong>Notice1:</strong> we modify the behavior of an object, in
this case we turn a vector into a matrix, by adding/modifying the
dimension attribute of the object.</p></li>
<li><p><strong>Notice2:</strong> we can see that a matrix is simply a
vector with a dimension attribute.</p></li>
</ul>
</div>
<div id="binding-vectors-with-cbind-and-rbind-functions."
class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Binding vectors with
<code>cbind()</code> and <code>rbind()</code> functions.</h2>
<p>Creating a matrix by <strong>column binding</strong>
-<code>cbind()</code>- or <strong>row binding</strong>
-<code>rbind()</code>- vectors.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(x, y)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>     x  y</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,] <span class="dv">1</span> <span class="dv">10</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,] <span class="dv">2</span> <span class="dv">11</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,] <span class="dv">3</span> <span class="dv">12</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(x, y)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>x    <span class="dv">1</span>    <span class="dv">2</span>    <span class="dv">3</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>y   <span class="dv">10</span>   <span class="dv">11</span>   <span class="dv">12</span></span></code></pre></div>
</div>
<div id="creating-matrices-from-lists-with-do.call-function."
class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> Creating matrices
from lists with <code>do.call()</code> function.</h2>
<p>If for some reason we end up with having a <strong>list of vectors of
the same lenght</strong>, it could be useful to make a matrix from
them.</p>
<p>Because these vectors are in a <em>list</em>, we can think of making
<code>do.call()</code> to call <code>cbind()</code> or
<code>rbind()</code> over that list.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>andy <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>vec_list <span class="ot">&lt;-</span> <span class="fu">list</span>(andy<span class="sc">$</span>Day, andy<span class="sc">$</span>Weight)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(vec_list)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>List of <span class="dv">2</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">do.call</span>(cbind, vec_list)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(m)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;matrix&quot;</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(m)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, vec_list)</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(m)</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;matrix&quot;</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(m)</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">140</span> <span class="dv">2</span> <span class="dv">140</span> <span class="dv">3</span> <span class="dv">140</span> <span class="dv">4</span> <span class="dv">139</span> <span class="dv">5</span> <span class="dv">138</span> ...</span></code></pre></div>
<hr />
</div>
</div>
<div id="coercion." class="section level1" number="8">
<h1><span class="header-section-number">8</span> Coercion.</h1>
<div id="implicit-coercion." class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Implicit
coercion.</h2>
<p>Occurs, among other cases, when:</p>
<ul>
<li><p>Creating a vector while mixing different types of
objects.</p></li>
<li><p>Adding a column of characters to a matrix of numbers (matrices
can only have one class of data).</p></li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>my_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>my_matrix</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>] [,<span class="dv">4</span>] [,<span class="dv">5</span>]</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">9</span>   <span class="dv">13</span>   <span class="dv">17</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">2</span>    <span class="dv">6</span>   <span class="dv">10</span>   <span class="dv">14</span>   <span class="dv">18</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,]    <span class="dv">3</span>    <span class="dv">7</span>   <span class="dv">11</span>   <span class="dv">15</span>   <span class="dv">19</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>,]    <span class="dv">4</span>    <span class="dv">8</span>   <span class="dv">12</span>   <span class="dv">16</span>   <span class="dv">20</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>patients <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Bill&quot;</span>, <span class="st">&quot;Gina&quot;</span>, <span class="st">&quot;Kelly&quot;</span>, <span class="st">&quot;Sean&quot;</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(patients, my_matrix)                         <span class="co"># matrix of characters!!</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>     patients                       </span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,] <span class="st">&quot;Bill&quot;</span>   <span class="st">&quot;1&quot;</span> <span class="st">&quot;5&quot;</span> <span class="st">&quot;9&quot;</span>  <span class="st">&quot;13&quot;</span> <span class="st">&quot;17&quot;</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,] <span class="st">&quot;Gina&quot;</span>   <span class="st">&quot;2&quot;</span> <span class="st">&quot;6&quot;</span> <span class="st">&quot;10&quot;</span> <span class="st">&quot;14&quot;</span> <span class="st">&quot;18&quot;</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,] <span class="st">&quot;Kelly&quot;</span>  <span class="st">&quot;3&quot;</span> <span class="st">&quot;7&quot;</span> <span class="st">&quot;11&quot;</span> <span class="st">&quot;15&quot;</span> <span class="st">&quot;19&quot;</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>,] <span class="st">&quot;Sean&quot;</span>   <span class="st">&quot;4&quot;</span> <span class="st">&quot;8&quot;</span> <span class="st">&quot;12&quot;</span> <span class="st">&quot;16&quot;</span> <span class="st">&quot;20&quot;</span></span></code></pre></div>
<p>R follows the rule of* <strong>converting to the</strong>
<strong><em>“least common denominator”</em></strong>.</p>
</div>
<div id="explicit-coercion-as.-functions." class="section level2"
number="8.2">
<h2><span class="header-section-number">8.2</span> Explicit coercion:
as.* functions.</h2>
<pre><code>as.numeric()  
as.integer()  
as.logical()  
as.character()  
as.complex()  
as.data.frame()  
as.matrix()  
data.matrix()                     # use this to coerce a data frame to a matrix.  </code></pre>
<hr />
</div>
</div>
<div id="lists." class="section level1" number="9">
<h1><span class="header-section-number">9</span> Lists.</h1>
<p>Two functions for creating lists:</p>
<div id="list-function." class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> <code>list()</code>
function.</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(list)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (...)  </span></code></pre></div>
</div>
<div id="vectormode-list-length-10-function." class="section level2"
number="9.2">
<h2><span class="header-section-number">9.2</span>
<code>vector(mode = "list", length = 10)</code> function.</h2>
<ul>
<li>Creates an empty list of 10 elements`.</li>
</ul>
<hr />
</div>
</div>
<div id="factors." class="section level1" number="10">
<h1><span class="header-section-number">10</span> Factors.</h1>
<p>They are the representation of <strong>categorical data</strong>
(unordered or ordered).</p>
<p>A factor is a <em>special type</em> of <em>vector</em>:</p>
<ul>
<li><p>An <strong>integer vector</strong> where each integer has a
<strong>label</strong>.</p></li>
<li><p>In other words, each of the <strong>character values</strong>
(aka <strong>labels/levels</strong>) that a factor (aka categorical
variable) can assume, is <strong>coded with an
integer</strong>.</p></li>
<li><p>Integers are, infact, the <strong>underlying
representation</strong> that we can see with the <code>unclass()</code>
function.</p></li>
</ul>
<p><strong>Importance</strong> of factors:</p>
<ul>
<li><p>They are treated specially by functions like</p>
<ul>
<li><p><code>lm()</code> and <code>glm()</code> that are functions for
feeding linear models.</p></li>
<li><p><code>split()</code>, <code>tapply()</code> and other functions
that creates <strong>groups</strong> based on the levels of a factor
variable.</p></li>
</ul></li>
</ul>
<div id="creating-factors-with-factor-and-gl-functions."
class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Creating factors
with <code>factor()</code> and <code>gl()</code> functions.</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(factor)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (<span class="at">x =</span> <span class="fu">character</span>(), levels, <span class="at">labels =</span> levels, <span class="at">exclude =</span> <span class="cn">NA</span>, <span class="at">ordered =</span> <span class="fu">is.ordered</span>(x), </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">nmax =</span> <span class="cn">NA</span>)  </span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>)) <span class="co"># input: a character vector.</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>x                                               <span class="co"># levels are alphabetically ordered by default.</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] yes yes no  yes no </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> no yes</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># levels&#39; order specifically setted.</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># It can be important in linear modelling, because the</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>x                               <span class="co"># first level is used as the baseline level.</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] yes yes no  yes no </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> yes no</span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(gl)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (n, k, <span class="at">length =</span> n <span class="sc">*</span> k, <span class="at">labels =</span> <span class="fu">seq_len</span>(n), <span class="at">ordered =</span> <span class="cn">FALSE</span>)  </span></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">gl</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">3</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">gl</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> <span class="dv">1</span> <span class="dv">2</span></span></code></pre></div>
</div>
<div id="making-a-table-of-levels-frequency." class="section level2"
number="10.2">
<h2><span class="header-section-number">10.2</span> Making a table of
levels frequency.</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(x)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>yes  no </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span>   <span class="dv">2</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(y)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> </span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(z)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">2</span> </span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">3</span> </span></code></pre></div>
</div>
<div id="seeing-the-underlying-representation-integers-of-factors."
class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Seeing the
underlying representation (integers) of factors.</h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] yes yes no  yes no </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>Levels<span class="sc">:</span> yes no</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(x)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(,<span class="st">&quot;levels&quot;</span>)</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;yes&quot;</span> <span class="st">&quot;no&quot;</span> </span></code></pre></div>
<blockquote>
<p>Notice: as said, a factor is <strong><em>an integer vector with a
certain “levels” attribute</em></strong> that, in this example, is an
attribute of two elements: “yes” and “no”, coded as 1 and 2.</p>
</blockquote>
<hr />
</div>
</div>
<div id="missing-values." class="section level1" number="11">
<h1><span class="header-section-number">11</span> Missing Values.</h1>
<blockquote>
<p><strong>NaN</strong> (for indefined mathematical operations)</p>
</blockquote>
<blockquote>
<p><strong>NA</strong> (for anything else)</p>
</blockquote>
<ul>
<li>NA values also have classes: <em>integer</em> NA, <em>character</em>
NA, etc.</li>
</ul>
<div id="functions-for-testing-missing-values-is.na-and-is.nan."
class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Functions for
testing missing values: <code>is.na()</code> and
<code>is.nan()</code>.</h2>
<p>They <strong>return a logical vector</strong> indicating which
elements of the input vector, are NA or NaN.</p>
<p><strong>NAs example</strong>.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">1000</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>my_data <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(y, z), <span class="dv">100</span>)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_data)</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>] <span class="cn">NA</span> <span class="sc">-</span><span class="fl">1.1368</span> <span class="fl">0.8768</span> <span class="sc">-</span><span class="fl">1.0621</span> <span class="sc">-</span><span class="fl">0.0594</span> ...</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>my_data</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">1</span>]           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">1.136758594</span>  <span class="fl">0.876787099</span> <span class="sc">-</span><span class="fl">1.062114180</span> <span class="sc">-</span><span class="fl">0.059367181</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">6</span>] <span class="sc">-</span><span class="fl">0.575845412</span>           <span class="cn">NA</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">0.259317541</span>           <span class="cn">NA</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a> [<span class="dv">11</span>] <span class="sc">-</span><span class="fl">0.127476009</span>  <span class="fl">0.480708153</span>  <span class="fl">0.634887096</span>           <span class="cn">NA</span>  <span class="fl">0.501793627</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a> [<span class="dv">16</span>] <span class="sc">-</span><span class="fl">0.017564592</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">1.453599416</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">0.606809743</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a> [<span class="dv">21</span>]  <span class="fl">0.082747063</span>  <span class="fl">0.689093012</span>  <span class="fl">0.766039235</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">0.108518579</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a> [<span class="dv">26</span>]           <span class="cn">NA</span>  <span class="fl">0.898831843</span>           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a> [<span class="dv">31</span>] <span class="sc">-</span><span class="fl">0.737091288</span>           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>  <span class="fl">0.978178380</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a> [<span class="dv">36</span>]           <span class="cn">NA</span>  <span class="fl">0.012105879</span>           <span class="cn">NA</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">0.932431546</span></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a> [<span class="dv">41</span>] <span class="sc">-</span><span class="fl">0.332652807</span>           <span class="cn">NA</span>           <span class="cn">NA</span>  <span class="fl">0.224165503</span>           <span class="cn">NA</span></span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a> [<span class="dv">46</span>]  <span class="fl">0.679309829</span>           <span class="cn">NA</span>  <span class="fl">0.143093579</span>           <span class="cn">NA</span>  <span class="fl">1.291260523</span></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a> [<span class="dv">51</span>]           <span class="cn">NA</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">0.717004011</span>  <span class="fl">0.038112060</span>           <span class="cn">NA</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a> [<span class="dv">56</span>]           <span class="cn">NA</span>           <span class="cn">NA</span>  <span class="fl">0.650785069</span>  <span class="fl">0.037550130</span> <span class="sc">-</span><span class="fl">0.499782006</span></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a> [<span class="dv">61</span>]           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>  <span class="fl">0.415262751</span>           <span class="cn">NA</span></span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a> [<span class="dv">66</span>]           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a> [<span class="dv">71</span>] <span class="sc">-</span><span class="fl">0.794707936</span> <span class="sc">-</span><span class="fl">1.014548722</span>  <span class="fl">1.959998461</span>           <span class="cn">NA</span>           <span class="cn">NA</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a> [<span class="dv">76</span>] <span class="sc">-</span><span class="fl">0.001408148</span>           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a> [<span class="dv">81</span>]  <span class="fl">0.118584252</span> <span class="sc">-</span><span class="fl">1.421090633</span>           <span class="cn">NA</span>  <span class="fl">0.958783109</span>           <span class="cn">NA</span></span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a> [<span class="dv">86</span>]  <span class="fl">0.486707278</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">0.722559754</span>           <span class="cn">NA</span>           <span class="cn">NA</span></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a> [<span class="dv">91</span>]  <span class="fl">0.706133721</span> <span class="sc">-</span><span class="fl">0.435587007</span>           <span class="cn">NA</span> <span class="sc">-</span><span class="fl">0.918723053</span>           <span class="cn">NA</span></span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a> [<span class="dv">96</span>] <span class="sc">-</span><span class="fl">0.538887999</span> <span class="sc">-</span><span class="fl">0.125203176</span> <span class="sc">-</span><span class="fl">0.318295679</span>  <span class="fl">1.174763947</span> <span class="sc">-</span><span class="fl">0.879993720</span></span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>my_na <span class="ot">&lt;-</span> <span class="fu">is.na</span>(my_data)     <span class="co"># it is NOT THE SAME as:    my_na &lt;- my_data == NA.</span></span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># This last statement does not produce a logical vector but a</span></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># vector of all NAs, because NA is NOT REALLY A VALUE but just a</span></span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># placeholder for a quantity that is not available. Therefore</span></span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># the logical expression is INCOMPLETE and R has no choice but</span></span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># to return a vector of the same length as my_data that contains</span></span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># all NAs.</span></span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>my_na</span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">1</span>]  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a> [<span class="dv">13</span>] <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span></span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a> [<span class="dv">25</span>] <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span></span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a> [<span class="dv">37</span>] <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a> [<span class="dv">49</span>]  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a> [<span class="dv">61</span>]  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a> [<span class="dv">73</span>] <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a> [<span class="dv">85</span>]  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a> [<span class="dv">97</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-48"><a href="#cb46-48" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">sum</span>(my_na)             <span class="co"># computes the total number of NAs; because R represents TRUE as</span></span>
<span id="cb46-49"><a href="#cb46-49" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># the number 1 and FALSE as the number 0, the sum() function on a</span></span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># logical vector counts the total number of TRUEs, and thus the </span></span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># total number of NAs.</span></span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a>s</span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">50</span></span></code></pre></div>
<p><strong>NaN expamples</strong>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span> <span class="sc">/</span> <span class="dv">0</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NaN</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="cn">Inf</span> <span class="sc">-</span> <span class="cn">Inf</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NaN</span></span></code></pre></div>
<ul>
<li><strong>Notice</strong>: division by zero with a non zero numerator
gives <code>Inf</code>.</li>
</ul>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">/</span> <span class="dv">0</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">Inf</span></span></code></pre></div>
<hr />
</div>
</div>
<div id="data-frames." class="section level1" number="12">
<h1><span class="header-section-number">12</span> Data Frames.</h1>
<p>Used to store <strong>tabular data</strong>, where:</p>
<ul>
<li><p>They are <strong>represented</strong> as a <strong>special type
of</strong> <strong><em>list</em></strong>.</p></li>
<li><p><strong>Each element</strong> of the list (thougth as a
<strong>column vector</strong>) must have the <strong>same
length</strong> (same number of rows).</p></li>
<li><p>One element (column) must have the same class of objects but,
<strong><em>unlike matrices</em></strong>, <strong>different
elements</strong> (columns) <strong>can</strong> store <strong>different
classes</strong> of objects.</p></li>
<li><p>In addition to column names (indicating the names of the
variables or predictors), data frames also have the <strong>row.names
attribute</strong> indicating information about each row of the df, for
example:</p>
<ul>
<li>each row might represent a subject enrolled in a study and then row
names would be the subject ID.</li>
</ul></li>
</ul>
<div id="creating-a-data-frame-by-reading-in-a-dataset."
class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> Creating a data
frame by reading in a dataset.</h2>
<ul>
<li><code>read.table()</code> and <code>read.csv()</code>
<strong>return</strong> a data frame.</li>
</ul>
</div>
<div id="creating-explicitly-a-data-frame-with-data.frame-function."
class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> Creating explicitly
a data frame with <code>data.frame()</code> function.</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">foo =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">bar =</span> <span class="fu">c</span>(T, T, F, F))</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>      <span class="co"># As said, each element of df is a column vector: the foo varible and the bar variable.</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Here, a name was given to each column. Insted, no row names were specified (as</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>      <span class="co"># we will see, row names defaults to numbers 1, 2, 3, ...).</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  foo   bar</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="dv">1</span>  <span class="cn">TRUE</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="dv">2</span>  <span class="cn">TRUE</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="dv">3</span> <span class="cn">FALSE</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="dv">4</span> <span class="cn">FALSE</span></span></code></pre></div>
</div>
<div id="creating-a-new-data-frame-by-binding-other-data-frames."
class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Creating a new data
frame by binding other data frames.</h2>
<p>The same as binding vectors to create matices, we can use
<code>rbind()</code> and <code>cbind()</code> functions to bind (by row
or by column) a data frame -or a subset of it- to another data frame -or
subset of it- and create a new data frame.</p>
<div id="row-binding-data-frames." class="section level3"
number="12.3.1">
<h3><span class="header-section-number">12.3.1</span> Row binding data
frames.</h3>
<p>When we have different observations spread across several data frames
and <strong>all data frames</strong> <strong>have the same variables
(columns)</strong>, we might then want to <strong><em>row-bind
them</em></strong>, that is, put all the observations (rows) in one data
frame.</p>
<p>In “2_TestingFolder” there are five csv files. Let’s row-bind these
two ones:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>andy <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>david <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2_TestingFolder/David.csv&quot;</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(andy)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(david)</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;David&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> ...</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">210</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">208</span> <span class="dv">208</span> <span class="dv">208</span> ...</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>andy_david <span class="ot">&lt;-</span> <span class="fu">rbind</span>(andy, david)        <span class="co"># all rows of david are added to the end of andy.</span></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(andy_david)</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">60</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">2</span> levels <span class="st">&quot;Andy&quot;</span>,<span class="st">&quot;David&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(andy_david)</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">1</span></span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">2</span></span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">3</span></span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         Andy  <span class="dv">30</span>    <span class="dv">139</span>   <span class="dv">4</span></span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">5</span></span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">6</span></span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(andy_david)</span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a>   Patient.Name Age Weight Day</span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a><span class="dv">55</span>        David  <span class="dv">35</span>    <span class="dv">203</span>  <span class="dv">25</span></span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a><span class="dv">56</span>        David  <span class="dv">35</span>    <span class="dv">203</span>  <span class="dv">26</span></span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a><span class="dv">57</span>        David  <span class="dv">35</span>    <span class="dv">202</span>  <span class="dv">27</span></span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a><span class="dv">58</span>        David  <span class="dv">35</span>    <span class="dv">202</span>  <span class="dv">28</span></span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a><span class="dv">59</span>        David  <span class="dv">35</span>    <span class="dv">202</span>  <span class="dv">29</span></span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a><span class="dv">60</span>        David  <span class="dv">35</span>    <span class="dv">201</span>  <span class="dv">30</span></span></code></pre></div>
<p>We can <strong>bind all data frames in “2_TestingFolder” at
once</strong>, with a loop such as follows:</p>
<ul>
<li><strong>Notice</strong> the <strong>empty data frame</strong> before
the loop.<br />
</li>
<li>This is because <code>rbind()</code> needs 2 arguments.
<ul>
<li>The first is an existing data frame.<br />
</li>
<li>The second is what we want to append to it.<br />
</li>
</ul></li>
<li>So in occassions like this one, where we want to bind several data
frames at once, we have to create an empty data frame to start with, so
there’s <em>something</em> to use as the existing data frame argument of
<code>rbind</code> (we can’t rbind something into a file that doesn’t
exist yet).</li>
</ul>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>files_path <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;2_TestingFolder&quot;</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()                                        <span class="co"># empty data frame.</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(files_path)) {</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data, <span class="fu">read.csv</span>(files_path[i]))</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">150</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">5</span> levels <span class="st">&quot;Andy&quot;</span>,<span class="st">&quot;David&quot;</span>,..<span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
</div>
<div id="row-binding-data-frames-from-a-list-with-do.call-function."
class="section level3" number="12.3.2">
<h3><span class="header-section-number">12.3.2</span> Row-binding data
frames from a list, with <code>do.call()</code> function.</h3>
<p>When doing data analisys, it’s common to find us working with a
<strong>list of data frame</strong> <strong>frame objects</strong>:</p>
<ul>
<li><strong>Not</strong> a <em>vector of characters</em> containing the
<em>path-names</em> to the files where the data frames are stored on
disk, <strong>but</strong> a <strong>list</strong> containing the
<strong>data frame objects</strong> <strong>themselves</strong>.<br />
</li>
<li>As we’ll see later, that list of data frame objects is what a
powerful function named <code>lapply()</code> returns by
<em>applying</em> a reading function to get all data frames we are
interested on, in one line of code.<br />
</li>
<li>For now, let’s reconstruct by hand what <code>lapply</code> does.
That is:
<ul>
<li>We are going to create an empty list.<br />
</li>
<li>Then we’ll put there each data frame that we read from disk at each
step of a loop.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>tmp_list <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">&quot;list&quot;</span>, <span class="at">length =</span> <span class="fu">length</span>(files_path))    <span class="co"># empty list</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(files_path)) {</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    tmp_list[[i]] <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(files_path[i])</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(tmp_list)</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>List of <span class="dv">5</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;David&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> ...</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">210</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">208</span> <span class="dv">208</span> <span class="dv">208</span> ...</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;John&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> ...</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> ...</span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Mike&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> ...</span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> ...</span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> <span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Steve&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Age         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> ...</span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Weight      <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">225</span> <span class="dv">225</span> <span class="dv">225</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> ...</span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a>  ..<span class="sc">$</span> Day         <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
<p>So, as we were saying, if we end up working with a <strong>list of
data frame objects</strong> like the one we just obtained, then we can
<strong>create a single data frame</strong> using the
<strong><code>do.call()</code></strong> function to execute
<code>rbind()</code> over that list.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, tmp_list)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">150</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">5</span> levels <span class="st">&quot;Andy&quot;</span>,<span class="st">&quot;David&quot;</span>,..<span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
</div>
<div id="column-binding-data-frames." class="section level3"
number="12.3.3">
<h3><span class="header-section-number">12.3.3</span> Column-binding
data frames.</h3>
<p>At this point we have already understood how things work, so if it
happens to be several data frames with the <strong>same number of
observations (rows)</strong> and all of them have <em>different
variables (columns)</em>, we might want to <strong><em>column-bind
them</em></strong>.</p>
<p>So we proceed using <strong>cbind()</strong> function in the ways
we’ve seen before:</p>
<ul>
<li><p>Just <code>cbind</code> to column-bind two data frames.</p></li>
<li><p>Make a single data frame <strong>from a list of
path-names</strong> to the files where the original data frames are
stored, by <strong>column-binding</strong> each data frame
<em>readed</em> <em>from disk at each step</em> of a <strong>for
loop</strong>.</p></li>
<li><p>Create a single data frame <strong>from a list of data frame
objects</strong> by using the <strong><code>do.call()</code>
function</strong> to execute <code>cbind</code> over that list.</p></li>
</ul>
</div>
</div>
<div id="explicit-coercion-from-other-types-of-objects-like-lists."
class="section level2" number="12.4">
<h2><span class="header-section-number">12.4</span> Explicit coercion
from other types of objects, like lists.</h2>
<p>We use the <code>as.data.frame()</code> function to coerce any R
object to a data frame, if possible.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>a_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">letters =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>), <span class="at">seq_numbers =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">rep_numbers =</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">4</span>))</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>a_list</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>letters</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>seq_numbers</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>rep_numbers</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a><span class="fu">as.data.frame</span>(a_list)</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>  letters seq_numbers rep_numbers</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>       a           <span class="dv">1</span>           <span class="dv">0</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>       b           <span class="dv">2</span>           <span class="dv">0</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       c           <span class="dv">3</span>           <span class="dv">0</span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>       d           <span class="dv">4</span>           <span class="dv">0</span></span></code></pre></div>
<p>What happens if we apply <code>as.data.frame</code> to a <strong>list
of data frame objects</strong>?</p>
<ul>
<li>The <strong>same thing</strong> that this function does to
<strong>all kind of elements of a list</strong>. That is, <strong>each
element</strong> (each <em>data frame</em> in this case) is
<strong>converted to a column</strong> in the <strong>new data
frame</strong>.</li>
</ul>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(tmp_list)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">20</span> variables<span class="sc">:</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name  <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age           <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight        <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day           <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="fl">.1</span><span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;David&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age<span class="fl">.1</span>         <span class="sc">:</span> int  <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> ...</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight<span class="fl">.1</span>      <span class="sc">:</span> int  <span class="dv">210</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">208</span> <span class="dv">208</span> <span class="dv">208</span> ...</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day<span class="fl">.1</span>         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="fl">.2</span><span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;John&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age<span class="fl">.2</span>         <span class="sc">:</span> int  <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> ...</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight<span class="fl">.2</span>      <span class="sc">:</span> int  <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> ...</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day<span class="fl">.2</span>         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="fl">.3</span><span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Mike&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age<span class="fl">.3</span>         <span class="sc">:</span> int  <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> ...</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight<span class="fl">.3</span>      <span class="sc">:</span> int  <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> ...</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day<span class="fl">.3</span>         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="fl">.4</span><span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Steve&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age<span class="fl">.4</span>         <span class="sc">:</span> int  <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> ...</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight<span class="fl">.4</span>      <span class="sc">:</span> int  <span class="dv">225</span> <span class="dv">225</span> <span class="dv">225</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> ...</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day<span class="fl">.4</span>         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
<p>So, what happens is that the data frames of the list are
<strong>column-binded</strong>.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">row.names =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>)              <span class="co"># create an empty data frame.</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(t_elem <span class="cf">in</span> tmp_list) {</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(data, t_elem)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">20</span> variables<span class="sc">:</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;David&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> <span class="dv">35</span> ...</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">210</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">209</span> <span class="dv">208</span> <span class="dv">208</span> <span class="dv">208</span> ...</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;John&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> <span class="dv">22</span> ...</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> <span class="dv">175</span> ...</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Mike&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> <span class="dv">40</span> ...</span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">188</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> <span class="dv">189</span> ...</span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Steve&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> <span class="dv">55</span> ...</span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">225</span> <span class="dv">225</span> <span class="dv">225</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">224</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> <span class="dv">223</span> ...</span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
<ul>
<li><strong>Notice 1</strong>: All data frames have 30 rows. We
<strong>need to specify the number of</strong> <strong>the rows</strong>
of the empty data frame.
<ul>
<li>There were no need to specify anything when creating an empty data
frame to be used with <code>rbind</code>.<br />
</li>
<li>Othewise R gives an error when trying to <code>cbind</code> an
initial zero-row data frame with the first 30-rows data frame.<br />
</li>
<li>According to <code>as.data.frame documentation</code>, if no
variables are included, the <code>row.names</code> argument determines
the number of the rows.<br />
</li>
</ul></li>
<li><strong>Notice 2</strong>: There’s a <strong>difference</strong>,
though, regarding the <strong>names of the</strong>
<strong>columns</strong>.</li>
</ul>
</div>
<div id="converting-a-data-frame-into-a-matrix." class="section level2"
number="12.5">
<h2><span class="header-section-number">12.5</span> Converting a data
frame into a matrix.</h2>
<ul>
<li>Use <code>data.matrix()</code> instead of
<code>as.matrix()</code></li>
</ul>
<hr />
</div>
</div>
<div id="names-attribute." class="section level1" number="13">
<h1><span class="header-section-number">13</span> Names Attribute.</h1>
<p>Names are useful for self-describing data.</p>
<p>Assigning names to a <strong>vector</strong>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;peppe&quot;</span>, <span class="st">&quot;pippo&quot;</span>, <span class="st">&quot;puppo&quot;</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>peppe pippo puppo </span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>     <span class="dv">2</span>     <span class="dv">3</span> </span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(x)</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;peppe&quot;</span> <span class="st">&quot;pippo&quot;</span> <span class="st">&quot;puppo&quot;</span></span></code></pre></div>
<p>Assigning names to a <strong>list</strong>:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, <span class="cn">TRUE</span>, <span class="dv">1</span><span class="sc">+</span>4i)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(l1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;int&quot;</span>, <span class="st">&quot;char&quot;</span>, <span class="st">&quot;bool&quot;</span>, <span class="st">&quot;complex&quot;</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>l1</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>int</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>char</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>bool</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>complex</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span><span class="sc">+</span>4i</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(l1)</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;int&quot;</span>     <span class="st">&quot;char&quot;</span>    <span class="st">&quot;bool&quot;</span>    <span class="st">&quot;complex&quot;</span></span></code></pre></div>
<ul>
<li><em>equivalently</em>:</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>l2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">int =</span> <span class="dv">1</span>, <span class="at">char =</span> <span class="st">&quot;a&quot;</span>, <span class="at">bool =</span> <span class="cn">TRUE</span>, <span class="at">complex =</span> <span class="dv">1</span><span class="sc">+</span>4i)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>l2</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>int</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>char</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>bool</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>complex</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span><span class="sc">+</span>4i</span></code></pre></div>
<p>Assigning names to rows and columns of <strong>matrices</strong>:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(m) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>m</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  c d</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>a <span class="dv">1</span> <span class="dv">3</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>b <span class="dv">2</span> <span class="dv">4</span></span></code></pre></div>
<ul>
<li><em>equivalently</em>:</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(m) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;e&quot;</span>, <span class="st">&quot;f&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;g&quot;</span>, <span class="st">&quot;h&quot;</span>))</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>m</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  g h</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>e <span class="dv">1</span> <span class="dv">3</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>f <span class="dv">2</span> <span class="dv">4</span></span></code></pre></div>
<p>Assigning names to rows and columns of <strong>data
frames</strong>:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">foo =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">bar =</span> <span class="fu">c</span>(T, T, F, F)) <span class="co"># names for columns (default names to rows).</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>df1</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  foo   bar</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="dv">1</span>  <span class="cn">TRUE</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="dv">2</span>  <span class="cn">TRUE</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="dv">3</span> <span class="cn">FALSE</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="dv">4</span> <span class="cn">FALSE</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="fu">c</span>(T, T, F, F))             <span class="co"># default names to rows and columns.</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(df2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)            <span class="co"># also `row.names()` does the same.</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;booh&quot;</span>, <span class="st">&quot;baah&quot;</span>)                <span class="co"># also `names()` does the job.</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>df2</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>  booh  baah</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>a    <span class="dv">1</span>  <span class="cn">TRUE</span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>b    <span class="dv">2</span>  <span class="cn">TRUE</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>c    <span class="dv">3</span> <span class="cn">FALSE</span></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>d    <span class="dv">4</span> <span class="cn">FALSE</span></span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> df2</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(df3) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;d&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;baah&quot;</span>, <span class="st">&quot;booh&quot;</span>))</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>df3</span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a>  baah  booh</span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>d    <span class="dv">1</span>  <span class="cn">TRUE</span></span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>c    <span class="dv">2</span>  <span class="cn">TRUE</span></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>b    <span class="dv">3</span> <span class="cn">FALSE</span></span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>a    <span class="dv">4</span> <span class="cn">FALSE</span></span></code></pre></div>
<hr />
</div>
<div id="reading-and-writing-data." class="section level1" number="14">
<h1><span class="header-section-number">14</span> Reading and Writing
data.</h1>
<p>Different formats of data:</p>
<ul>
<li><strong>Tabular format</strong>:
<ul>
<li>Structured text data (rows and columns).<br />
</li>
<li>It can be stored for example in:
<ul>
<li>an <strong>excel</strong> file;<br />
</li>
<li>or a <strong>csv</strong> file;<br />
</li>
<li>or a <strong>txt</strong> file using some separator to perform rows
and columns.</li>
</ul></li>
</ul></li>
<li><strong>Textual format</strong>:
<ul>
<li>An intermediate format between tabular (simpliest format) and binary
(more complex format).<br />
</li>
<li>This format is native to R.<br />
</li>
<li>It’s a more descriptive representation of an R object: preserves the
metadata (for example, the class of each column of a table or the levels
of a factor variable).<br />
</li>
<li>This implies sacrificing readability (so it might be preferable to
have data stored in a csv file and then have a separate code file that
specifies the metadata).<br />
</li>
<li>This format WORKS MUCH BETTER with version control programs (git or
subversion), wich can only track changes meaningfully in text
files.<br />
</li>
<li>It’s an editable format, thus potentially recoverable in case of
corruption.</li>
</ul></li>
<li><strong>Binary data</strong>.</li>
</ul>
<div id="reading-tabular-data." class="section level2" number="14.1">
<h2><span class="header-section-number">14.1</span> Reading tabular
data.</h2>
<div id="read.table-function." class="section level3" number="14.1.1">
<h3><span class="header-section-number">14.1.1</span>
<code>read.table()</code> function.</h3>
<p><code>read.table</code> is the most common function, because it’s
<strong>the most robust</strong>, it allows us the <strong>most
flexibility</strong> in some ways in R.</p>
<p>It does require a few more parameters than we would pass to some of
the other functions.</p>
<ul>
<li>If we just give the name of the file we want to read without
specifying any other parameter, it will <strong>try to read by
default</strong> a <strong>tab delimited</strong> file <strong>without a
header</strong> line.</li>
</ul>
<p>It <strong>can be a little bit slow</strong>.</p>
<ul>
<li>There’s actually <strong>faster ways</strong> if we need to <em>scan
through files</em> to <em>find specific elements</em>.</li>
</ul>
<p>It <strong>reads</strong> the data <strong>into RAM</strong>.</p>
<ul>
<li>So reading a really <strong>big dataset</strong> will cause
problems, unless we <strong>read it in chunks</strong>.<br />
</li>
<li>In any way, <code>read.table</code> is probably <strong>not the best
way</strong> to read <strong>large datasets</strong> in general into
R.</li>
</ul>
<p>So, let’s see the <strong>main parameters</strong> of this
function.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(read.table)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (file, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>, <span class="at">quote =</span> <span class="st">&quot;</span><span class="sc">\&quot;</span><span class="st">&#39;&quot;</span>, <span class="at">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="at">numerals =</span> <span class="fu">c</span>(<span class="st">&quot;allow.loss&quot;</span>, </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;warn.loss&quot;</span>, <span class="st">&quot;no.loss&quot;</span>), row.names, col.names, <span class="at">as.is =</span> <span class="sc">!</span>stringsAsFactors, </span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">na.strings =</span> <span class="st">&quot;NA&quot;</span>, <span class="at">colClasses =</span> <span class="cn">NA</span>, <span class="at">nrows =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">skip =</span> <span class="dv">0</span>, <span class="at">check.names =</span> <span class="cn">TRUE</span>, </span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="sc">!</span>blank.lines.skip, <span class="at">strip.white =</span> <span class="cn">FALSE</span>, <span class="at">blank.lines.skip =</span> <span class="cn">TRUE</span>, </span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">comment.char =</span> <span class="st">&quot;#&quot;</span>, <span class="at">allowEscapes =</span> <span class="cn">FALSE</span>, <span class="at">flush =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="fu">default.stringsAsFactors</span>(), </span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">fileEncoding =</span> <span class="st">&quot;&quot;</span>, <span class="at">encoding =</span> <span class="st">&quot;unknown&quot;</span>, text, <span class="at">skipNul =</span> <span class="cn">FALSE</span>)  </span></code></pre></div>
<ul>
<li>The <code>file</code> we want to read.<br />
</li>
<li>Whether it has a <code>header</code> or not (the
<strong>default</strong> is <code>FALSE</code> in this function).<br />
</li>
<li>What’s the separation <code>sep</code> between elements (the
<strong>default</strong> is <code>""</code>, that is, a <em>tab</em>
delimeted file).<br />
</li>
<li>Whether it has <code>row.names</code> and how many rows,
<code>nrows</code>, do we want to read.<br />
</li>
<li><code>quote</code> parameter specifies if there are quoted values or
not.
<ul>
<li>If we set <code>quote = ""</code> to the empty string, we say there
are no quotes in the file.<br />
</li>
</ul></li>
<li><code>na.strings</code> tells R what <strong>character represents a
missing value</strong>.
<ul>
<li>the most typical character that we’ll see in our datasets in
<code>NA</code>, but that character might also be <code>-1</code> or
<code>999</code>, <code>99</code> or <em>something else</em>.<br />
</li>
</ul></li>
<li><code>skip</code> specifies how many <strong>lines to skip before
start reading</strong>.
<ul>
<li>It’s usually setted in <strong>combination with
<code>nrows</code></strong>, for example when we want to read a
<strong>range of lines</strong>, say the 3rd through the 13th line:
<ul>
<li>it would be in that case <code>skip = 2</code> and
<code>nrow = 10</code></li>
</ul></li>
</ul></li>
</ul>
<p>Let’s verify the error thrown by <code>read.table</code> when it
tries to read by default a <em>tab delimeted</em> file <em>without a
header</em> line and there’s <strong>someting else</strong> (like a
comma separated file -csv- with a header).</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>testing <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">scan</span>(<span class="at">file =</span> file, <span class="at">what =</span> what, <span class="at">sep =</span> sep, <span class="at">quote =</span> quote, <span class="at">dec =</span> dec, <span class="sc">:</span> line <span class="dv">2</span> did not have <span class="dv">2</span> elements</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(testing)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">head</span>(testing)<span class="sc">:</span> objeto <span class="st">&#39;testing&#39;</span> no encontrado</span></code></pre></div>
<p>So if we want to read <strong>csv files</strong> with
<code>read.table</code>, we have to specify <code>sep</code> and
<code>header</code> parameters.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>andy <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(andy)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">1</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">2</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">3</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         Andy  <span class="dv">30</span>    <span class="dv">139</span>   <span class="dv">4</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">5</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">6</span></span></code></pre></div>
</div>
<div id="read.csv-function." class="section level3" number="14.1.2">
<h3><span class="header-section-number">14.1.2</span>
<code>read.csv()</code> function.</h3>
<p>This function is identical to <code>read.table</code>, except for
some <strong>defaults obviously setted accordingly</strong> to the
characteristics that comma separated files have:</p>
<ul>
<li><code>sep</code> defaults to <em>comma</em>.<br />
</li>
<li><code>header</code> defaults to <code>TRUE</code>.</li>
</ul>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(read.csv)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (file, <span class="at">header =</span> <span class="cn">TRUE</span>, <span class="at">sep =</span> <span class="st">&quot;,&quot;</span>, <span class="at">quote =</span> <span class="st">&quot;</span><span class="sc">\&quot;</span><span class="st">&quot;</span>, <span class="at">dec =</span> <span class="st">&quot;.&quot;</span>, <span class="at">fill =</span> <span class="cn">TRUE</span>, </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">comment.char =</span> <span class="st">&quot;&quot;</span>, ...)  </span></code></pre></div>
<p>So, if we have a csv file, this function is simpler to use.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>andy <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(andy)</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">1</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">2</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">3</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         Andy  <span class="dv">30</span>    <span class="dv">139</span>   <span class="dv">4</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">5</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">6</span></span></code></pre></div>
</div>
<div id="a-common-problem-when-reading-files-with-tabular-data."
class="section level3" number="14.1.3">
<h3><span class="header-section-number">14.1.3</span> A common problem
when reading files with tabular data.</h3>
<p>One of the biggest common problem in a lot of files is that they
have:</p>
<ul>
<li>one of these <strong>quotation marks</strong>: a backstick (`), a
single quote (’) or a dobule quote (“) <strong>placed in the</strong>
<strong><em>data value</em></strong> somewhere.</li>
</ul>
<p>When that happens, <strong>R gets confused</strong> because it’s not
looking for those quotes.</p>
<ul>
<li>We see then that the data set <em>isn’t getting read in</em>.<br />
</li>
<li>Or that it’s getting read in <em>as a very long vector</em>.</li>
</ul>
<p><strong>Solution tip.</strong></p>
<p>If we set <strong><code>quote = ""</code> to the empty
string</strong>, this <strong>often resolves</strong> those issues.</p>
</div>
<div
id="reading-large-tables-help-page-has-excellent-hints-and-complete-info."
class="section level3" number="14.1.4">
<h3><span class="header-section-number">14.1.4</span> Reading <em>large
tables</em> (help page has excellent hints and complete info).</h3>
<ul>
<li>Preventive measures:
<ol style="list-style-type: decimal">
<li>Make a raw calculation of RAM memory required to store the dataset.
<ul>
<li>Formula:<br />
<span class="math display">\[\frac{numberOfRaws * numberOfColumns * 8}
{2^{20}} = resultInMB\]</span><br />
</li>
<li>Notice:
<ul>
<li>There is an 8 in the formula, because we suppose that all the
elements of the table are numbers (8 bytes are used to represent a
double).<br />
</li>
<li>There are 2^20 bytes in one MB.<br />
</li>
</ul></li>
</ul></li>
<li>Set <code>comment.char = ""</code>, if there are no commented
lines.<br />
</li>
<li>Set <code>nrows</code>.
<ul>
<li>Helps memory usage. A mild overestimate is ok.<br />
</li>
<li>Use the <strong>Unix tool “wc”</strong> (word count) to calculate
the number of lines in a file.<br />
</li>
</ul>
<pre><code>     wc -l file.txt      # counts the number of lines.  
     wc -w file.txt      # counts the number of words.  
     wc -c file.txt      # counts the number of characters (bytes).  
     wc file.txt         # counts all of that.</code></pre></li>
<li>Use the <code>colClasses</code> argument (spare R a lot of work and
saving a lot of time, telling it which classes columns are):
<ul>
<li>So <strong>to figure out the classes of each column</strong>, do
this:</li>
</ul></li>
</ol></li>
</ul>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># read only the first 100 or 1000 rows.</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>initial <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;datatable.txt&quot;</span>, <span class="at">nrows =</span> <span class="dv">100</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># use sapply() function to loop over each column and get their classes.</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>classes <span class="ot">&lt;-</span> <span class="fu">sapply</span>(initial, class)</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="co"># voilá: read the hole datatable telling R the classes of the columns.</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>tabAll <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;datatable.txt&quot;</span>, <span class="at">colClases =</span> classes)</span></code></pre></div>
</div>
</div>
<div id="reading-tabular-data-much-faster-from-readr-package."
class="section level2" number="14.2">
<h2><span class="header-section-number">14.2</span> Reading tabular data
much faster from readr package.</h2>
<p>When dealing with large datasets and efficiency matters, its better
to look at these <code>readr</code> package’s functions:</p>
<ul>
<li><p><code>read_table()</code></p></li>
<li><p><code>read_csv()</code></p></li>
</ul>
<p>They are pretty much the same as <code>read.table()</code> and
<code>read.cvs()</code>, but optimized.</p>
</div>
<div id="reading-and-convertingwriting-textual-data."
class="section level2" number="14.3">
<h2><span class="header-section-number">14.3</span> Reading and
converting/writing textual data.</h2>
<p>To convert into -and write- the textual representation of an R object
is also referred to as <strong><em>deparsing</em></strong> the
object:</p>
<ul>
<li><code>dput()</code> -aka <em>dputing</em> data-<br />
</li>
<li><code>dump()</code> -aka <em>dumping</em> data-</li>
</ul>
<p>Similarly, to read the representation of an R objetct in textual
format, is also referred to as <strong><em>parsing</em></strong> the R
object:</p>
<ul>
<li><code>dget()</code><br />
</li>
<li><code>source()</code></li>
</ul>
<div id="deparsing-and-parsing-textual-format-with-dput-and-dget."
class="section level3" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> Deparsing and
parsing textual format with <code>dput()</code> and
<code>dget()</code>.</h3>
<ul>
<li><strong><code>dput()</code> function</strong></li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dput)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (x, <span class="at">file =</span> <span class="st">&quot;&quot;</span>, <span class="at">control =</span> <span class="fu">c</span>(<span class="st">&quot;keepNA&quot;</span>, <span class="st">&quot;keepInteger&quot;</span>, <span class="st">&quot;niceNames&quot;</span>, </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;showAttributes&quot;</span>))  </span></code></pre></div>
<ul>
<li><code>dput()</code> writes the textual representation of an
<code>x</code> object to a file, generating R code including metadata.
<ul>
<li>The metadata is then used by <code>dget()</code> to reconstruct the
R object.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="st">&quot;a&quot;</span>)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dput</span>(y)              <span class="co"># the textual representation of y produced by dput() is sent to console.</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="fu">structure</span>(<span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="fu">structure</span>(1L, <span class="at">.Label =</span> <span class="st">&quot;a&quot;</span>, <span class="at">class =</span> <span class="st">&quot;factor&quot;</span>)), <span class="at">class =</span> <span class="st">&quot;data.frame&quot;</span>, <span class="at">row.names =</span> <span class="fu">c</span>(<span class="cn">NA</span>, </span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span>1L))</span></code></pre></div>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dput</span>(y, <span class="at">file =</span> <span class="st">&quot;y.R&quot;</span>)       <span class="co"># writes the output into a file.</span></span></code></pre></div>
<ul>
<li><strong><code>dget()</code> function</strong></li>
</ul>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dget)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (file, <span class="at">keep.source =</span> <span class="cn">FALSE</span>)  </span></code></pre></div>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>                               <span class="co"># reads from a file (into RAM workspace) the textual</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>                               <span class="co"># representation of y and reconstructs the R object from the</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">dget</span>(<span class="st">&quot;y.R&quot;</span>)               <span class="co"># R code previously generated by dput().</span></span></code></pre></div>
</div>
<div id="deparsing-and-parsing-textual-format-with-dump-and-source-"
class="section level3" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> Deparsing and
parsing textual format with <code>dump()</code> and
<code>source()</code>-</h3>
<ul>
<li><strong><code>dump()</code> function</strong></li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dump)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (list, <span class="at">file =</span> <span class="st">&quot;dumpdata.R&quot;</span>, <span class="at">append =</span> <span class="cn">FALSE</span>, <span class="at">control =</span> <span class="st">&quot;all&quot;</span>, <span class="at">envir =</span> <span class="fu">parent.frame</span>(), </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">evaluate =</span> <span class="cn">TRUE</span>)  </span></code></pre></div>
<pre><code>  - Produces the text representation of multiple objects at once (it&#39;s first argument is infact
    a vector of characters with the names of the R objects we want to dump).  
  - A dump file is usually then &quot;sourced&quot; into another R session (here it is one of the main
    benefits of this format: it preserves the metadata of R objects and we can load into RAM
    all of them at once, so other users -or ourselves- don&#39;t have to specify them all over
    again).  </code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;foo&quot;</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> 1L, <span class="at">b =</span> <span class="st">&quot;a&quot;</span>)</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dump</span>(<span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="at">file =</span> <span class="st">&quot;dumped.R&quot;</span>)</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(x, y)</span></code></pre></div>
<ul>
<li><strong><code>source()</code> function</strong></li>
</ul>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;dumped.R&quot;</span>)             <span class="co"># reads from file (into RAM workspace) all objects dumped.</span></span></code></pre></div>
</div>
</div>
<div id="reading-and-convertingwriting-binary-data."
class="section level2" number="14.4">
<h2><span class="header-section-number">14.4</span> Reading and
converting/writing binary data.</h2>
<p>When do we use binary format?</p>
<ul>
<li>For efficiency pruposes.<br />
</li>
<li>Because there’s no useful way to represent data in a textual
manner.<br />
</li>
<li>To avoid losing precision that occurs when converting numeric data
to and from textual format.</li>
</ul>
<p>Extension of binary files:</p>
<ul>
<li>By convention is <code>.rda</code> (when using <code>save()</code>)
or <code>.RData</code> (when using <code>save.image()</code>).<br />
</li>
<li>Could be anything (binary functions don’t care), but only common
extensions are recognized by other software.</li>
</ul>
<div
id="convertingwriting-and-reading-binary-format-with-save-and-load."
class="section level3" number="14.4.1">
<h3><span class="header-section-number">14.4.1</span> Converting/writing
and reading binary format with <code>save()</code> and
<code>load()</code>.</h3>
<ul>
<li><strong><code>save()</code> function</strong></li>
</ul>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(save)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (..., <span class="at">list =</span> <span class="fu">character</span>(), <span class="at">file =</span> <span class="fu">stop</span>(<span class="st">&quot;&#39;file&#39; must be specified&quot;</span>), </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ascii =</span> <span class="cn">FALSE</span>, <span class="at">version =</span> <span class="cn">NULL</span>, <span class="at">envir =</span> <span class="fu">parent.frame</span>(), <span class="at">compress =</span> <span class="fu">isTRUE</span>(<span class="sc">!</span>ascii), </span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    compression_level, <span class="at">eval.promises =</span> <span class="cn">TRUE</span>, <span class="at">precheck =</span> <span class="cn">TRUE</span>)  </span></code></pre></div>
<pre><code>  - objects can be passed as:  
      - names as symbols, separated by commas (first arg), or  
      - as a vector of characters (second &quot;list&quot; arg)  </code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="at">y =</span> <span class="fu">runif</span>(<span class="dv">100</span>))</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="fl">4.4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(a, b, <span class="at">file =</span> <span class="st">&quot;mydata.rda&quot;</span>)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="co"># or</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span> (<span class="at">list =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="at">file =</span> <span class="st">&quot;mydata.rda&quot;</span>)</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(a, b)</span></code></pre></div>
<ul>
<li><strong><code>load()</code> function</strong></li>
</ul>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;mydata.rda&quot;</span>)      <span class="co"># reads from file (into RAM workspace) binary objects.</span></span></code></pre></div>
</div>
<div
id="convertingwriting-and-reading-binary-format-with-save.image-and-load."
class="section level3" number="14.4.2">
<h3><span class="header-section-number">14.4.2</span> Converting/writing
and reading binary format with <code>save.image()</code> and
<code>load()</code>.</h3>
<ul>
<li><strong><code>save.image()</code> function</strong></li>
</ul>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(save.image)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (<span class="at">file =</span> <span class="st">&quot;.RData&quot;</span>, <span class="at">version =</span> <span class="cn">NULL</span>, <span class="at">ascii =</span> <span class="cn">FALSE</span>, <span class="at">compress =</span> <span class="sc">!</span>ascii, </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">safe =</span> <span class="cn">TRUE</span>)  </span></code></pre></div>
<pre><code>  - It is just a short-cut for &quot;save my current workspace&quot;, so it converts all
    objects present in our RAM workspace into binary format and write them into the
    specified file in file system.  </code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">save.image</span>(<span class="at">file =</span> <span class="st">&quot;mydata.RData&quot;</span>)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="co"># or equivalently</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(<span class="at">list =</span> <span class="fu">ls</span>(<span class="at">all.names =</span> <span class="cn">TRUE</span>), <span class="at">file =</span> <span class="st">&quot;mydata.RData&quot;</span>, <span class="at">envir =</span> .GlobalEnv)</span></code></pre></div>
<ul>
<li><strong><code>load()</code> function</strong></li>
</ul>
</div>
<div id="converting-to-binary-format-with-serialize-function."
class="section level3" number="14.4.3">
<h3><span class="header-section-number">14.4.3</span> Converting to
binary format with <code>serialize()</code> function.</h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(serialize)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (object, connection, <span class="at">ascii =</span> <span class="cn">FALSE</span>, <span class="at">xdr =</span> <span class="cn">TRUE</span>, <span class="at">version =</span> <span class="cn">NULL</span>, </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">refhook =</span> <span class="cn">NULL</span>)  </span></code></pre></div>
<pre><code>  - Converts individual R objects that can be communicated across an arbitrary connection (over
    a network connection or other; also to a file, but is better in this last case to use
    save()).  
  - Gives as output a raw vector coded in hexadecimal format.  
  - Main benefit: it is the ONLY WAY TO PERFECTLY represent an R object in an EXPORTABLE format,
    WITHOUT losing precision or any metadata.  </code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>                                      <span class="co"># if connection is NULL, the function serializes</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="co"># the object to a raw vector wich is returned as</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="fu">serialize</span>(x, <span class="at">connection =</span> <span class="cn">NULL</span>)       <span class="co"># output (in the example, to console).</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="dv">58</span> 0a <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">03</span> <span class="dv">00</span> <span class="dv">03</span> <span class="dv">06</span> <span class="dv">03</span> <span class="dv">00</span> <span class="dv">03</span> <span class="dv">05</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">05</span> <span class="dv">55</span> <span class="dv">54</span> <span class="dv">46</span> 2d <span class="dv">38</span> <span class="dv">00</span> <span class="dv">00</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">26</span>] <span class="dv">00</span> <span class="dv">13</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">03</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> 0e <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">01</span> 3f f0 <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">51</span>] 0e <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">01</span> <span class="dv">40</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> 0e <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">01</span> <span class="dv">40</span> <span class="dv">08</span> <span class="dv">00</span> <span class="dv">00</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">76</span>] <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span> <span class="dv">00</span></span></code></pre></div>
<hr />
</div>
</div>
</div>
<div
id="reading-and-writing-lines-fromto-unstructured-or-non-standard-data-readlines-writelines."
class="section level1" number="15">
<h1><span class="header-section-number">15</span> Reading and writing
Lines from/to unstructured or non-standard data:
<code>readLines()</code>, <code>writeLines()</code>.</h1>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(readLines)</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (<span class="at">con =</span> <span class="fu">stdin</span>(), <span class="at">n =</span> <span class="sc">-</span>1L, <span class="at">ok =</span> <span class="cn">TRUE</span>, <span class="at">warn =</span> <span class="cn">TRUE</span>, <span class="at">encoding =</span> <span class="st">&quot;unknown&quot;</span>, </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">skipNul =</span> <span class="cn">FALSE</span>)  </span></code></pre></div>
<ul>
<li><p>A very useful function for reading, line by line, text files that
contain this kind of data.</p></li>
<li><p>It’s first argument, <code>con</code>, can be:</p>
<ul>
<li><p>a connection object (we’ll see right away what connections
are);</p></li>
<li><p>or a character string (the name of a file -a file connection is
opened-).</p></li>
</ul></li>
<li><p>The second argument, <code>n</code>, is an integer indicating the
maximal number of lines to read.</p></li>
<li><p>It <strong>returns</strong> a <strong>character vector</strong>
of <strong>length the number of lines read</strong>.</p>
<ul>
<li>So, <strong>each element</strong> of the returned vector is a
<strong>single line</strong> that can be specifically selected by
<strong>indices</strong> with the <strong>substetting
operators</strong>.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(writeLines)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (text, <span class="at">con =</span> <span class="fu">stdout</span>(), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="at">useBytes =</span> <span class="cn">FALSE</span>)  </span></code></pre></div>
<ul>
<li>This function takes a character vector as its first argument and
writes each element, one line at a time, to <code>con</code> (a
conection object or a file).</li>
</ul>
<hr />
</div>
<div id="connections." class="section level1" number="16">
<h1><span class="header-section-number">16</span> Connections.</h1>
<p>Connections can be thought of as a translator that lets us talk to
objects that are outside of R, such us:</p>
<ul>
<li>a data base;<br />
</li>
<li>a simple text file in the file system; or<br />
</li>
<li>a web service API.</li>
</ul>
<div id="file-connections." class="section level2" number="16.1">
<h2><span class="header-section-number">16.1</span> File
connections.</h2>
<div id="opening-and-closing-a-file-connection." class="section level3"
number="16.1.1">
<h3><span class="header-section-number">16.1.1</span> Opening and
closing a file connection.</h3>
<ul>
<li>file() function.
<ul>
<li>creates or/and opens a connection to a file.</li>
</ul></li>
<li>gzfile() and bzfile() functions.
<ul>
<li>create or/and open a conection to a file compressed with gzip or
bzip2 algorithms.</li>
</ul></li>
<li>Main arguments of all those three functions.
<ul>
<li><em>description:</em> the name of the file.<br />
</li>
<li><em>open:</em> indicates what mode the file should be opened in.
<ul>
<li>“r”, read only mode.<br />
</li>
<li>“w”, writing (and inizializing a new file).<br />
</li>
<li>“a”, appending mode.<br />
</li>
<li>“rb”, “wb”, “ab”, previous modes in binary (Windows).</li>
</ul></li>
</ul></li>
<li>Connections are always closed with close() function.</li>
</ul>
</div>
<div id="behind-the-scene." class="section level3" number="16.1.2">
<h3><span class="header-section-number">16.1.2</span> Behind the
scene.</h3>
<ul>
<li>All that connection interface
<ul>
<li>file(), close(), etc.<br />
</li>
</ul></li>
<li>is what reading and writing functions like
<ul>
<li>read.table(), read.csv()<br />
</li>
<li>dput(), dget(), dump(), source()<br />
</li>
<li>save(), save.image(), load(), etc.<br />
</li>
</ul></li>
<li>use to open a connection to a file, to read-from/write-to it and
close the connection.</li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;foo.txt&quot;</span>)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="co"># is the same as</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">file</span>(<span class="st">&quot;foo.txt&quot;</span>, <span class="st">&quot;r&quot;</span>)     <span class="co"># create a connection to a file and open it in read only mode.</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(con)           <span class="co"># do the work.</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="fu">close</span>(con)                      <span class="co"># close the connection.</span></span></code></pre></div>
<ul>
<li>Notice that we could make file() to <em>only create</em> the
connection and use another function <em>to open</em> the connection in
some mode, for example:</li>
</ul>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">file</span>(<span class="st">&quot;foo.txt&quot;</span>)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">open</span>(con, <span class="st">&quot;r&quot;</span>)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="do">## some work</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">close</span>(con)</span></code></pre></div>
</div>
<div id="partial-reading-of-files." class="section level3"
number="16.1.3">
<h3><span class="header-section-number">16.1.3</span> Partial reading of
files.</h3>
<ul>
<li><p>However, directly use of interface connection can be useful when
we want to read some parts of a file.</p></li>
<li><p>For example, we can use <strong>readLines()</strong> to read line
by line (this function takes, by the way, a connection object as
argument).</p></li>
</ul>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">gzfile</span>(<span class="st">&quot;words.gz&quot;</span>)       <span class="co"># creates a connection to a compressed file.</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">readLines</span>(con, <span class="dv">10</span>)         <span class="co"># opens the connection and reads 10 lines of the</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>                                <span class="co"># compressed file.</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Notice: we readed from a compressed file without having to uncompress it first,</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>     <span class="co"># which would&#39;ve been a waste of space and time.</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="fu">close</span>(con)</span></code></pre></div>
<ul>
<li>The other reading functions that we’ve seen:
<ul>
<li>read.table(), read.csv()<br />
</li>
<li>dget(), source(), load()<br />
</li>
</ul></li>
<li>can also take a connection object and read compressed files.</li>
</ul>
</div>
</div>
<div
id="url-connections-url-function-using-the-connection-with-readlines."
class="section level2" number="16.2">
<h2><span class="header-section-number">16.2</span> URL connections:
<code>url()</code> function, using the connection with
<code>readLines()</code>.</h2>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(url)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a> chr <span class="st">&quot;https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for&quot;</span></span></code></pre></div>
<ul>
<li><p>It creates an URL connection.</p></li>
<li><p>In other words, it negotiates the communication between our
computer and the web server.</p></li>
</ul>
<p>The <code>readLines()</code> function is the natural function for
reading from web pages.</p>
<ul>
<li>Web pages are basically text files stored on a remote server, so
there is conceptually not much difference between a web page and a local
text file.</li>
</ul>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">url</span>(<span class="st">&quot;http://www.jhsph.edu&quot;</span>, <span class="st">&quot;r&quot;</span>)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>htmlLines <span class="ot">&lt;-</span> <span class="fu">readLines</span>(con)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="fu">close</span>(con)</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(htmlLines)</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;character&quot;</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(htmlLines)</span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1813</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>htmlLines[<span class="dv">1</span>]</span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;&lt;!DOCTYPE html&gt;&quot;</span></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>htmlLines[<span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>]</span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;  &lt;head&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   </span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>] <span class="st">&quot;    &lt;meta charset=</span><span class="sc">\&quot;</span><span class="st">utf-8</span><span class="sc">\&quot;</span><span class="st"> /&gt;&lt;script type=</span><span class="sc">\&quot;</span><span class="st">text/javascript</span><span class="sc">\&quot;</span><span class="st">&gt;(window.NREUM||(NREUM={})).init={ajax:{deny_list:[</span><span class="sc">\&quot;</span><span class="st">bam.nr-data.net</span><span class="sc">\&quot;</span><span class="st">]}};(window.NREUM||(NREUM={})).loader_config={licenseKey:</span><span class="sc">\&quot;</span><span class="st">NRJS-b5c98f20e16a3c7b777</span><span class="sc">\&quot;</span><span class="st">,applicationID:</span><span class="sc">\&quot;</span><span class="st">534276521</span><span class="sc">\&quot;</span><span class="st">};;(()=&gt;{var e,t,r={9071:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{I:()=&gt;n});var n=0,i=navigator.userAgent.match(/Firefox[</span><span class="sc">\\</span><span class="st">/</span><span class="sc">\\</span><span class="st">s](</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">d+)/);i&amp;&amp;(n=+i[1])},6900:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;let n;if(r.d(t,{H:()=&gt;i}),r(2374).il){const e=document.createElement(</span><span class="sc">\&quot;</span><span class="st">div</span><span class="sc">\&quot;</span><span class="st">);e.innerHTML=</span><span class="sc">\&quot;\\</span><span class="st">x3c!--[if lte IE 6]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\\</span><span class="st">x3c!--[if lte IE 7]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\\</span><span class="st">x3c!--[if lte IE 8]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\\</span><span class="st">x3c!--[if lte IE 9]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\&quot;</span><span class="st">,n=e.getElementsByTagName(</span><span class="sc">\&quot;</span><span class="st">div</span><span class="sc">\&quot;</span><span class="st">).length}var i;i=4===n?6:3===n?7:2===n?8:1===n?9:0},6562:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{P_:()=&gt;h,Mt:()=&gt;v,C5:()=&gt;d,DL:()=&gt;w,OP:()=&gt;B,lF:()=&gt;V,Yu:()=&gt;A,Dg:()=&gt;p,CX:()=&gt;l,GE:()=&gt;y,sU:()=&gt;M});var n={};r.r(n),r.d(n,{agent:()=&gt;O,match:()=&gt;_,version:()=&gt;S});var i=r(6797),o=r(909),a=r(8610);class s{constructor(e,t){try{if(!e||</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof e)return(0,a.Z)(</span><span class="sc">\&quot;</span><span class="st">New setting a Configurable requires an object as input</span><span class="sc">\&quot;</span><span class="st">);if(!t||</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof t)return(0,a.Z)(</span><span class="sc">\&quot;</span><span class="st">Setting a Configurable requires a model to set its initial properties</span><span class="sc">\&quot;</span><span class="st">);Object.assign(this,t),Object.entries(e).forEach((e=&gt;{let[t,r]=e;const n=(0,o.q)(t);n.length&amp;&amp;r&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">==typeof r&amp;&amp;n.forEach((e=&gt;{e in r&amp;&amp;((0,a.Z)(`</span><span class="sc">\&quot;</span><span class="st">${e}</span><span class="sc">\&quot;</span><span class="st"> is a protected attribute and can not be changed in feature ${t}.  It will have no effect.`),delete r[e])})),this[t]=r}))}catch(e){(0,a.Z)(</span><span class="sc">\&quot;</span><span class="st">An error occured while setting a Configurable</span><span class="sc">\&quot;</span><span class="st">,e)}}}const c={beacon:i.ce.beacon,errorBeacon:i.ce.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},u={};function d(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All info objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!u[e])throw new Error(`Info for ${e} was never set`);return u[e]}function l(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All info objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);u[e]=new s(t,c),(0,i.Qy)(e,u[e],</span><span class="sc">\&quot;</span><span class="st">info</span><span class="sc">\&quot;</span><span class="st">)}const f={allow_bfcache:!1,privacy:{cookies_enabled:!0},ajax:{deny_list:void 0,enabled:!0,harvestTimeSeconds:10},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},ssl:void 0,obfuscate:void 0,jserrors:{enabled:!0,harvestTimeSeconds:10},metrics:{enabled:!0,harvestTimeSeconds:10},page_action:{enabled:!0,harvestTimeSeconds:30},page_view_event:{enabled:!0},page_view_timing:{enabled:!0,harvestTimeSeconds:30},session_trace:{enabled:!0,harvestTimeSeconds:10},spa:{enabled:!0,harvestTimeSeconds:10}},g={};function h(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All configuration objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!g[e])throw new Error(`Configuration for ${e} was never set`);return g[e]}function p(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All configuration objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);g[e]=new s(t,f),(0,i.Qy)(e,g[e],</span><span class="sc">\&quot;</span><span class="st">config</span><span class="sc">\&quot;</span><span class="st">)}function v(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All configuration objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);var r=h(e);if(r){for(var n=t.split(</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">),i=0;i&lt;n.length-1;i++)if(</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}const m={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},b={};function w(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All loader-config objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!b[e])throw new Error(`LoaderConfig for ${e} was never set`);return b[e]}function y(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All loader-config objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);b[e]=new s(t,m),(0,i.Qy)(e,b[e],</span><span class="sc">\&quot;</span><span class="st">loader_config</span><span class="sc">\&quot;</span><span class="st">)}const A=(0,i.mF)().o;var x=r(6900),E=r(2053),O=null,S=null;if(navigator.userAgent){var D=navigator.userAgent,j=D.match(/Version</span><span class="sc">\\</span><span class="st">/(</span><span class="sc">\\</span><span class="st">S+)</span><span class="sc">\\</span><span class="st">s+Safari/);j&amp;&amp;-1===D.indexOf(</span><span class="sc">\&quot;</span><span class="st">Chrome</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;-1===D.indexOf(</span><span class="sc">\&quot;</span><span class="st">Chromium</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;(O=</span><span class="sc">\&quot;</span><span class="st">Safari</span><span class="sc">\&quot;</span><span class="st">,S=j[1])}function _(e,t){if(!O)return!1;if(e!==O)return!1;if(!t)return!0;if(!S)return!1;for(var r=S.split(</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">),n=t.split(</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">),i=0;i&lt;n.length;i++)if(n[i]!==r[i])return!1;return!0}var k=r(5526),T=r(2374);const P=</span><span class="sc">\&quot;</span><span class="st">NRBA_SESSION_ID</span><span class="sc">\&quot;</span><span class="st">;function C(){if(!T.il)return null;try{let e;return null===(e=window.sessionStorage.getItem(P))&amp;&amp;(e=(0,k.ky)(16),window.sessionStorage.setItem(P,e)),e}catch(e){return null}}var I=T._A?.XMLHttpRequest,N=I&amp;&amp;I.prototype;const R={};function B(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All runtime objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!R[e])throw new Error(`Runtime for ${e} was never set`);return R[e]}function M(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All runtime objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);var r;R[e]=new s(t,(r=e,{customTransaction:void 0,disabled:!1,features:{},isolatedBacklog:!1,loaderType:void 0,maxBytes:6===x.H?2e3:3e4,offset:(0,E.yf)(),onerror:void 0,origin:</span><span class="sc">\&quot;\&quot;</span><span class="st">+T._A?.location,ptid:void 0,releaseIds:{},sessionId:1==v(r,</span><span class="sc">\&quot;</span><span class="st">privacy.cookies_enabled</span><span class="sc">\&quot;</span><span class="st">)?C():null,xhrWrappable:I&amp;&amp;N&amp;&amp;N.addEventListener&amp;&amp;!/CriOS/.test(navigator.userAgent),userAgent:n})),(0,i.Qy)(e,R[e],</span><span class="sc">\&quot;</span><span class="st">runtime</span><span class="sc">\&quot;</span><span class="st">)}function V(e){return function(e){try{const t=d(e);return!!t.licenseKey&amp;&amp;!!t.errorBeacon&amp;&amp;!!t.applicationID}catch(e){return!1}}(e)}},8226:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{q:()=&gt;n});const n=</span><span class="sc">\&quot;</span><span class="st">1223.PROD</span><span class="sc">\&quot;</span><span class="st">},9557:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{w:()=&gt;o});var n=r(8610);const i={agentIdentifier:</span><span class="sc">\&quot;\&quot;</span><span class="st">};class o{constructor(e){try{if(</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof e)return(0,n.Z)(</span><span class="sc">\&quot;</span><span class="st">shared context requires an object as input</span><span class="sc">\&quot;</span><span class="st">);this.sharedContext={},Object.assign(this.sharedContext,i),Object.entries(e).forEach((e=&gt;{let[t,r]=e;Object.keys(i).includes(t)&amp;&amp;(this.sharedContext[t]=r)}))}catch(e){(0,n.Z)(</span><span class="sc">\&quot;</span><span class="st">An error occured while setting SharedContext</span><span class="sc">\&quot;</span><span class="st">,e)}}}},4329:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{L:()=&gt;d,R:()=&gt;c});var n=r(3752),i=r(7022),o=r(4045),a=r(2325);const s={};function c(e,t){const r={staged:!1,priority:a.p[t]||0};u(e),s[e].get(t)||s[e].set(t,r)}function u(e){e&amp;&amp;(s[e]||(s[e]=new Map))}function d(){let e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:</span><span class="sc">\&quot;\&quot;</span><span class="st">,t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:</span><span class="sc">\&quot;</span><span class="st">feature</span><span class="sc">\&quot;</span><span class="st">;if(u(e),!e||!s[e].get(t))return a(t);s[e].get(t).staged=!0;const r=Array.from(s[e]);function a(t){const r=e?n.ee.get(e):n.ee,a=o.X.handlers;if(r.backlog&amp;&amp;a){var s=r.backlog[t],c=a[t];if(c){for(var u=0;s&amp;&amp;u&lt;s.length;++u)l(s[u],c);(0,i.D)(c,(function(e,t){(0,i.D)(t,(function(t,r){r[0].on(e,r[1])}))}))}delete a[t],r.backlog[t]=null,r.emit(</span><span class="sc">\&quot;</span><span class="st">drain-</span><span class="sc">\&quot;</span><span class="st">+t,[])}}r.every((e=&gt;{let[t,r]=e;return r.staged}))&amp;&amp;(r.sort(((e,t)=&gt;e[1].priority-t[1].priority)),r.forEach((e=&gt;{let[t]=e;a(t)})))}function l(e,t){var r=e[1];(0,i.D)(t[r],(function(t,r){var n=e[0];if(r[0]===n){var i=r[1],o=e[3],a=e[2];i.apply(o,a)}}))}},3752:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{ee:()=&gt;u});var n=r(6797),i=r(3916),o=r(7022),a=r(6562),s=</span><span class="sc">\&quot;</span><span class="st">nr@context</span><span class="sc">\&quot;</span><span class="st">;let c=(0,n.fP)();var u;function d(){}function l(){return new d}function f(){(u.backlog.api||u.backlog.feature)&amp;&amp;(u.aborted=!0,u.backlog={})}c.ee?u=c.ee:(u=function e(t,r){var n={},c={},g={},h=!1;try{h=16===r.length&amp;&amp;(0,a.OP)(r).isolatedBacklog}catch(e){}var p={on:b,addEventListener:b,removeEventListener:w,emit:m,get:A,listeners:y,context:v,buffer:x,abort:f,aborted:!1,isBuffering:E,debugId:r,backlog:h?{}:t&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">==typeof t.backlog?t.backlog:{}};return p;function v(e){return e&amp;&amp;e instanceof d?e:e?(0,i.X)(e,s,l):l()}function m(e,r,n,i,o){if(!1!==o&amp;&amp;(o=!0),!u.aborted||i){t&amp;&amp;o&amp;&amp;t.emit(e,r,n);for(var a=v(n),s=y(e),d=s.length,l=0;l&lt;d;l++)s[l].apply(a,r);var f=O()[c[e]];return f&amp;&amp;f.push([p,e,r,a]),a}}function b(e,t){n[e]=y(e).concat(t)}function w(e,t){var r=n[e];if(r)for(var i=0;i&lt;r.length;i++)r[i]===t&amp;&amp;r.splice(i,1)}function y(e){return n[e]||[]}function A(t){return g[t]=g[t]||e(p,t)}function x(e,t){var r=O();p.aborted||(0,o.D)(e,(function(e,n){t=t||</span><span class="sc">\&quot;</span><span class="st">feature</span><span class="sc">\&quot;</span><span class="st">,c[n]=t,t in r||(r[t]=[])}))}function E(e){return!!O()[c[e]]}function O(){return p.backlog}}(void 0,</span><span class="sc">\&quot;</span><span class="st">globalEE</span><span class="sc">\&quot;</span><span class="st">),c.ee=u)},9252:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{E:()=&gt;n,p:()=&gt;i});var n=r(3752).ee.get(</span><span class="sc">\&quot;</span><span class="st">handle</span><span class="sc">\&quot;</span><span class="st">);function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},4045:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{X:()=&gt;o});var n=r(9252);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.E,i,e,t,r)}function a(e,t,r,i,o){o||(o=</span><span class="sc">\&quot;</span><span class="st">feature</span><span class="sc">\&quot;</span><span class="st">),e||(e=n.E);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},8544:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{bP:()=&gt;s,iz:()=&gt;c,m$:()=&gt;a});var n=r(2374),i=!1;try{var o=Object.defineProperty({},</span><span class="sc">\&quot;</span><span class="st">passive</span><span class="sc">\&quot;</span><span class="st">,{get:function(){i=!0}});n._A?.addEventListener(</span><span class="sc">\&quot;</span><span class="st">testPassive</span><span class="sc">\&quot;</span><span class="st">,null,o),n._A?.removeEventListener(</span><span class="sc">\&quot;</span><span class="st">testPassive</span><span class="sc">\&quot;</span><span class="st">,null,o)}catch(e){}function a(e){return i?{passive:!0,capture:!!e}:!!e}function s(e,t){let r=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]&amp;&amp;arguments[2];window.addEventListener(e,t,a(r))}function c(e,t){let r=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]&amp;&amp;arguments[2];document.addEventListener(e,t,a(r))}},5526:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{Rl:()=&gt;i,ky:()=&gt;o});var n=r(2374);function i(){var e=null,t=0,r=n._A?.crypto||n._A?.msCrypto;function i(){return e?15&amp;e[t++]:16*Math.random()|0}r&amp;&amp;r.getRandomValues&amp;&amp;(e=r.getRandomValues(new Uint8Array(31)));for(var o,a=</span><span class="sc">\&quot;</span><span class="st">xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx</span><span class="sc">\&quot;</span><span class="st">,s=</span><span class="sc">\&quot;\&quot;</span><span class="st">,c=0;c&lt;a.length;c++)s+=</span><span class="sc">\&quot;</span><span class="st">x</span><span class="sc">\&quot;</span><span class="st">===(o=a[c])?i().toString(16):</span><span class="sc">\&quot;</span><span class="st">y</span><span class="sc">\&quot;</span><span class="st">===o?(o=3&amp;i()|8).toString(16):o;return s}function o(e){var t=null,r=0,n=self.crypto||self.msCrypto;n&amp;&amp;n.getRandomValues&amp;&amp;Uint8Array&amp;&amp;(t=n.getRandomValues(new Uint8Array(31)));for(var i=[],o=0;o&lt;e;o++)i.push(a().toString(16));return i.join(</span><span class="sc">\&quot;\&quot;</span><span class="st">);function a(){return t?15&amp;t[r++]:16*Math.random()|0}}},2053:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{nb:()=&gt;c,os:()=&gt;u,yf:()=&gt;s,zO:()=&gt;a});var n=r(7145),i=(new Date).getTime(),o=i;function a(){return n.G&amp;&amp;performance.now?Math.round(performance.now()):(i=Math.max((new Date).getTime(),i))-o}function s(){return i}function c(e){o=e}function u(){return o}},7145:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{G:()=&gt;n});const n=void 0!==r(2374)._A?.performance?.timing?.navigationStart},6625:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{s:()=&gt;c,v:()=&gt;u});var n=r(8283),i=r(9071),o=r(2053),a=r(7145),s=r(2374);let c=!0;function u(e){var t=function(){if(i.I&amp;&amp;i.I&lt;9)return;if(a.G)return c=!1,s._A?.performance?.timing?.navigationStart}();t&amp;&amp;((0,n.B)(e,</span><span class="sc">\&quot;</span><span class="st">starttime</span><span class="sc">\&quot;</span><span class="st">,t),(0,o.nb)(t))}},8283:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{B:()=&gt;o,L:()=&gt;a});var n=r(2053),i={};function o(e,t,r){void 0===r&amp;&amp;(r=(0,n.zO)()+(0,n.os)()),i[e]=i[e]||{},i[e][t]=r}function a(e,t,r,n){const o=e.sharedContext.agentIdentifier;var a=i[o]?.[r],s=i[o]?.[n];void 0!==a&amp;&amp;void 0!==s&amp;&amp;e.store(</span><span class="sc">\&quot;</span><span class="st">measures</span><span class="sc">\&quot;</span><span class="st">,t,{value:s-a})}},9548:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{T:()=&gt;i});var n=r(2374);const i={isFileProtocol:function(){let e=Boolean(</span><span class="sc">\&quot;</span><span class="st">file:</span><span class="sc">\&quot;</span><span class="st">===(0,n.lW)()?.location?.protocol);e&amp;&amp;(i.supportabilityMetricSent=!0);return e},supportabilityMetricSent:!1}},8610:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;function n(e,t){console&amp;&amp;console.warn&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">function</span><span class="sc">\&quot;</span><span class="st">==typeof console.warn&amp;&amp;(console.warn(`New Relic: ${e}`),t&amp;&amp;console.warn(t))}r.d(t,{Z:()=&gt;n})},3916:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{X:()=&gt;i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&amp;&amp;Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},2374:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{_A:()=&gt;o,il:()=&gt;n,lW:()=&gt;a,v6:()=&gt;i});const n=Boolean(</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof window&amp;&amp;window.document),i=Boolean(</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof WorkerGlobalScope&amp;&amp;self.navigator instanceof WorkerNavigator);let o=(()=&gt;{if(n)return window;if(i){if(</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof globalThis&amp;&amp;globalThis instanceof WorkerGlobalScope)return globalThis;if(self instanceof WorkerGlobalScope)return self}throw new Error(</span><span class="sc">\&quot;</span><span class="st">New Relic browser agent shutting down due to error: Unable to locate global scope. This is possibly due to code redefining browser global variables like `self` and `window`.</span><span class="sc">\&quot;</span><span class="st">)})();function a(){return o}},7022:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{D:()=&gt;i});var n=Object.prototype.hasOwnProperty;function i(e,t){var r=[],i=</span><span class="sc">\&quot;\&quot;</span><span class="st">,o=0;for(i in e)n.call(e,i)&amp;&amp;(r[o]=t(i,e[i]),o+=1);return r}},9226:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{$c:()=&gt;u,Ng:()=&gt;d,RR:()=&gt;c});var n=r(6562),i=r(9557),o=r(9548),a=r(8610),s={regex:/^file:</span><span class="sc">\\</span><span class="st">/</span><span class="sc">\\</span><span class="st">/(.*)/,replacement:</span><span class="sc">\&quot;</span><span class="st">file://OBFUSCATED</span><span class="sc">\&quot;</span><span class="st">};class c extends i.w{constructor(e){super(e)}shouldObfuscate(){return u(this.sharedContext.agentIdentifier).length&gt;0}obfuscateString(e){if(!e||</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">!=typeof e)return e;for(var t=u(this.sharedContext.agentIdentifier),r=e,n=0;n&lt;t.length;n++){var i=t[n].regex,o=t[n].replacement||</span><span class="sc">\&quot;</span><span class="st">*</span><span class="sc">\&quot;</span><span class="st">;r=r.replace(i,o)}return r}}function u(e){var t=[],r=(0,n.Mt)(e,</span><span class="sc">\&quot;</span><span class="st">obfuscate</span><span class="sc">\&quot;</span><span class="st">)||[];return t=t.concat(r),o.T.isFileProtocol()&amp;&amp;t.push(s),t}function d(e){for(var t=!1,r=!1,n=0;n&lt;e.length;n++){</span><span class="sc">\&quot;</span><span class="st">regex</span><span class="sc">\&quot;</span><span class="st">in e[n]?</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">!=typeof e[n].regex&amp;&amp;e[n].regex.constructor!==RegExp&amp;&amp;((0,a.Z)(&#39;An obfuscation replacement rule contains a </span><span class="sc">\&quot;</span><span class="st">regex</span><span class="sc">\&quot;</span><span class="st"> value with an invalid type (must be a string or RegExp)&#39;),r=!0):((0,a.Z)(&#39;An obfuscation replacement rule was detected missing a </span><span class="sc">\&quot;</span><span class="st">regex</span><span class="sc">\&quot;</span><span class="st"> value.&#39;),r=!0);var i=e[n].replacement;i&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">!=typeof i&amp;&amp;((0,a.Z)(&#39;An obfuscation replacement rule contains a </span><span class="sc">\&quot;</span><span class="st">replacement</span><span class="sc">\&quot;</span><span class="st"> value with an invalid type (must be a string)&#39;),t=!0)}return!t&amp;&amp;!r}},2650:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{K:()=&gt;a,b:()=&gt;o});var n=r(8544);function i(){return</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">==typeof document||</span><span class="sc">\&quot;</span><span class="st">complete</span><span class="sc">\&quot;</span><span class="st">===document.readyState}function o(e,t){if(i())return e();(0,n.bP)(</span><span class="sc">\&quot;</span><span class="st">load</span><span class="sc">\&quot;</span><span class="st">,e,t)}function a(e){if(i())return e();(0,n.iz)(</span><span class="sc">\&quot;</span><span class="st">DOMContentLoaded</span><span class="sc">\&quot;</span><span class="st">,e)}},6797:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{EZ:()=&gt;u,Qy:()=&gt;c,ce:()=&gt;o,fP:()=&gt;a,gG:()=&gt;d,mF:()=&gt;s});var n=r(2053),i=r(2374);const o={beacon:</span><span class="sc">\&quot;</span><span class="st">bam.nr-data.net</span><span class="sc">\&quot;</span><span class="st">,errorBeacon:</span><span class="sc">\&quot;</span><span class="st">bam.nr-data.net</span><span class="sc">\&quot;</span><span class="st">};function a(){return i._A.NREUM||(i._A.NREUM={}),void 0===i._A.newrelic&amp;&amp;(i._A.newrelic=i._A.NREUM),i._A.NREUM}function s(){let e=a();return e.o||(e.o={ST:i._A.setTimeout,SI:i._A.setImmediate,CT:i._A.clearTimeout,XHR:i._A.XMLHttpRequest,REQ:i._A.Request,EV:i._A.Event,PR:i._A.Promise,MO:i._A.MutationObserver,FETCH:i._A.fetch}),e}function c(e,t,r){let i=a();const o=i.initializedAgents||{},s=o[e]||{};return Object.keys(s).length||(s.initializedAt={ms:(0,n.zO)(),date:new Date}),i.initializedAgents={...o,[e]:{...s,[r]:t}},i}function u(e,t){a()[e]=t}function d(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},6998:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{N:()=&gt;i,e:()=&gt;o});var n=r(8544);function i(e){let t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]&amp;&amp;arguments[1];return void(0,n.iz)(</span><span class="sc">\&quot;</span><span class="st">visibilitychange</span><span class="sc">\&quot;</span><span class="st">,r);function r(){if(t){if(</span><span class="sc">\&quot;</span><span class="st">hidden</span><span class="sc">\&quot;</span><span class="st">!=document.visibilityState)return;e()}e(document.visibilityState)}}function o(){return</span><span class="sc">\&quot;</span><span class="st">hidden</span><span class="sc">\&quot;</span><span class="st">===document.visibilityState?-1:1/0}},6034:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{t:()=&gt;n});const n=r(2325).D.metrics},2484:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{t:()=&gt;n});const n=r(2325).D.pageViewEvent},6382:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{t:()=&gt;n});const n=r(2325).D.pageViewTiming},1509:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{W:()=&gt;s});var n=r(6562),i=r(3752),o=r(2384),a=r(6797);class s{constructor(e,t,r){this.agentIdentifier=e,this.aggregator=t,this.ee=i.ee.get(e,(0,n.OP)(this.agentIdentifier).isolatedBacklog),this.featureName=r,this.blocked=!1,this.checkConfiguration()}checkConfiguration(){if(!(0,n.lF)(this.agentIdentifier)){let e={...(0,a.gG)().info?.jsAttributes};try{e={...e,...(0,n.C5)(this.agentIdentifier)?.jsAttributes}}catch(e){}(0,o.j)(this.agentIdentifier,{...(0,a.gG)(),info:{...(0,a.gG)().info,jsAttributes:e}})}}}},2384:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{j:()=&gt;w});var n=r(8683),i=r.n(n),o=r(2325),a=r(6562),s=r(9252),c=r(7022),u=r(3752),d=r(2053),l=r(4329),f=r(2650),g=r(2374);function h(e,t,n){n||(0,l.R)(e,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">),function(e){function t(t){for(var r=arguments.length,n=new Array(r&gt;1?r-1:0),i=1;i&lt;r;i++)n[i-1]=arguments[i];Object.values(e.initializedAgents).forEach((e=&gt;{e.exposed&amp;&amp;e.api[t]&amp;&amp;e.api[t](...n)}))}[</span><span class="sc">\&quot;</span><span class="st">setErrorHandler</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">finished</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addToTrace</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">inlineHit</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addRelease</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addPageAction</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">setCurrentRouteName</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">setPageViewName</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">setCustomAttribute</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">interaction</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">noticeError</span><span class="sc">\&quot;</span><span class="st">].forEach((r=&gt;{e[r]=function(){for(var e=arguments.length,n=new Array(e),i=0;i&lt;e;i++)n[i]=arguments[i];return t(r,...n)}}))}(t);var h=u.ee.get(e),p=h.get(</span><span class="sc">\&quot;</span><span class="st">tracer</span><span class="sc">\&quot;</span><span class="st">),v=</span><span class="sc">\&quot;</span><span class="st">api-</span><span class="sc">\&quot;</span><span class="st">,m=</span><span class="sc">\&quot;</span><span class="st">api-ixn-</span><span class="sc">\&quot;</span><span class="st">;function b(){}(0,c.D)([</span><span class="sc">\&quot;</span><span class="st">setErrorHandler</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">finished</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addToTrace</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">inlineHit</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addRelease</span><span class="sc">\&quot;</span><span class="st">],(function(e,r){t[r]=y(v,r,!0,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)})),t.addPageAction=y(v,</span><span class="sc">\&quot;</span><span class="st">addPageAction</span><span class="sc">\&quot;</span><span class="st">,!0,o.D.pageAction),t.setCurrentRouteName=y(v,</span><span class="sc">\&quot;</span><span class="st">routeName</span><span class="sc">\&quot;</span><span class="st">,!0,o.D.spa),t.setPageViewName=function(t,r){if(</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">==typeof t)return</span><span class="sc">\&quot;</span><span class="st">/</span><span class="sc">\&quot;</span><span class="st">!==t.charAt(0)&amp;&amp;(t=</span><span class="sc">\&quot;</span><span class="st">/</span><span class="sc">\&quot;</span><span class="st">+t),(0,a.OP)(e).customTransaction=(r||</span><span class="sc">\&quot;</span><span class="st">http://custom.transaction</span><span class="sc">\&quot;</span><span class="st">)+t,y(v,</span><span class="sc">\&quot;</span><span class="st">setPageViewName</span><span class="sc">\&quot;</span><span class="st">,!0,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)()},t.setCustomAttribute=function(t,r){const n=(0,a.C5)(e);return(0,a.CX)(e,{...n,jsAttributes:{...n.jsAttributes,[t]:r}}),y(v,</span><span class="sc">\&quot;</span><span class="st">setCustomAttribute</span><span class="sc">\&quot;</span><span class="st">,!0,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)()},t.interaction=function(){return(new b).get()};var w=b.prototype={createTracer:function(e,t){var r={},n=this,i=</span><span class="sc">\&quot;</span><span class="st">function</span><span class="sc">\&quot;</span><span class="st">==typeof t;return(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">api-ixn-tracer</span><span class="sc">\&quot;</span><span class="st">,[(0,d.zO)(),e,r],n,o.D.spa,h),function(){if(p.emit((i?</span><span class="sc">\&quot;\&quot;</span><span class="st">:</span><span class="sc">\&quot;</span><span class="st">no-</span><span class="sc">\&quot;</span><span class="st">)+</span><span class="sc">\&quot;</span><span class="st">fn-start</span><span class="sc">\&quot;</span><span class="st">,[(0,d.zO)(),n,i],r),i)try{return t.apply(this,arguments)}catch(e){throw p.emit(</span><span class="sc">\&quot;</span><span class="st">fn-err</span><span class="sc">\&quot;</span><span class="st">,[arguments,this,</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">==typeof e?new Error(e):e],r),e}finally{p.emit(</span><span class="sc">\&quot;</span><span class="st">fn-end</span><span class="sc">\&quot;</span><span class="st">,[(0,d.zO)()],r)}}}};function y(e,t,r,n){return function(){return(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">record-supportability</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">API/</span><span class="sc">\&quot;</span><span class="st">+t+</span><span class="sc">\&quot;</span><span class="st">/called</span><span class="sc">\&quot;</span><span class="st">],void 0,o.D.metrics,h),(0,s.p)(e+t,[(0,d.zO)()].concat(i()(arguments)),r?null:this,n,h),r?void 0:this}}function A(){r.e(692).then(r.bind(r,5692)).then((t=&gt;{let{setAPI:r}=t;r(e),(0,l.L)(e,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)}))}(0,c.D)(</span><span class="sc">\&quot;</span><span class="st">actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get</span><span class="sc">\&quot;</span><span class="st">.split(</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">),(function(e,t){w[t]=y(m,t,void 0,o.D.spa)})),t.noticeError=function(e,t){</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">==typeof e&amp;&amp;(e=new Error(e)),(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">record-supportability</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">API/noticeError/called</span><span class="sc">\&quot;</span><span class="st">],void 0,o.D.metrics,h),(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">err</span><span class="sc">\&quot;</span><span class="st">,[e,(0,d.zO)(),!1,t],void 0,o.D.jserrors,h)},g.v6?A():(0,f.b)((()=&gt;A()),!0)}var p=r(6797);const v={stn:o.D.sessionTrace,err:o.D.jserrors,ins:o.D.pageAction,spa:o.D.spa};function m(e,t){var r=u.ee.get(t);e&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">==typeof e&amp;&amp;((0,c.D)(e,(function(e,t){if(!t)return(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">block-</span><span class="sc">\&quot;</span><span class="st">+e,[],void 0,v[e],r);t&amp;&amp;!b[e]&amp;&amp;((0,s.p)(</span><span class="sc">\&quot;</span><span class="st">feat-</span><span class="sc">\&quot;</span><span class="st">+e,[],void 0,v[e],r),b[e]=!0)})),(0,l.L)(t,o.D.pageViewEvent))}const b={};function w(e){let t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{},r=arguments.length&gt;2?arguments[2]:void 0,n=arguments.length&gt;3?arguments[3]:void 0,{init:i,info:o,loader_config:s,runtime:c={loaderType:r},exposed:u=!0}=t;const d=(0,p.gG)();let l={};return o||(i=d.init,o=d.info,s=d.loader_config,l=d),g.v6&amp;&amp;(o.jsAttributes={...o.jsAttributes,isWorker:!0}),(0,a.CX)(e,o),(0,a.Dg)(e,i||{}),(0,a.GE)(e,s||{}),(0,a.sU)(e,c),h(e,l,n),(0,p.Qy)(e,d,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">),(0,p.Qy)(e,u,</span><span class="sc">\&quot;</span><span class="st">exposed</span><span class="sc">\&quot;</span><span class="st">),g.v6||((0,p.EZ)(</span><span class="sc">\&quot;</span><span class="st">activatedFeatures</span><span class="sc">\&quot;</span><span class="st">,b),(0,p.EZ)(</span><span class="sc">\&quot;</span><span class="st">setToken</span><span class="sc">\&quot;</span><span class="st">,(t=&gt;m(t,e)))),l}},909:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{Z:()=&gt;i,q:()=&gt;o});var n=r(2325);function i(e){switch(e){case n.D.ajax:return[n.D.jserrors];case n.D.sessionTrace:return[n.D.ajax,n.D.pageViewEvent];case n.D.pageViewTiming:return[n.D.pageViewEvent];default:return[]}}function o(e){return e===n.D.jserrors?[]:[</span><span class="sc">\&quot;</span><span class="st">auto</span><span class="sc">\&quot;</span><span class="st">]}},2325:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{D:()=&gt;n,p:()=&gt;i});const n={ajax:</span><span class="sc">\&quot;</span><span class="st">ajax</span><span class="sc">\&quot;</span><span class="st">,jserrors:</span><span class="sc">\&quot;</span><span class="st">jserrors</span><span class="sc">\&quot;</span><span class="st">,metrics:</span><span class="sc">\&quot;</span><span class="st">metrics</span><span class="sc">\&quot;</span><span class="st">,pageAction:</span><span class="sc">\&quot;</span><span class="st">page_action</span><span class="sc">\&quot;</span><span class="st">,pageViewEvent:</span><span class="sc">\&quot;</span><span class="st">page_view_event</span><span class="sc">\&quot;</span><span class="st">,pageViewTiming:</span><span class="sc">\&quot;</span><span class="st">page_view_timing</span><span class="sc">\&quot;</span><span class="st">,sessionTrace:</span><span class="sc">\&quot;</span><span class="st">session_trace</span><span class="sc">\&quot;</span><span class="st">,spa:</span><span class="sc">\&quot;</span><span class="st">spa</span><span class="sc">\&quot;</span><span class="st">},i={[n.pageViewEvent]:1,[n.pageViewTiming]:2,[n.metrics]:3,[n.jserrors]:4,[n.ajax]:5,[n.sessionTrace]:6,[n.pageAction]:7,[n.spa]:8}},8683:e=&gt;{e.exports=function(e,t,r){t||(t=0),void 0===r&amp;&amp;(r=e?e.length:0);for(var n=-1,i=r-t||0,o=Array(i&lt;0?0:i);++n&lt;i;)o[n]=e[t+n];return o}},4992:(e,t,r)=&gt;{var n={</span><span class="sc">\&quot;</span><span class="st">./ajax/aggregate</span><span class="sc">\&quot;</span><span class="st">:[960,779,960],</span><span class="sc">\&quot;</span><span class="st">./jserrors/aggregate</span><span class="sc">\&quot;</span><span class="st">:[6112,779,112],</span><span class="sc">\&quot;</span><span class="st">./metrics/aggregate</span><span class="sc">\&quot;</span><span class="st">:[4325,779,325],</span><span class="sc">\&quot;</span><span class="st">./page_action/aggregate</span><span class="sc">\&quot;</span><span class="st">:[6817,779,817],</span><span class="sc">\&quot;</span><span class="st">./page_view_event/aggregate</span><span class="sc">\&quot;</span><span class="st">:[4823,779,823],</span><span class="sc">\&quot;</span><span class="st">./page_view_timing/aggregate</span><span class="sc">\&quot;</span><span class="st">:[8785,779,785],</span><span class="sc">\&quot;</span><span class="st">./session_trace/aggregate</span><span class="sc">\&quot;</span><span class="st">:[1307,779,307],</span><span class="sc">\&quot;</span><span class="st">./spa/aggregate</span><span class="sc">\&quot;</span><span class="st">:[9378,779,378]};function i(e){if(!r.o(n,e))return Promise.resolve().then((()=&gt;{var t=new Error(</span><span class="sc">\&quot;</span><span class="st">Cannot find module &#39;</span><span class="sc">\&quot;</span><span class="st">+e+</span><span class="sc">\&quot;</span><span class="st">&#39;</span><span class="sc">\&quot;</span><span class="st">);throw t.code=</span><span class="sc">\&quot;</span><span class="st">MODULE_NOT_FOUND</span><span class="sc">\&quot;</span><span class="st">,t}));var t=n[e],i=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=&gt;r(i)))}i.keys=()=&gt;Object.keys(n),i.id=4992,e.exports=i}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.n=e=&gt;{var t=e&amp;&amp;e.__esModule?()=&gt;e.default:()=&gt;e;return i.d(t,{a:t}),t},i.d=(e,t)=&gt;{for(var r in t)i.o(t,r)&amp;&amp;!i.o(e,r)&amp;&amp;Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=&gt;Promise.all(Object.keys(i.f).reduce(((t,r)=&gt;(i.f[r](e,t),t)),[])),i.u=e=&gt;e+</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">+i.h().slice(0,8)+</span><span class="sc">\&quot;</span><span class="st">-1223.js</span><span class="sc">\&quot;</span><span class="st">,i.h=()=&gt;</span><span class="sc">\&quot;</span><span class="st">215647de1097144af948</span><span class="sc">\&quot;</span><span class="st">,i.o=(e,t)=&gt;Object.prototype.hasOwnProperty.call(e,t),e={},t=</span><span class="sc">\&quot;</span><span class="st">NRBA:</span><span class="sc">\&quot;</span><span class="st">,i.l=(r,n,o,a)=&gt;{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName(</span><span class="sc">\&quot;</span><span class="st">script</span><span class="sc">\&quot;</span><span class="st">),d=0;d&lt;u.length;d++){var l=u[d];if(l.getAttribute(</span><span class="sc">\&quot;</span><span class="st">src</span><span class="sc">\&quot;</span><span class="st">)==r||l.getAttribute(</span><span class="sc">\&quot;</span><span class="st">data-webpack</span><span class="sc">\&quot;</span><span class="st">)==t+o){s=l;break}}s||(c=!0,(s=document.createElement(</span><span class="sc">\&quot;</span><span class="st">script</span><span class="sc">\&quot;</span><span class="st">)).charset=</span><span class="sc">\&quot;</span><span class="st">utf-8</span><span class="sc">\&quot;</span><span class="st">,s.timeout=120,i.nc&amp;&amp;s.setAttribute(</span><span class="sc">\&quot;</span><span class="st">nonce</span><span class="sc">\&quot;</span><span class="st">,i.nc),s.setAttribute(</span><span class="sc">\&quot;</span><span class="st">data-webpack</span><span class="sc">\&quot;</span><span class="st">,t+o),s.src=r),e[r]=[n];var f=(t,n)=&gt;{s.onerror=s.onload=null,clearTimeout(g);var i=e[r];if(delete e[r],s.parentNode&amp;&amp;s.parentNode.removeChild(s),i&amp;&amp;i.forEach((e=&gt;e(n))),t)return t(n)},g=setTimeout(f.bind(null,void 0,{type:</span><span class="sc">\&quot;</span><span class="st">timeout</span><span class="sc">\&quot;</span><span class="st">,target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&amp;&amp;document.head.appendChild(s)}},i.r=e=&gt;{</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:</span><span class="sc">\&quot;</span><span class="st">Module</span><span class="sc">\&quot;</span><span class="st">}),Object.defineProperty(e,</span><span class="sc">\&quot;</span><span class="st">__esModule</span><span class="sc">\&quot;</span><span class="st">,{value:!0})},i.p=</span><span class="sc">\&quot;</span><span class="st">https://js-agent.newrelic.com/</span><span class="sc">\&quot;</span><span class="st">,(()=&gt;{var e={55:0,308:0};i.f.j=(t,r)=&gt;{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=&gt;n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=&gt;{if(i.o(e,t)&amp;&amp;(0!==(n=e[t])&amp;&amp;(e[t]=void 0),n)){var o=r&amp;&amp;(</span><span class="sc">\&quot;</span><span class="st">load</span><span class="sc">\&quot;</span><span class="st">===r.type?</span><span class="sc">\&quot;</span><span class="st">missing</span><span class="sc">\&quot;</span><span class="st">:r.type),a=r&amp;&amp;r.target&amp;&amp;r.target.src;s.message=</span><span class="sc">\&quot;</span><span class="st">Loading chunk </span><span class="sc">\&quot;</span><span class="st">+t+</span><span class="sc">\&quot;</span><span class="st"> failed.</span><span class="sc">\\</span><span class="st">n(</span><span class="sc">\&quot;</span><span class="st">+o+</span><span class="sc">\&quot;</span><span class="st">: </span><span class="sc">\&quot;</span><span class="st">+a+</span><span class="sc">\&quot;</span><span class="st">)</span><span class="sc">\&quot;</span><span class="st">,s.name=</span><span class="sc">\&quot;</span><span class="st">ChunkLoadError</span><span class="sc">\&quot;</span><span class="st">,s.type=o,s.request=a,n[1](s)}}),</span><span class="sc">\&quot;</span><span class="st">chunk-</span><span class="sc">\&quot;</span><span class="st">+t,t)}};var t=(t,r)=&gt;{var n,o,[a,s,c]=r,u=0;if(a.some((t=&gt;0!==e[t]))){for(n in s)i.o(s,n)&amp;&amp;(i.m[n]=s[n]);if(c)c(i)}for(t&amp;&amp;t(r);u&lt;a.length;u++)o=a[u],i.o(e,o)&amp;&amp;e[o]&amp;&amp;e[o][0](),e[o]=0},r=window.webpackChunkNRBA=window.webpackChunkNRBA||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o={};(()=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;i.r(o);var e=i(2325),t=i(6562);const r=Object.values(e.D);function n(e){const n={};return r.forEach((r=&gt;{n[r]=function(e,r){return!1!==(0,t.Mt)(r,`${e}.enabled`)}(r,e)})),n}var a=i(2384),s=i(909),c=i(9557),u=i(7022);class d extends c.w{constructor(e){super(e),this.aggregatedData={}}store(e,t,r,n,i){var o=this.getBucket(e,t,r,i);return o.metrics=function(e,t){t||(t={count:0});return t.count+=1,(0,u.D)(e,(function(e,r){t[e]=l(r,t[e])})),t}(n,o.metrics),o}merge(e,t,r,n,i){var o=this.getBucket(e,t,n,i);if(o.metrics){var a=o.metrics;a.count+=r.count,(0,u.D)(r,(function(e,t){if(</span><span class="sc">\&quot;</span><span class="st">count</span><span class="sc">\&quot;</span><span class="st">!==e){var n=a[e],i=r[e];i&amp;&amp;!i.c?a[e]=l(i.t,n):a[e]=function(e,t){if(!t)return e;t.c||(t=f(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(i,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.getBucket(e,t,r);return i.stats=l(n,i.stats),i}getBucket(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&amp;&amp;(i.custom=n)),i}get(e,t){return t?this.aggregatedData[e]&amp;&amp;this.aggregatedData[e][t]:this.aggregatedData[e]}take(e){for(var t={},r=</span><span class="sc">\&quot;\&quot;</span><span class="st">,n=!1,i=0;i&lt;e.length;i++)t[r=e[i]]=g(this.aggregatedData[r]),t[r].length&amp;&amp;(n=!0),delete this.aggregatedData[r];return n?t:null}}function l(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=f(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e&gt;t.max&amp;&amp;(t.max=e),e&lt;t.min&amp;&amp;(t.min=e),t):{t:e}}function f(e){return{t:e,min:e,max:e,sos:e*e,c:1}}function g(e){return</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof e?[]:(0,u.D)(e,h)}function h(e,t){return t}var p=i(6797),v=i(5526),m=i(8610);var b=i(9252),w=i(2053),y=i(8283),A=i(6625),x=i(4329),E=i(1509),O=i(2650),S=i(2374);class D extends E.W{constructor(e,t,r){let n=!(arguments.length&gt;3&amp;&amp;void 0!==arguments[3])||arguments[3];super(e,t,r),this.completed=new Promise(((e,t)=&gt;{this.resolve=e,this.reject=t})),this.hasAggregator=!1,this.auto=n,n&amp;&amp;(0,x.R)(e,r)}importAggregator(){try{if(this.hasAggregator||!this.auto)return;this.hasAggregator=!0;const e=async()=&gt;{try{const{Aggregate:e}=await i(4992)(`./${this.featureName}/aggregate`);new e(this.agentIdentifier,this.aggregator),this.resolve()}catch(e){(0,m.Z)(`Failed to import aggregator class for ${this.featureName}`,e)}};S.v6?e():(0,O.b)((()=&gt;e()),!0)}catch(e){this.reject(e)}}}var j,_,k,T=i(2484);class P extends D{constructor(e,t){let r=!(arguments.length&gt;2&amp;&amp;void 0!==arguments[2])||arguments[2];super(e,t,T.t,r),S.il&amp;&amp;((0,A.v)(e),(0,y.B)(e,</span><span class="sc">\&quot;</span><span class="st">firstbyte</span><span class="sc">\&quot;</span><span class="st">,(0,w.yf)()),(0,O.K)((()=&gt;this.measureDomContentLoaded())),(0,O.b)((()=&gt;this.measureWindowLoaded()),!0),this.importAggregator())}measureWindowLoaded(){var t=(0,w.zO)();(0,y.B)(this.agentIdentifier,</span><span class="sc">\&quot;</span><span class="st">onload</span><span class="sc">\&quot;</span><span class="st">,t+(0,w.os)()),(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">load</span><span class="sc">\&quot;</span><span class="st">,t],void 0,e.D.pageViewTiming,this.ee)}measureDomContentLoaded(){(0,y.B)(this.agentIdentifier,</span><span class="sc">\&quot;</span><span class="st">domContent</span><span class="sc">\&quot;</span><span class="st">,(0,w.zO)()+(0,w.os)())}}j=P,_=</span><span class="sc">\&quot;</span><span class="st">featureName</span><span class="sc">\&quot;</span><span class="st">,k=T.t,_ in j?Object.defineProperty(j,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):j[_]=k;var C=i(6998),I=i(8544),N=i(6382);class R extends D{constructor(t,r){var n;let i=!(arguments.length&gt;2&amp;&amp;void 0!==arguments[2])||arguments[2];if(super(t,r,N.t,i),n=this,S.il){if(this.pageHiddenTime=(0,C.e)(),this.performanceObserver,this.lcpPerformanceObserver,this.clsPerformanceObserver,this.fiRecorded=!1,</span><span class="sc">\&quot;</span><span class="st">PerformanceObserver</span><span class="sc">\&quot;</span><span class="st">in window&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">function</span><span class="sc">\&quot;</span><span class="st">==typeof window.PerformanceObserver){this.performanceObserver=new PerformanceObserver((function(){return n.perfObserver(...arguments)}));try{this.performanceObserver.observe({entryTypes:[</span><span class="sc">\&quot;</span><span class="st">paint</span><span class="sc">\&quot;</span><span class="st">]})}catch(e){}this.lcpPerformanceObserver=new PerformanceObserver((function(){return n.lcpObserver(...arguments)}));try{this.lcpPerformanceObserver.observe({entryTypes:[</span><span class="sc">\&quot;</span><span class="st">largest-contentful-paint</span><span class="sc">\&quot;</span><span class="st">]})}catch(e){}this.clsPerformanceObserver=new PerformanceObserver((function(){return n.clsObserver(...arguments)}));try{this.clsPerformanceObserver.observe({type:</span><span class="sc">\&quot;</span><span class="st">layout-shift</span><span class="sc">\&quot;</span><span class="st">,buffered:!0})}catch(e){}}this.fiRecorded=!1;[</span><span class="sc">\&quot;</span><span class="st">click</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">keydown</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">mousedown</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">pointerdown</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">touchstart</span><span class="sc">\&quot;</span><span class="st">].forEach((e=&gt;{(0,I.iz)(e,(function(){return n.captureInteraction(...arguments)}))})),(0,C.N)((()=&gt;{this.pageHiddenTime=(0,w.zO)(),(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">docHidden</span><span class="sc">\&quot;</span><span class="st">,[this.pageHiddenTime],void 0,e.D.pageViewTiming,this.ee)}),!0),(0,I.bP)(</span><span class="sc">\&quot;</span><span class="st">pagehide</span><span class="sc">\&quot;</span><span class="st">,(()=&gt;(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">winPagehide</span><span class="sc">\&quot;</span><span class="st">,[(0,w.zO)()],void 0,e.D.pageViewTiming,this.ee))),this.importAggregator()}}perfObserver(t,r){t.getEntries().forEach((t=&gt;{</span><span class="sc">\&quot;</span><span class="st">first-paint</span><span class="sc">\&quot;</span><span class="st">===t.name?(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">fp</span><span class="sc">\&quot;</span><span class="st">,Math.floor(t.startTime)],void 0,e.D.pageViewTiming,this.ee):</span><span class="sc">\&quot;</span><span class="st">first-contentful-paint</span><span class="sc">\&quot;</span><span class="st">===t.name&amp;&amp;(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">fcp</span><span class="sc">\&quot;</span><span class="st">,Math.floor(t.startTime)],void 0,e.D.pageViewTiming,this.ee)}))}lcpObserver(t,r){var n=t.getEntries();if(n.length&gt;0){var i=n[n.length-1];if(this.pageHiddenTime&lt;i.startTime)return;var o=[i],a=this.addConnectionAttributes({});a&amp;&amp;o.push(a),(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">lcp</span><span class="sc">\&quot;</span><span class="st">,o,void 0,e.D.pageViewTiming,this.ee)}}clsObserver(t){t.getEntries().forEach((t=&gt;{t.hadRecentInput||(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">cls</span><span class="sc">\&quot;</span><span class="st">,[t],void 0,e.D.pageViewTiming,this.ee)}))}addConnectionAttributes(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t)return t.type&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-type</span><span class="sc">\&quot;</span><span class="st">]=t.type),t.effectiveType&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-etype</span><span class="sc">\&quot;</span><span class="st">]=t.effectiveType),t.rtt&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-rtt</span><span class="sc">\&quot;</span><span class="st">]=t.rtt),t.downlink&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-dlink</span><span class="sc">\&quot;</span><span class="st">]=t.downlink),e}captureInteraction(r){if(r instanceof t.Yu.EV&amp;&amp;!this.fiRecorded){var n=Math.round(r.timeStamp),i={type:r.type};this.addConnectionAttributes(i),n&lt;=(0,w.zO)()?i.fid=(0,w.zO)()-n:n&gt;(0,w.os)()&amp;&amp;n&lt;=Date.now()?(n-=(0,w.os)(),i.fid=(0,w.zO)()-n):n=(0,w.zO)(),this.fiRecorded=!0,(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">fi</span><span class="sc">\&quot;</span><span class="st">,n,i],void 0,e.D.pageViewTiming,this.ee)}}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(R,</span><span class="sc">\&quot;</span><span class="st">featureName</span><span class="sc">\&quot;</span><span class="st">,N.t);var B=i(4045),M=</span><span class="sc">\&quot;</span><span class="st">React</span><span class="sc">\&quot;</span><span class="st">,V=</span><span class="sc">\&quot;</span><span class="st">Angular</span><span class="sc">\&quot;</span><span class="st">,q=</span><span class="sc">\&quot;</span><span class="st">AngularJS</span><span class="sc">\&quot;</span><span class="st">,L=</span><span class="sc">\&quot;</span><span class="st">Backbone</span><span class="sc">\&quot;</span><span class="st">,z=</span><span class="sc">\&quot;</span><span class="st">Ember</span><span class="sc">\&quot;</span><span class="st">,W=</span><span class="sc">\&quot;</span><span class="st">Vue</span><span class="sc">\&quot;</span><span class="st">,$=</span><span class="sc">\&quot;</span><span class="st">Meteor</span><span class="sc">\&quot;</span><span class="st">,F=</span><span class="sc">\&quot;</span><span class="st">Zepto</span><span class="sc">\&quot;</span><span class="st">,G=</span><span class="sc">\&quot;</span><span class="st">Jquery</span><span class="sc">\&quot;</span><span class="st">;function Z(){if(!S.il)return[];var e=[];try{(function(){try{if(window.React||window.ReactDOM||window.ReactRedux)return!0;if(document.querySelector(</span><span class="sc">\&quot;</span><span class="st">[data-reactroot], [data-reactid]</span><span class="sc">\&quot;</span><span class="st">))return!0;for(var e=document.querySelectorAll(</span><span class="sc">\&quot;</span><span class="st">body &gt; div</span><span class="sc">\&quot;</span><span class="st">),t=0;t&lt;e.length;t++)if(Object.keys(e[t]).indexOf(</span><span class="sc">\&quot;</span><span class="st">_reactRootContainer</span><span class="sc">\&quot;</span><span class="st">)&gt;=0)return!0;return!1}catch(e){return!1}})()&amp;&amp;e.push(M),function(){try{return!!window.angular||(!!document.querySelector(</span><span class="sc">\&quot;</span><span class="st">.ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]</span><span class="sc">\&quot;</span><span class="st">)||!!document.querySelector(&#39;script[src*=</span><span class="sc">\&quot;</span><span class="st">angular.js</span><span class="sc">\&quot;</span><span class="st">], script[src*=</span><span class="sc">\&quot;</span><span class="st">angular.min.js</span><span class="sc">\&quot;</span><span class="st">]&#39;))}catch(e){return!1}}()&amp;&amp;e.push(q),function(){try{return!!(window.hasOwnProperty(</span><span class="sc">\&quot;</span><span class="st">ng</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;window.ng.hasOwnProperty(</span><span class="sc">\&quot;</span><span class="st">coreTokens</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;window.ng.coreTokens.hasOwnProperty(</span><span class="sc">\&quot;</span><span class="st">NgZone</span><span class="sc">\&quot;</span><span class="st">))||!!document.querySelectorAll(</span><span class="sc">\&quot;</span><span class="st">[ng-version]</span><span class="sc">\&quot;</span><span class="st">).length}catch(e){return!1}}()&amp;&amp;e.push(V),window.Backbone&amp;&amp;e.push(L),window.Ember&amp;&amp;e.push(z),window.Vue&amp;&amp;e.push(W),window.Meteor&amp;&amp;e.push($),window.Zepto&amp;&amp;e.push(F),window.jQuery&amp;&amp;e.push(G)}catch(e){}return e}var U=i(9548),H=i(9226),X=i(8226);const Q=Boolean(S._A?.Worker),K=Boolean(S._A?.SharedWorker),J=Boolean(S._A?.navigator?.serviceWorker);let Y,ee,te;var re=i(6034);class ne extends D{constructor(e,t){var r;let n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length&gt;3&amp;&amp;void 0!==arguments[3])||arguments[3];super(e,t,re.t,i),r=this,this.PfFeatStatusEnum=n,this.singleChecks(),this.eachSessionChecks(),(0,B.X)(</span><span class="sc">\&quot;</span><span class="st">record-supportability</span><span class="sc">\&quot;</span><span class="st">,(function(){return r.recordSupportability(...arguments)}),this.featureName,this.ee),(0,B.X)(</span><span class="sc">\&quot;</span><span class="st">record-custom</span><span class="sc">\&quot;</span><span class="st">,(function(){return r.recordCustom(...arguments)}),this.featureName,this.ee),this.importAggregator()}recordSupportability(e,t){var r=[</span><span class="sc">\&quot;</span><span class="st">sm</span><span class="sc">\&quot;</span><span class="st">,e,{name:e},t];return(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">storeMetric</span><span class="sc">\&quot;</span><span class="st">,r,null,this.featureName,this.ee),r}recordCustom(e,t){var r=[</span><span class="sc">\&quot;</span><span class="st">cm</span><span class="sc">\&quot;</span><span class="st">,e,{name:e},t];return(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">storeEventMetrics</span><span class="sc">\&quot;</span><span class="st">,r,null,this.featureName,this.ee),r}singleChecks(){this.recordSupportability(`Generic/Version/${X.q}/Detected`);const{loaderType:e}=(0,t.OP)(this.agentIdentifier);e&amp;&amp;this.recordSupportability(`Generic/LoaderType/${e}/Detected`),S.il&amp;&amp;(0,O.K)((()=&gt;{Z().forEach((e=&gt;{this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Framework/</span><span class="sc">\&quot;</span><span class="st">+e+</span><span class="sc">\&quot;</span><span class="st">/Detected</span><span class="sc">\&quot;</span><span class="st">)}))})),U.T.isFileProtocol()&amp;&amp;(this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Generic/FileProtocol/Detected</span><span class="sc">\&quot;</span><span class="st">),U.T.supportabilityMetricSent=!0);const r=(0,H.$c)(this.agentIdentifier);r.length&gt;0&amp;&amp;this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Generic/Obfuscate/Detected</span><span class="sc">\&quot;</span><span class="st">),r.length&gt;0&amp;&amp;!(0,H.Ng)(r)&amp;&amp;this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Generic/Obfuscate/Invalid</span><span class="sc">\&quot;</span><span class="st">),S.il&amp;&amp;this.reportPolyfillsNeeded(),function(e){if(!Y){if(Q){Y=Worker;try{S._A.Worker=r(Y,</span><span class="sc">\&quot;</span><span class="st">Dedicated</span><span class="sc">\&quot;</span><span class="st">)}catch(e){o(e,</span><span class="sc">\&quot;</span><span class="st">Dedicated</span><span class="sc">\&quot;</span><span class="st">)}if(K){ee=SharedWorker;try{S._A.SharedWorker=r(ee,</span><span class="sc">\&quot;</span><span class="st">Shared</span><span class="sc">\&quot;</span><span class="st">)}catch(e){o(e,</span><span class="sc">\&quot;</span><span class="st">Shared</span><span class="sc">\&quot;</span><span class="st">)}}else n(</span><span class="sc">\&quot;</span><span class="st">Shared</span><span class="sc">\&quot;</span><span class="st">);if(J){te=navigator.serviceWorker.register;try{S._A.navigator.serviceWorker.register=(t=te,function(){for(var e=arguments.length,r=new Array(e),n=0;n&lt;e;n++)r[n]=arguments[n];return i(</span><span class="sc">\&quot;</span><span class="st">Service</span><span class="sc">\&quot;</span><span class="st">,r[1]?.type),t.apply(navigator.serviceWorker,r)})}catch(e){o(e,</span><span class="sc">\&quot;</span><span class="st">Service</span><span class="sc">\&quot;</span><span class="st">)}}else n(</span><span class="sc">\&quot;</span><span class="st">Service</span><span class="sc">\&quot;</span><span class="st">);var t;return}n(</span><span class="sc">\&quot;</span><span class="st">All</span><span class="sc">\&quot;</span><span class="st">)}function r(e,t){return new Proxy(e,{construct:(e,r)=&gt;(i(t,r[1]?.type),new e(...r))})}function n(t){S.v6||e(`Workers/${t}/Unavailable`)}function i(t,r){e(</span><span class="sc">\&quot;</span><span class="st">module</span><span class="sc">\&quot;</span><span class="st">===r?`Workers/${t}/Module`:`Workers/${t}/Classic`)}function o(t,r){e(`Workers/${r}/SM/Unsupported`),(0,m.Z)(`NR Agent: Unable to capture ${r} workers.`,t)}}(this.recordSupportability.bind(this))}reportPolyfillsNeeded(){this.recordSupportability(`Generic/Polyfill/Promise/${this.PfFeatStatusEnum.PROMISE}`),this.recordSupportability(`Generic/Polyfill/ArrayIncludes/${this.PfFeatStatusEnum.ARRAY_INCLUDES}`),this.recordSupportability(`Generic/Polyfill/ObjectAssign/${this.PfFeatStatusEnum.OBJECT_ASSIGN}`),this.recordSupportability(`Generic/Polyfill/ObjectEntries/${this.PfFeatStatusEnum.OBJECT_ENTRIES}`)}eachSessionChecks(){S.il&amp;&amp;(0,I.bP)(</span><span class="sc">\&quot;</span><span class="st">pageshow</span><span class="sc">\&quot;</span><span class="st">,(e=&gt;{e.persisted&amp;&amp;this.recordCustom(</span><span class="sc">\&quot;</span><span class="st">Custom/BFCache/PageRestored</span><span class="sc">\&quot;</span><span class="st">)}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ne,</span><span class="sc">\&quot;</span><span class="st">featureName</span><span class="sc">\&quot;</span><span class="st">,re.t);new class{constructor(t){let r=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:(0,v.ky)(16);this.agentIdentifier=r,this.sharedAggregator=new d({agentIdentifier:this.agentIdentifier}),this.features={},this.desiredFeatures=t.features||[],this.desiredFeatures.sort(((t,r)=&gt;e.p[t.featureName]-e.p[r.featureName])),Object.assign(this,(0,a.j)(this.agentIdentifier,t,t.loaderType||</span><span class="sc">\&quot;</span><span class="st">agent</span><span class="sc">\&quot;</span><span class="st">)),this.start()}get config(){return{info:(0,t.C5)(this.agentIdentifier),init:(0,t.P_)(this.agentIdentifier),loader_config:(0,t.DL)(this.agentIdentifier),runtime:(0,t.OP)(this.agentIdentifier)}}start(){try{const e=n(this.agentIdentifier);this.desiredFeatures.forEach((t=&gt;{if(e[t.featureName]){const r=(0,s.Z)(t.featureName);r.every((t=&gt;e[t]))||(0,m.Z)(`${t.featureName} is enabled but one or more dependent features has been disabled (${JSON.stringify(r)}). This may cause unintended consequences or missing data...`),this.features[t.featureName]=new t(this.agentIdentifier,this.sharedAggregator)}})),(0,p.Qy)(this.agentIdentifier,this.features,</span><span class="sc">\&quot;</span><span class="st">features</span><span class="sc">\&quot;</span><span class="st">)}catch(e){return(0,m.Z)(</span><span class="sc">\&quot;</span><span class="st">Failed to initialize instrument classes</span><span class="sc">\&quot;</span><span class="st">,e),!1}}}({features:[P,R,ne],loaderType:</span><span class="sc">\&quot;</span><span class="st">lite</span><span class="sc">\&quot;</span><span class="st">})})(),window.NRBA=o})();&lt;/script&gt;&quot;</span></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>] <span class="st">&quot;&lt;link rel=</span><span class="sc">\&quot;</span><span class="st">canonical</span><span class="sc">\&quot;</span><span class="st"> href=</span><span class="sc">\&quot;</span><span class="st">https://publichealth.jhu.edu/</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>] <span class="st">&quot;&lt;link rel=</span><span class="sc">\&quot;</span><span class="st">shortlink</span><span class="sc">\&quot;</span><span class="st"> href=</span><span class="sc">\&quot;</span><span class="st">https://publichealth.jhu.edu/</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">5</span>] <span class="st">&quot;&lt;link rel=</span><span class="sc">\&quot;</span><span class="st">image_src</span><span class="sc">\&quot;</span><span class="st"> href=</span><span class="sc">\&quot;</span><span class="st">https://publichealth.jhu.edu/sites/default/files/2021-09/bloomberg-school-og-image.jpg</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 </span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a>[<span class="dv">6</span>] <span class="st">&quot;&lt;meta name=</span><span class="sc">\&quot;</span><span class="st">description</span><span class="sc">\&quot;</span><span class="st"> content=</span><span class="sc">\&quot;</span><span class="st">Protecting Health, Saving Lives—Millions at a Time</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               </span>
<span id="cb95-21"><a href="#cb95-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-22"><a href="#cb95-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(htmlLines, <span class="dv">10</span>)</span>
<span id="cb95-23"><a href="#cb95-23" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;&lt;!DOCTYPE html&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </span>
<span id="cb95-24"><a href="#cb95-24" aria-hidden="true" tabindex="-1"></a> [<span class="dv">2</span>] <span class="st">&quot;&lt;html lang=</span><span class="sc">\&quot;</span><span class="st">en</span><span class="sc">\&quot;</span><span class="st"> dir=</span><span class="sc">\&quot;</span><span class="st">ltr</span><span class="sc">\&quot;</span><span class="st"> prefix=</span><span class="sc">\&quot;</span><span class="st">og: https://ogp.me/ns#</span><span class="sc">\&quot;</span><span class="st">&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           </span>
<span id="cb95-25"><a href="#cb95-25" aria-hidden="true" tabindex="-1"></a> [<span class="dv">3</span>] <span class="st">&quot;  &lt;head&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   </span>
<span id="cb95-26"><a href="#cb95-26" aria-hidden="true" tabindex="-1"></a> [<span class="dv">4</span>] <span class="st">&quot;    &lt;meta charset=</span><span class="sc">\&quot;</span><span class="st">utf-8</span><span class="sc">\&quot;</span><span class="st"> /&gt;&lt;script type=</span><span class="sc">\&quot;</span><span class="st">text/javascript</span><span class="sc">\&quot;</span><span class="st">&gt;(window.NREUM||(NREUM={})).init={ajax:{deny_list:[</span><span class="sc">\&quot;</span><span class="st">bam.nr-data.net</span><span class="sc">\&quot;</span><span class="st">]}};(window.NREUM||(NREUM={})).loader_config={licenseKey:</span><span class="sc">\&quot;</span><span class="st">NRJS-b5c98f20e16a3c7b777</span><span class="sc">\&quot;</span><span class="st">,applicationID:</span><span class="sc">\&quot;</span><span class="st">534276521</span><span class="sc">\&quot;</span><span class="st">};;(()=&gt;{var e,t,r={9071:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{I:()=&gt;n});var n=0,i=navigator.userAgent.match(/Firefox[</span><span class="sc">\\</span><span class="st">/</span><span class="sc">\\</span><span class="st">s](</span><span class="sc">\\</span><span class="st">d+</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">d+)/);i&amp;&amp;(n=+i[1])},6900:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;let n;if(r.d(t,{H:()=&gt;i}),r(2374).il){const e=document.createElement(</span><span class="sc">\&quot;</span><span class="st">div</span><span class="sc">\&quot;</span><span class="st">);e.innerHTML=</span><span class="sc">\&quot;\\</span><span class="st">x3c!--[if lte IE 6]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\\</span><span class="st">x3c!--[if lte IE 7]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\\</span><span class="st">x3c!--[if lte IE 8]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\\</span><span class="st">x3c!--[if lte IE 9]&gt;&lt;div&gt;&lt;/div&gt;&lt;![endif]--</span><span class="sc">\\</span><span class="st">x3e</span><span class="sc">\&quot;</span><span class="st">,n=e.getElementsByTagName(</span><span class="sc">\&quot;</span><span class="st">div</span><span class="sc">\&quot;</span><span class="st">).length}var i;i=4===n?6:3===n?7:2===n?8:1===n?9:0},6562:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{P_:()=&gt;h,Mt:()=&gt;v,C5:()=&gt;d,DL:()=&gt;w,OP:()=&gt;B,lF:()=&gt;V,Yu:()=&gt;A,Dg:()=&gt;p,CX:()=&gt;l,GE:()=&gt;y,sU:()=&gt;M});var n={};r.r(n),r.d(n,{agent:()=&gt;O,match:()=&gt;_,version:()=&gt;S});var i=r(6797),o=r(909),a=r(8610);class s{constructor(e,t){try{if(!e||</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof e)return(0,a.Z)(</span><span class="sc">\&quot;</span><span class="st">New setting a Configurable requires an object as input</span><span class="sc">\&quot;</span><span class="st">);if(!t||</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof t)return(0,a.Z)(</span><span class="sc">\&quot;</span><span class="st">Setting a Configurable requires a model to set its initial properties</span><span class="sc">\&quot;</span><span class="st">);Object.assign(this,t),Object.entries(e).forEach((e=&gt;{let[t,r]=e;const n=(0,o.q)(t);n.length&amp;&amp;r&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">==typeof r&amp;&amp;n.forEach((e=&gt;{e in r&amp;&amp;((0,a.Z)(`</span><span class="sc">\&quot;</span><span class="st">${e}</span><span class="sc">\&quot;</span><span class="st"> is a protected attribute and can not be changed in feature ${t}.  It will have no effect.`),delete r[e])})),this[t]=r}))}catch(e){(0,a.Z)(</span><span class="sc">\&quot;</span><span class="st">An error occured while setting a Configurable</span><span class="sc">\&quot;</span><span class="st">,e)}}}const c={beacon:i.ce.beacon,errorBeacon:i.ce.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},u={};function d(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All info objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!u[e])throw new Error(`Info for ${e} was never set`);return u[e]}function l(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All info objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);u[e]=new s(t,c),(0,i.Qy)(e,u[e],</span><span class="sc">\&quot;</span><span class="st">info</span><span class="sc">\&quot;</span><span class="st">)}const f={allow_bfcache:!1,privacy:{cookies_enabled:!0},ajax:{deny_list:void 0,enabled:!0,harvestTimeSeconds:10},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},ssl:void 0,obfuscate:void 0,jserrors:{enabled:!0,harvestTimeSeconds:10},metrics:{enabled:!0,harvestTimeSeconds:10},page_action:{enabled:!0,harvestTimeSeconds:30},page_view_event:{enabled:!0},page_view_timing:{enabled:!0,harvestTimeSeconds:30},session_trace:{enabled:!0,harvestTimeSeconds:10},spa:{enabled:!0,harvestTimeSeconds:10}},g={};function h(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All configuration objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!g[e])throw new Error(`Configuration for ${e} was never set`);return g[e]}function p(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All configuration objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);g[e]=new s(t,f),(0,i.Qy)(e,g[e],</span><span class="sc">\&quot;</span><span class="st">config</span><span class="sc">\&quot;</span><span class="st">)}function v(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All configuration objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);var r=h(e);if(r){for(var n=t.split(</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">),i=0;i&lt;n.length-1;i++)if(</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}const m={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},b={};function w(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All loader-config objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!b[e])throw new Error(`LoaderConfig for ${e} was never set`);return b[e]}function y(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All loader-config objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);b[e]=new s(t,m),(0,i.Qy)(e,b[e],</span><span class="sc">\&quot;</span><span class="st">loader_config</span><span class="sc">\&quot;</span><span class="st">)}const A=(0,i.mF)().o;var x=r(6900),E=r(2053),O=null,S=null;if(navigator.userAgent){var D=navigator.userAgent,j=D.match(/Version</span><span class="sc">\\</span><span class="st">/(</span><span class="sc">\\</span><span class="st">S+)</span><span class="sc">\\</span><span class="st">s+Safari/);j&amp;&amp;-1===D.indexOf(</span><span class="sc">\&quot;</span><span class="st">Chrome</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;-1===D.indexOf(</span><span class="sc">\&quot;</span><span class="st">Chromium</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;(O=</span><span class="sc">\&quot;</span><span class="st">Safari</span><span class="sc">\&quot;</span><span class="st">,S=j[1])}function _(e,t){if(!O)return!1;if(e!==O)return!1;if(!t)return!0;if(!S)return!1;for(var r=S.split(</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">),n=t.split(</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">),i=0;i&lt;n.length;i++)if(n[i]!==r[i])return!1;return!0}var k=r(5526),T=r(2374);const P=</span><span class="sc">\&quot;</span><span class="st">NRBA_SESSION_ID</span><span class="sc">\&quot;</span><span class="st">;function C(){if(!T.il)return null;try{let e;return null===(e=window.sessionStorage.getItem(P))&amp;&amp;(e=(0,k.ky)(16),window.sessionStorage.setItem(P,e)),e}catch(e){return null}}var I=T._A?.XMLHttpRequest,N=I&amp;&amp;I.prototype;const R={};function B(e){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All runtime objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);if(!R[e])throw new Error(`Runtime for ${e} was never set`);return R[e]}function M(e,t){if(!e)throw new Error(</span><span class="sc">\&quot;</span><span class="st">All runtime objects require an agent identifier!</span><span class="sc">\&quot;</span><span class="st">);var r;R[e]=new s(t,(r=e,{customTransaction:void 0,disabled:!1,features:{},isolatedBacklog:!1,loaderType:void 0,maxBytes:6===x.H?2e3:3e4,offset:(0,E.yf)(),onerror:void 0,origin:</span><span class="sc">\&quot;\&quot;</span><span class="st">+T._A?.location,ptid:void 0,releaseIds:{},sessionId:1==v(r,</span><span class="sc">\&quot;</span><span class="st">privacy.cookies_enabled</span><span class="sc">\&quot;</span><span class="st">)?C():null,xhrWrappable:I&amp;&amp;N&amp;&amp;N.addEventListener&amp;&amp;!/CriOS/.test(navigator.userAgent),userAgent:n})),(0,i.Qy)(e,R[e],</span><span class="sc">\&quot;</span><span class="st">runtime</span><span class="sc">\&quot;</span><span class="st">)}function V(e){return function(e){try{const t=d(e);return!!t.licenseKey&amp;&amp;!!t.errorBeacon&amp;&amp;!!t.applicationID}catch(e){return!1}}(e)}},8226:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{q:()=&gt;n});const n=</span><span class="sc">\&quot;</span><span class="st">1223.PROD</span><span class="sc">\&quot;</span><span class="st">},9557:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{w:()=&gt;o});var n=r(8610);const i={agentIdentifier:</span><span class="sc">\&quot;\&quot;</span><span class="st">};class o{constructor(e){try{if(</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof e)return(0,n.Z)(</span><span class="sc">\&quot;</span><span class="st">shared context requires an object as input</span><span class="sc">\&quot;</span><span class="st">);this.sharedContext={},Object.assign(this.sharedContext,i),Object.entries(e).forEach((e=&gt;{let[t,r]=e;Object.keys(i).includes(t)&amp;&amp;(this.sharedContext[t]=r)}))}catch(e){(0,n.Z)(</span><span class="sc">\&quot;</span><span class="st">An error occured while setting SharedContext</span><span class="sc">\&quot;</span><span class="st">,e)}}}},4329:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{L:()=&gt;d,R:()=&gt;c});var n=r(3752),i=r(7022),o=r(4045),a=r(2325);const s={};function c(e,t){const r={staged:!1,priority:a.p[t]||0};u(e),s[e].get(t)||s[e].set(t,r)}function u(e){e&amp;&amp;(s[e]||(s[e]=new Map))}function d(){let e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:</span><span class="sc">\&quot;\&quot;</span><span class="st">,t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:</span><span class="sc">\&quot;</span><span class="st">feature</span><span class="sc">\&quot;</span><span class="st">;if(u(e),!e||!s[e].get(t))return a(t);s[e].get(t).staged=!0;const r=Array.from(s[e]);function a(t){const r=e?n.ee.get(e):n.ee,a=o.X.handlers;if(r.backlog&amp;&amp;a){var s=r.backlog[t],c=a[t];if(c){for(var u=0;s&amp;&amp;u&lt;s.length;++u)l(s[u],c);(0,i.D)(c,(function(e,t){(0,i.D)(t,(function(t,r){r[0].on(e,r[1])}))}))}delete a[t],r.backlog[t]=null,r.emit(</span><span class="sc">\&quot;</span><span class="st">drain-</span><span class="sc">\&quot;</span><span class="st">+t,[])}}r.every((e=&gt;{let[t,r]=e;return r.staged}))&amp;&amp;(r.sort(((e,t)=&gt;e[1].priority-t[1].priority)),r.forEach((e=&gt;{let[t]=e;a(t)})))}function l(e,t){var r=e[1];(0,i.D)(t[r],(function(t,r){var n=e[0];if(r[0]===n){var i=r[1],o=e[3],a=e[2];i.apply(o,a)}}))}},3752:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{ee:()=&gt;u});var n=r(6797),i=r(3916),o=r(7022),a=r(6562),s=</span><span class="sc">\&quot;</span><span class="st">nr@context</span><span class="sc">\&quot;</span><span class="st">;let c=(0,n.fP)();var u;function d(){}function l(){return new d}function f(){(u.backlog.api||u.backlog.feature)&amp;&amp;(u.aborted=!0,u.backlog={})}c.ee?u=c.ee:(u=function e(t,r){var n={},c={},g={},h=!1;try{h=16===r.length&amp;&amp;(0,a.OP)(r).isolatedBacklog}catch(e){}var p={on:b,addEventListener:b,removeEventListener:w,emit:m,get:A,listeners:y,context:v,buffer:x,abort:f,aborted:!1,isBuffering:E,debugId:r,backlog:h?{}:t&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">==typeof t.backlog?t.backlog:{}};return p;function v(e){return e&amp;&amp;e instanceof d?e:e?(0,i.X)(e,s,l):l()}function m(e,r,n,i,o){if(!1!==o&amp;&amp;(o=!0),!u.aborted||i){t&amp;&amp;o&amp;&amp;t.emit(e,r,n);for(var a=v(n),s=y(e),d=s.length,l=0;l&lt;d;l++)s[l].apply(a,r);var f=O()[c[e]];return f&amp;&amp;f.push([p,e,r,a]),a}}function b(e,t){n[e]=y(e).concat(t)}function w(e,t){var r=n[e];if(r)for(var i=0;i&lt;r.length;i++)r[i]===t&amp;&amp;r.splice(i,1)}function y(e){return n[e]||[]}function A(t){return g[t]=g[t]||e(p,t)}function x(e,t){var r=O();p.aborted||(0,o.D)(e,(function(e,n){t=t||</span><span class="sc">\&quot;</span><span class="st">feature</span><span class="sc">\&quot;</span><span class="st">,c[n]=t,t in r||(r[t]=[])}))}function E(e){return!!O()[c[e]]}function O(){return p.backlog}}(void 0,</span><span class="sc">\&quot;</span><span class="st">globalEE</span><span class="sc">\&quot;</span><span class="st">),c.ee=u)},9252:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{E:()=&gt;n,p:()=&gt;i});var n=r(3752).ee.get(</span><span class="sc">\&quot;</span><span class="st">handle</span><span class="sc">\&quot;</span><span class="st">);function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},4045:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{X:()=&gt;o});var n=r(9252);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.E,i,e,t,r)}function a(e,t,r,i,o){o||(o=</span><span class="sc">\&quot;</span><span class="st">feature</span><span class="sc">\&quot;</span><span class="st">),e||(e=n.E);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},8544:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{bP:()=&gt;s,iz:()=&gt;c,m$:()=&gt;a});var n=r(2374),i=!1;try{var o=Object.defineProperty({},</span><span class="sc">\&quot;</span><span class="st">passive</span><span class="sc">\&quot;</span><span class="st">,{get:function(){i=!0}});n._A?.addEventListener(</span><span class="sc">\&quot;</span><span class="st">testPassive</span><span class="sc">\&quot;</span><span class="st">,null,o),n._A?.removeEventListener(</span><span class="sc">\&quot;</span><span class="st">testPassive</span><span class="sc">\&quot;</span><span class="st">,null,o)}catch(e){}function a(e){return i?{passive:!0,capture:!!e}:!!e}function s(e,t){let r=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]&amp;&amp;arguments[2];window.addEventListener(e,t,a(r))}function c(e,t){let r=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]&amp;&amp;arguments[2];document.addEventListener(e,t,a(r))}},5526:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{Rl:()=&gt;i,ky:()=&gt;o});var n=r(2374);function i(){var e=null,t=0,r=n._A?.crypto||n._A?.msCrypto;function i(){return e?15&amp;e[t++]:16*Math.random()|0}r&amp;&amp;r.getRandomValues&amp;&amp;(e=r.getRandomValues(new Uint8Array(31)));for(var o,a=</span><span class="sc">\&quot;</span><span class="st">xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx</span><span class="sc">\&quot;</span><span class="st">,s=</span><span class="sc">\&quot;\&quot;</span><span class="st">,c=0;c&lt;a.length;c++)s+=</span><span class="sc">\&quot;</span><span class="st">x</span><span class="sc">\&quot;</span><span class="st">===(o=a[c])?i().toString(16):</span><span class="sc">\&quot;</span><span class="st">y</span><span class="sc">\&quot;</span><span class="st">===o?(o=3&amp;i()|8).toString(16):o;return s}function o(e){var t=null,r=0,n=self.crypto||self.msCrypto;n&amp;&amp;n.getRandomValues&amp;&amp;Uint8Array&amp;&amp;(t=n.getRandomValues(new Uint8Array(31)));for(var i=[],o=0;o&lt;e;o++)i.push(a().toString(16));return i.join(</span><span class="sc">\&quot;\&quot;</span><span class="st">);function a(){return t?15&amp;t[r++]:16*Math.random()|0}}},2053:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{nb:()=&gt;c,os:()=&gt;u,yf:()=&gt;s,zO:()=&gt;a});var n=r(7145),i=(new Date).getTime(),o=i;function a(){return n.G&amp;&amp;performance.now?Math.round(performance.now()):(i=Math.max((new Date).getTime(),i))-o}function s(){return i}function c(e){o=e}function u(){return o}},7145:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{G:()=&gt;n});const n=void 0!==r(2374)._A?.performance?.timing?.navigationStart},6625:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{s:()=&gt;c,v:()=&gt;u});var n=r(8283),i=r(9071),o=r(2053),a=r(7145),s=r(2374);let c=!0;function u(e){var t=function(){if(i.I&amp;&amp;i.I&lt;9)return;if(a.G)return c=!1,s._A?.performance?.timing?.navigationStart}();t&amp;&amp;((0,n.B)(e,</span><span class="sc">\&quot;</span><span class="st">starttime</span><span class="sc">\&quot;</span><span class="st">,t),(0,o.nb)(t))}},8283:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{B:()=&gt;o,L:()=&gt;a});var n=r(2053),i={};function o(e,t,r){void 0===r&amp;&amp;(r=(0,n.zO)()+(0,n.os)()),i[e]=i[e]||{},i[e][t]=r}function a(e,t,r,n){const o=e.sharedContext.agentIdentifier;var a=i[o]?.[r],s=i[o]?.[n];void 0!==a&amp;&amp;void 0!==s&amp;&amp;e.store(</span><span class="sc">\&quot;</span><span class="st">measures</span><span class="sc">\&quot;</span><span class="st">,t,{value:s-a})}},9548:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{T:()=&gt;i});var n=r(2374);const i={isFileProtocol:function(){let e=Boolean(</span><span class="sc">\&quot;</span><span class="st">file:</span><span class="sc">\&quot;</span><span class="st">===(0,n.lW)()?.location?.protocol);e&amp;&amp;(i.supportabilityMetricSent=!0);return e},supportabilityMetricSent:!1}},8610:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;function n(e,t){console&amp;&amp;console.warn&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">function</span><span class="sc">\&quot;</span><span class="st">==typeof console.warn&amp;&amp;(console.warn(`New Relic: ${e}`),t&amp;&amp;console.warn(t))}r.d(t,{Z:()=&gt;n})},3916:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{X:()=&gt;i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&amp;&amp;Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},2374:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{_A:()=&gt;o,il:()=&gt;n,lW:()=&gt;a,v6:()=&gt;i});const n=Boolean(</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof window&amp;&amp;window.document),i=Boolean(</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof WorkerGlobalScope&amp;&amp;self.navigator instanceof WorkerNavigator);let o=(()=&gt;{if(n)return window;if(i){if(</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof globalThis&amp;&amp;globalThis instanceof WorkerGlobalScope)return globalThis;if(self instanceof WorkerGlobalScope)return self}throw new Error(</span><span class="sc">\&quot;</span><span class="st">New Relic browser agent shutting down due to error: Unable to locate global scope. This is possibly due to code redefining browser global variables like `self` and `window`.</span><span class="sc">\&quot;</span><span class="st">)})();function a(){return o}},7022:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{D:()=&gt;i});var n=Object.prototype.hasOwnProperty;function i(e,t){var r=[],i=</span><span class="sc">\&quot;\&quot;</span><span class="st">,o=0;for(i in e)n.call(e,i)&amp;&amp;(r[o]=t(i,e[i]),o+=1);return r}},9226:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{$c:()=&gt;u,Ng:()=&gt;d,RR:()=&gt;c});var n=r(6562),i=r(9557),o=r(9548),a=r(8610),s={regex:/^file:</span><span class="sc">\\</span><span class="st">/</span><span class="sc">\\</span><span class="st">/(.*)/,replacement:</span><span class="sc">\&quot;</span><span class="st">file://OBFUSCATED</span><span class="sc">\&quot;</span><span class="st">};class c extends i.w{constructor(e){super(e)}shouldObfuscate(){return u(this.sharedContext.agentIdentifier).length&gt;0}obfuscateString(e){if(!e||</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">!=typeof e)return e;for(var t=u(this.sharedContext.agentIdentifier),r=e,n=0;n&lt;t.length;n++){var i=t[n].regex,o=t[n].replacement||</span><span class="sc">\&quot;</span><span class="st">*</span><span class="sc">\&quot;</span><span class="st">;r=r.replace(i,o)}return r}}function u(e){var t=[],r=(0,n.Mt)(e,</span><span class="sc">\&quot;</span><span class="st">obfuscate</span><span class="sc">\&quot;</span><span class="st">)||[];return t=t.concat(r),o.T.isFileProtocol()&amp;&amp;t.push(s),t}function d(e){for(var t=!1,r=!1,n=0;n&lt;e.length;n++){</span><span class="sc">\&quot;</span><span class="st">regex</span><span class="sc">\&quot;</span><span class="st">in e[n]?</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">!=typeof e[n].regex&amp;&amp;e[n].regex.constructor!==RegExp&amp;&amp;((0,a.Z)(&#39;An obfuscation replacement rule contains a </span><span class="sc">\&quot;</span><span class="st">regex</span><span class="sc">\&quot;</span><span class="st"> value with an invalid type (must be a string or RegExp)&#39;),r=!0):((0,a.Z)(&#39;An obfuscation replacement rule was detected missing a </span><span class="sc">\&quot;</span><span class="st">regex</span><span class="sc">\&quot;</span><span class="st"> value.&#39;),r=!0);var i=e[n].replacement;i&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">!=typeof i&amp;&amp;((0,a.Z)(&#39;An obfuscation replacement rule contains a </span><span class="sc">\&quot;</span><span class="st">replacement</span><span class="sc">\&quot;</span><span class="st"> value with an invalid type (must be a string)&#39;),t=!0)}return!t&amp;&amp;!r}},2650:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{K:()=&gt;a,b:()=&gt;o});var n=r(8544);function i(){return</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">==typeof document||</span><span class="sc">\&quot;</span><span class="st">complete</span><span class="sc">\&quot;</span><span class="st">===document.readyState}function o(e,t){if(i())return e();(0,n.bP)(</span><span class="sc">\&quot;</span><span class="st">load</span><span class="sc">\&quot;</span><span class="st">,e,t)}function a(e){if(i())return e();(0,n.iz)(</span><span class="sc">\&quot;</span><span class="st">DOMContentLoaded</span><span class="sc">\&quot;</span><span class="st">,e)}},6797:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{EZ:()=&gt;u,Qy:()=&gt;c,ce:()=&gt;o,fP:()=&gt;a,gG:()=&gt;d,mF:()=&gt;s});var n=r(2053),i=r(2374);const o={beacon:</span><span class="sc">\&quot;</span><span class="st">bam.nr-data.net</span><span class="sc">\&quot;</span><span class="st">,errorBeacon:</span><span class="sc">\&quot;</span><span class="st">bam.nr-data.net</span><span class="sc">\&quot;</span><span class="st">};function a(){return i._A.NREUM||(i._A.NREUM={}),void 0===i._A.newrelic&amp;&amp;(i._A.newrelic=i._A.NREUM),i._A.NREUM}function s(){let e=a();return e.o||(e.o={ST:i._A.setTimeout,SI:i._A.setImmediate,CT:i._A.clearTimeout,XHR:i._A.XMLHttpRequest,REQ:i._A.Request,EV:i._A.Event,PR:i._A.Promise,MO:i._A.MutationObserver,FETCH:i._A.fetch}),e}function c(e,t,r){let i=a();const o=i.initializedAgents||{},s=o[e]||{};return Object.keys(s).length||(s.initializedAt={ms:(0,n.zO)(),date:new Date}),i.initializedAgents={...o,[e]:{...s,[r]:t}},i}function u(e,t){a()[e]=t}function d(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},6998:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{N:()=&gt;i,e:()=&gt;o});var n=r(8544);function i(e){let t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]&amp;&amp;arguments[1];return void(0,n.iz)(</span><span class="sc">\&quot;</span><span class="st">visibilitychange</span><span class="sc">\&quot;</span><span class="st">,r);function r(){if(t){if(</span><span class="sc">\&quot;</span><span class="st">hidden</span><span class="sc">\&quot;</span><span class="st">!=document.visibilityState)return;e()}e(document.visibilityState)}}function o(){return</span><span class="sc">\&quot;</span><span class="st">hidden</span><span class="sc">\&quot;</span><span class="st">===document.visibilityState?-1:1/0}},6034:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{t:()=&gt;n});const n=r(2325).D.metrics},2484:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{t:()=&gt;n});const n=r(2325).D.pageViewEvent},6382:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{t:()=&gt;n});const n=r(2325).D.pageViewTiming},1509:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{W:()=&gt;s});var n=r(6562),i=r(3752),o=r(2384),a=r(6797);class s{constructor(e,t,r){this.agentIdentifier=e,this.aggregator=t,this.ee=i.ee.get(e,(0,n.OP)(this.agentIdentifier).isolatedBacklog),this.featureName=r,this.blocked=!1,this.checkConfiguration()}checkConfiguration(){if(!(0,n.lF)(this.agentIdentifier)){let e={...(0,a.gG)().info?.jsAttributes};try{e={...e,...(0,n.C5)(this.agentIdentifier)?.jsAttributes}}catch(e){}(0,o.j)(this.agentIdentifier,{...(0,a.gG)(),info:{...(0,a.gG)().info,jsAttributes:e}})}}}},2384:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{j:()=&gt;w});var n=r(8683),i=r.n(n),o=r(2325),a=r(6562),s=r(9252),c=r(7022),u=r(3752),d=r(2053),l=r(4329),f=r(2650),g=r(2374);function h(e,t,n){n||(0,l.R)(e,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">),function(e){function t(t){for(var r=arguments.length,n=new Array(r&gt;1?r-1:0),i=1;i&lt;r;i++)n[i-1]=arguments[i];Object.values(e.initializedAgents).forEach((e=&gt;{e.exposed&amp;&amp;e.api[t]&amp;&amp;e.api[t](...n)}))}[</span><span class="sc">\&quot;</span><span class="st">setErrorHandler</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">finished</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addToTrace</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">inlineHit</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addRelease</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addPageAction</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">setCurrentRouteName</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">setPageViewName</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">setCustomAttribute</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">interaction</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">noticeError</span><span class="sc">\&quot;</span><span class="st">].forEach((r=&gt;{e[r]=function(){for(var e=arguments.length,n=new Array(e),i=0;i&lt;e;i++)n[i]=arguments[i];return t(r,...n)}}))}(t);var h=u.ee.get(e),p=h.get(</span><span class="sc">\&quot;</span><span class="st">tracer</span><span class="sc">\&quot;</span><span class="st">),v=</span><span class="sc">\&quot;</span><span class="st">api-</span><span class="sc">\&quot;</span><span class="st">,m=</span><span class="sc">\&quot;</span><span class="st">api-ixn-</span><span class="sc">\&quot;</span><span class="st">;function b(){}(0,c.D)([</span><span class="sc">\&quot;</span><span class="st">setErrorHandler</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">finished</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addToTrace</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">inlineHit</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">addRelease</span><span class="sc">\&quot;</span><span class="st">],(function(e,r){t[r]=y(v,r,!0,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)})),t.addPageAction=y(v,</span><span class="sc">\&quot;</span><span class="st">addPageAction</span><span class="sc">\&quot;</span><span class="st">,!0,o.D.pageAction),t.setCurrentRouteName=y(v,</span><span class="sc">\&quot;</span><span class="st">routeName</span><span class="sc">\&quot;</span><span class="st">,!0,o.D.spa),t.setPageViewName=function(t,r){if(</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">==typeof t)return</span><span class="sc">\&quot;</span><span class="st">/</span><span class="sc">\&quot;</span><span class="st">!==t.charAt(0)&amp;&amp;(t=</span><span class="sc">\&quot;</span><span class="st">/</span><span class="sc">\&quot;</span><span class="st">+t),(0,a.OP)(e).customTransaction=(r||</span><span class="sc">\&quot;</span><span class="st">http://custom.transaction</span><span class="sc">\&quot;</span><span class="st">)+t,y(v,</span><span class="sc">\&quot;</span><span class="st">setPageViewName</span><span class="sc">\&quot;</span><span class="st">,!0,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)()},t.setCustomAttribute=function(t,r){const n=(0,a.C5)(e);return(0,a.CX)(e,{...n,jsAttributes:{...n.jsAttributes,[t]:r}}),y(v,</span><span class="sc">\&quot;</span><span class="st">setCustomAttribute</span><span class="sc">\&quot;</span><span class="st">,!0,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)()},t.interaction=function(){return(new b).get()};var w=b.prototype={createTracer:function(e,t){var r={},n=this,i=</span><span class="sc">\&quot;</span><span class="st">function</span><span class="sc">\&quot;</span><span class="st">==typeof t;return(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">api-ixn-tracer</span><span class="sc">\&quot;</span><span class="st">,[(0,d.zO)(),e,r],n,o.D.spa,h),function(){if(p.emit((i?</span><span class="sc">\&quot;\&quot;</span><span class="st">:</span><span class="sc">\&quot;</span><span class="st">no-</span><span class="sc">\&quot;</span><span class="st">)+</span><span class="sc">\&quot;</span><span class="st">fn-start</span><span class="sc">\&quot;</span><span class="st">,[(0,d.zO)(),n,i],r),i)try{return t.apply(this,arguments)}catch(e){throw p.emit(</span><span class="sc">\&quot;</span><span class="st">fn-err</span><span class="sc">\&quot;</span><span class="st">,[arguments,this,</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">==typeof e?new Error(e):e],r),e}finally{p.emit(</span><span class="sc">\&quot;</span><span class="st">fn-end</span><span class="sc">\&quot;</span><span class="st">,[(0,d.zO)()],r)}}}};function y(e,t,r,n){return function(){return(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">record-supportability</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">API/</span><span class="sc">\&quot;</span><span class="st">+t+</span><span class="sc">\&quot;</span><span class="st">/called</span><span class="sc">\&quot;</span><span class="st">],void 0,o.D.metrics,h),(0,s.p)(e+t,[(0,d.zO)()].concat(i()(arguments)),r?null:this,n,h),r?void 0:this}}function A(){r.e(692).then(r.bind(r,5692)).then((t=&gt;{let{setAPI:r}=t;r(e),(0,l.L)(e,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">)}))}(0,c.D)(</span><span class="sc">\&quot;</span><span class="st">actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get</span><span class="sc">\&quot;</span><span class="st">.split(</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">),(function(e,t){w[t]=y(m,t,void 0,o.D.spa)})),t.noticeError=function(e,t){</span><span class="sc">\&quot;</span><span class="st">string</span><span class="sc">\&quot;</span><span class="st">==typeof e&amp;&amp;(e=new Error(e)),(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">record-supportability</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">API/noticeError/called</span><span class="sc">\&quot;</span><span class="st">],void 0,o.D.metrics,h),(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">err</span><span class="sc">\&quot;</span><span class="st">,[e,(0,d.zO)(),!1,t],void 0,o.D.jserrors,h)},g.v6?A():(0,f.b)((()=&gt;A()),!0)}var p=r(6797);const v={stn:o.D.sessionTrace,err:o.D.jserrors,ins:o.D.pageAction,spa:o.D.spa};function m(e,t){var r=u.ee.get(t);e&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">==typeof e&amp;&amp;((0,c.D)(e,(function(e,t){if(!t)return(0,s.p)(</span><span class="sc">\&quot;</span><span class="st">block-</span><span class="sc">\&quot;</span><span class="st">+e,[],void 0,v[e],r);t&amp;&amp;!b[e]&amp;&amp;((0,s.p)(</span><span class="sc">\&quot;</span><span class="st">feat-</span><span class="sc">\&quot;</span><span class="st">+e,[],void 0,v[e],r),b[e]=!0)})),(0,l.L)(t,o.D.pageViewEvent))}const b={};function w(e){let t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{},r=arguments.length&gt;2?arguments[2]:void 0,n=arguments.length&gt;3?arguments[3]:void 0,{init:i,info:o,loader_config:s,runtime:c={loaderType:r},exposed:u=!0}=t;const d=(0,p.gG)();let l={};return o||(i=d.init,o=d.info,s=d.loader_config,l=d),g.v6&amp;&amp;(o.jsAttributes={...o.jsAttributes,isWorker:!0}),(0,a.CX)(e,o),(0,a.Dg)(e,i||{}),(0,a.GE)(e,s||{}),(0,a.sU)(e,c),h(e,l,n),(0,p.Qy)(e,d,</span><span class="sc">\&quot;</span><span class="st">api</span><span class="sc">\&quot;</span><span class="st">),(0,p.Qy)(e,u,</span><span class="sc">\&quot;</span><span class="st">exposed</span><span class="sc">\&quot;</span><span class="st">),g.v6||((0,p.EZ)(</span><span class="sc">\&quot;</span><span class="st">activatedFeatures</span><span class="sc">\&quot;</span><span class="st">,b),(0,p.EZ)(</span><span class="sc">\&quot;</span><span class="st">setToken</span><span class="sc">\&quot;</span><span class="st">,(t=&gt;m(t,e)))),l}},909:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{Z:()=&gt;i,q:()=&gt;o});var n=r(2325);function i(e){switch(e){case n.D.ajax:return[n.D.jserrors];case n.D.sessionTrace:return[n.D.ajax,n.D.pageViewEvent];case n.D.pageViewTiming:return[n.D.pageViewEvent];default:return[]}}function o(e){return e===n.D.jserrors?[]:[</span><span class="sc">\&quot;</span><span class="st">auto</span><span class="sc">\&quot;</span><span class="st">]}},2325:(e,t,r)=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;r.d(t,{D:()=&gt;n,p:()=&gt;i});const n={ajax:</span><span class="sc">\&quot;</span><span class="st">ajax</span><span class="sc">\&quot;</span><span class="st">,jserrors:</span><span class="sc">\&quot;</span><span class="st">jserrors</span><span class="sc">\&quot;</span><span class="st">,metrics:</span><span class="sc">\&quot;</span><span class="st">metrics</span><span class="sc">\&quot;</span><span class="st">,pageAction:</span><span class="sc">\&quot;</span><span class="st">page_action</span><span class="sc">\&quot;</span><span class="st">,pageViewEvent:</span><span class="sc">\&quot;</span><span class="st">page_view_event</span><span class="sc">\&quot;</span><span class="st">,pageViewTiming:</span><span class="sc">\&quot;</span><span class="st">page_view_timing</span><span class="sc">\&quot;</span><span class="st">,sessionTrace:</span><span class="sc">\&quot;</span><span class="st">session_trace</span><span class="sc">\&quot;</span><span class="st">,spa:</span><span class="sc">\&quot;</span><span class="st">spa</span><span class="sc">\&quot;</span><span class="st">},i={[n.pageViewEvent]:1,[n.pageViewTiming]:2,[n.metrics]:3,[n.jserrors]:4,[n.ajax]:5,[n.sessionTrace]:6,[n.pageAction]:7,[n.spa]:8}},8683:e=&gt;{e.exports=function(e,t,r){t||(t=0),void 0===r&amp;&amp;(r=e?e.length:0);for(var n=-1,i=r-t||0,o=Array(i&lt;0?0:i);++n&lt;i;)o[n]=e[t+n];return o}},4992:(e,t,r)=&gt;{var n={</span><span class="sc">\&quot;</span><span class="st">./ajax/aggregate</span><span class="sc">\&quot;</span><span class="st">:[960,779,960],</span><span class="sc">\&quot;</span><span class="st">./jserrors/aggregate</span><span class="sc">\&quot;</span><span class="st">:[6112,779,112],</span><span class="sc">\&quot;</span><span class="st">./metrics/aggregate</span><span class="sc">\&quot;</span><span class="st">:[4325,779,325],</span><span class="sc">\&quot;</span><span class="st">./page_action/aggregate</span><span class="sc">\&quot;</span><span class="st">:[6817,779,817],</span><span class="sc">\&quot;</span><span class="st">./page_view_event/aggregate</span><span class="sc">\&quot;</span><span class="st">:[4823,779,823],</span><span class="sc">\&quot;</span><span class="st">./page_view_timing/aggregate</span><span class="sc">\&quot;</span><span class="st">:[8785,779,785],</span><span class="sc">\&quot;</span><span class="st">./session_trace/aggregate</span><span class="sc">\&quot;</span><span class="st">:[1307,779,307],</span><span class="sc">\&quot;</span><span class="st">./spa/aggregate</span><span class="sc">\&quot;</span><span class="st">:[9378,779,378]};function i(e){if(!r.o(n,e))return Promise.resolve().then((()=&gt;{var t=new Error(</span><span class="sc">\&quot;</span><span class="st">Cannot find module &#39;</span><span class="sc">\&quot;</span><span class="st">+e+</span><span class="sc">\&quot;</span><span class="st">&#39;</span><span class="sc">\&quot;</span><span class="st">);throw t.code=</span><span class="sc">\&quot;</span><span class="st">MODULE_NOT_FOUND</span><span class="sc">\&quot;</span><span class="st">,t}));var t=n[e],i=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=&gt;r(i)))}i.keys=()=&gt;Object.keys(n),i.id=4992,e.exports=i}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.n=e=&gt;{var t=e&amp;&amp;e.__esModule?()=&gt;e.default:()=&gt;e;return i.d(t,{a:t}),t},i.d=(e,t)=&gt;{for(var r in t)i.o(t,r)&amp;&amp;!i.o(e,r)&amp;&amp;Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=&gt;Promise.all(Object.keys(i.f).reduce(((t,r)=&gt;(i.f[r](e,t),t)),[])),i.u=e=&gt;e+</span><span class="sc">\&quot;</span><span class="st">.</span><span class="sc">\&quot;</span><span class="st">+i.h().slice(0,8)+</span><span class="sc">\&quot;</span><span class="st">-1223.js</span><span class="sc">\&quot;</span><span class="st">,i.h=()=&gt;</span><span class="sc">\&quot;</span><span class="st">215647de1097144af948</span><span class="sc">\&quot;</span><span class="st">,i.o=(e,t)=&gt;Object.prototype.hasOwnProperty.call(e,t),e={},t=</span><span class="sc">\&quot;</span><span class="st">NRBA:</span><span class="sc">\&quot;</span><span class="st">,i.l=(r,n,o,a)=&gt;{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName(</span><span class="sc">\&quot;</span><span class="st">script</span><span class="sc">\&quot;</span><span class="st">),d=0;d&lt;u.length;d++){var l=u[d];if(l.getAttribute(</span><span class="sc">\&quot;</span><span class="st">src</span><span class="sc">\&quot;</span><span class="st">)==r||l.getAttribute(</span><span class="sc">\&quot;</span><span class="st">data-webpack</span><span class="sc">\&quot;</span><span class="st">)==t+o){s=l;break}}s||(c=!0,(s=document.createElement(</span><span class="sc">\&quot;</span><span class="st">script</span><span class="sc">\&quot;</span><span class="st">)).charset=</span><span class="sc">\&quot;</span><span class="st">utf-8</span><span class="sc">\&quot;</span><span class="st">,s.timeout=120,i.nc&amp;&amp;s.setAttribute(</span><span class="sc">\&quot;</span><span class="st">nonce</span><span class="sc">\&quot;</span><span class="st">,i.nc),s.setAttribute(</span><span class="sc">\&quot;</span><span class="st">data-webpack</span><span class="sc">\&quot;</span><span class="st">,t+o),s.src=r),e[r]=[n];var f=(t,n)=&gt;{s.onerror=s.onload=null,clearTimeout(g);var i=e[r];if(delete e[r],s.parentNode&amp;&amp;s.parentNode.removeChild(s),i&amp;&amp;i.forEach((e=&gt;e(n))),t)return t(n)},g=setTimeout(f.bind(null,void 0,{type:</span><span class="sc">\&quot;</span><span class="st">timeout</span><span class="sc">\&quot;</span><span class="st">,target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&amp;&amp;document.head.appendChild(s)}},i.r=e=&gt;{</span><span class="sc">\&quot;</span><span class="st">undefined</span><span class="sc">\&quot;</span><span class="st">!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:</span><span class="sc">\&quot;</span><span class="st">Module</span><span class="sc">\&quot;</span><span class="st">}),Object.defineProperty(e,</span><span class="sc">\&quot;</span><span class="st">__esModule</span><span class="sc">\&quot;</span><span class="st">,{value:!0})},i.p=</span><span class="sc">\&quot;</span><span class="st">https://js-agent.newrelic.com/</span><span class="sc">\&quot;</span><span class="st">,(()=&gt;{var e={55:0,308:0};i.f.j=(t,r)=&gt;{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=&gt;n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=&gt;{if(i.o(e,t)&amp;&amp;(0!==(n=e[t])&amp;&amp;(e[t]=void 0),n)){var o=r&amp;&amp;(</span><span class="sc">\&quot;</span><span class="st">load</span><span class="sc">\&quot;</span><span class="st">===r.type?</span><span class="sc">\&quot;</span><span class="st">missing</span><span class="sc">\&quot;</span><span class="st">:r.type),a=r&amp;&amp;r.target&amp;&amp;r.target.src;s.message=</span><span class="sc">\&quot;</span><span class="st">Loading chunk </span><span class="sc">\&quot;</span><span class="st">+t+</span><span class="sc">\&quot;</span><span class="st"> failed.</span><span class="sc">\\</span><span class="st">n(</span><span class="sc">\&quot;</span><span class="st">+o+</span><span class="sc">\&quot;</span><span class="st">: </span><span class="sc">\&quot;</span><span class="st">+a+</span><span class="sc">\&quot;</span><span class="st">)</span><span class="sc">\&quot;</span><span class="st">,s.name=</span><span class="sc">\&quot;</span><span class="st">ChunkLoadError</span><span class="sc">\&quot;</span><span class="st">,s.type=o,s.request=a,n[1](s)}}),</span><span class="sc">\&quot;</span><span class="st">chunk-</span><span class="sc">\&quot;</span><span class="st">+t,t)}};var t=(t,r)=&gt;{var n,o,[a,s,c]=r,u=0;if(a.some((t=&gt;0!==e[t]))){for(n in s)i.o(s,n)&amp;&amp;(i.m[n]=s[n]);if(c)c(i)}for(t&amp;&amp;t(r);u&lt;a.length;u++)o=a[u],i.o(e,o)&amp;&amp;e[o]&amp;&amp;e[o][0](),e[o]=0},r=window.webpackChunkNRBA=window.webpackChunkNRBA||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o={};(()=&gt;{</span><span class="sc">\&quot;</span><span class="st">use strict</span><span class="sc">\&quot;</span><span class="st">;i.r(o);var e=i(2325),t=i(6562);const r=Object.values(e.D);function n(e){const n={};return r.forEach((r=&gt;{n[r]=function(e,r){return!1!==(0,t.Mt)(r,`${e}.enabled`)}(r,e)})),n}var a=i(2384),s=i(909),c=i(9557),u=i(7022);class d extends c.w{constructor(e){super(e),this.aggregatedData={}}store(e,t,r,n,i){var o=this.getBucket(e,t,r,i);return o.metrics=function(e,t){t||(t={count:0});return t.count+=1,(0,u.D)(e,(function(e,r){t[e]=l(r,t[e])})),t}(n,o.metrics),o}merge(e,t,r,n,i){var o=this.getBucket(e,t,n,i);if(o.metrics){var a=o.metrics;a.count+=r.count,(0,u.D)(r,(function(e,t){if(</span><span class="sc">\&quot;</span><span class="st">count</span><span class="sc">\&quot;</span><span class="st">!==e){var n=a[e],i=r[e];i&amp;&amp;!i.c?a[e]=l(i.t,n):a[e]=function(e,t){if(!t)return e;t.c||(t=f(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(i,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.getBucket(e,t,r);return i.stats=l(n,i.stats),i}getBucket(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&amp;&amp;(i.custom=n)),i}get(e,t){return t?this.aggregatedData[e]&amp;&amp;this.aggregatedData[e][t]:this.aggregatedData[e]}take(e){for(var t={},r=</span><span class="sc">\&quot;\&quot;</span><span class="st">,n=!1,i=0;i&lt;e.length;i++)t[r=e[i]]=g(this.aggregatedData[r]),t[r].length&amp;&amp;(n=!0),delete this.aggregatedData[r];return n?t:null}}function l(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=f(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e&gt;t.max&amp;&amp;(t.max=e),e&lt;t.min&amp;&amp;(t.min=e),t):{t:e}}function f(e){return{t:e,min:e,max:e,sos:e*e,c:1}}function g(e){return</span><span class="sc">\&quot;</span><span class="st">object</span><span class="sc">\&quot;</span><span class="st">!=typeof e?[]:(0,u.D)(e,h)}function h(e,t){return t}var p=i(6797),v=i(5526),m=i(8610);var b=i(9252),w=i(2053),y=i(8283),A=i(6625),x=i(4329),E=i(1509),O=i(2650),S=i(2374);class D extends E.W{constructor(e,t,r){let n=!(arguments.length&gt;3&amp;&amp;void 0!==arguments[3])||arguments[3];super(e,t,r),this.completed=new Promise(((e,t)=&gt;{this.resolve=e,this.reject=t})),this.hasAggregator=!1,this.auto=n,n&amp;&amp;(0,x.R)(e,r)}importAggregator(){try{if(this.hasAggregator||!this.auto)return;this.hasAggregator=!0;const e=async()=&gt;{try{const{Aggregate:e}=await i(4992)(`./${this.featureName}/aggregate`);new e(this.agentIdentifier,this.aggregator),this.resolve()}catch(e){(0,m.Z)(`Failed to import aggregator class for ${this.featureName}`,e)}};S.v6?e():(0,O.b)((()=&gt;e()),!0)}catch(e){this.reject(e)}}}var j,_,k,T=i(2484);class P extends D{constructor(e,t){let r=!(arguments.length&gt;2&amp;&amp;void 0!==arguments[2])||arguments[2];super(e,t,T.t,r),S.il&amp;&amp;((0,A.v)(e),(0,y.B)(e,</span><span class="sc">\&quot;</span><span class="st">firstbyte</span><span class="sc">\&quot;</span><span class="st">,(0,w.yf)()),(0,O.K)((()=&gt;this.measureDomContentLoaded())),(0,O.b)((()=&gt;this.measureWindowLoaded()),!0),this.importAggregator())}measureWindowLoaded(){var t=(0,w.zO)();(0,y.B)(this.agentIdentifier,</span><span class="sc">\&quot;</span><span class="st">onload</span><span class="sc">\&quot;</span><span class="st">,t+(0,w.os)()),(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">load</span><span class="sc">\&quot;</span><span class="st">,t],void 0,e.D.pageViewTiming,this.ee)}measureDomContentLoaded(){(0,y.B)(this.agentIdentifier,</span><span class="sc">\&quot;</span><span class="st">domContent</span><span class="sc">\&quot;</span><span class="st">,(0,w.zO)()+(0,w.os)())}}j=P,_=</span><span class="sc">\&quot;</span><span class="st">featureName</span><span class="sc">\&quot;</span><span class="st">,k=T.t,_ in j?Object.defineProperty(j,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):j[_]=k;var C=i(6998),I=i(8544),N=i(6382);class R extends D{constructor(t,r){var n;let i=!(arguments.length&gt;2&amp;&amp;void 0!==arguments[2])||arguments[2];if(super(t,r,N.t,i),n=this,S.il){if(this.pageHiddenTime=(0,C.e)(),this.performanceObserver,this.lcpPerformanceObserver,this.clsPerformanceObserver,this.fiRecorded=!1,</span><span class="sc">\&quot;</span><span class="st">PerformanceObserver</span><span class="sc">\&quot;</span><span class="st">in window&amp;&amp;</span><span class="sc">\&quot;</span><span class="st">function</span><span class="sc">\&quot;</span><span class="st">==typeof window.PerformanceObserver){this.performanceObserver=new PerformanceObserver((function(){return n.perfObserver(...arguments)}));try{this.performanceObserver.observe({entryTypes:[</span><span class="sc">\&quot;</span><span class="st">paint</span><span class="sc">\&quot;</span><span class="st">]})}catch(e){}this.lcpPerformanceObserver=new PerformanceObserver((function(){return n.lcpObserver(...arguments)}));try{this.lcpPerformanceObserver.observe({entryTypes:[</span><span class="sc">\&quot;</span><span class="st">largest-contentful-paint</span><span class="sc">\&quot;</span><span class="st">]})}catch(e){}this.clsPerformanceObserver=new PerformanceObserver((function(){return n.clsObserver(...arguments)}));try{this.clsPerformanceObserver.observe({type:</span><span class="sc">\&quot;</span><span class="st">layout-shift</span><span class="sc">\&quot;</span><span class="st">,buffered:!0})}catch(e){}}this.fiRecorded=!1;[</span><span class="sc">\&quot;</span><span class="st">click</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">keydown</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">mousedown</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">pointerdown</span><span class="sc">\&quot;</span><span class="st">,</span><span class="sc">\&quot;</span><span class="st">touchstart</span><span class="sc">\&quot;</span><span class="st">].forEach((e=&gt;{(0,I.iz)(e,(function(){return n.captureInteraction(...arguments)}))})),(0,C.N)((()=&gt;{this.pageHiddenTime=(0,w.zO)(),(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">docHidden</span><span class="sc">\&quot;</span><span class="st">,[this.pageHiddenTime],void 0,e.D.pageViewTiming,this.ee)}),!0),(0,I.bP)(</span><span class="sc">\&quot;</span><span class="st">pagehide</span><span class="sc">\&quot;</span><span class="st">,(()=&gt;(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">winPagehide</span><span class="sc">\&quot;</span><span class="st">,[(0,w.zO)()],void 0,e.D.pageViewTiming,this.ee))),this.importAggregator()}}perfObserver(t,r){t.getEntries().forEach((t=&gt;{</span><span class="sc">\&quot;</span><span class="st">first-paint</span><span class="sc">\&quot;</span><span class="st">===t.name?(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">fp</span><span class="sc">\&quot;</span><span class="st">,Math.floor(t.startTime)],void 0,e.D.pageViewTiming,this.ee):</span><span class="sc">\&quot;</span><span class="st">first-contentful-paint</span><span class="sc">\&quot;</span><span class="st">===t.name&amp;&amp;(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">fcp</span><span class="sc">\&quot;</span><span class="st">,Math.floor(t.startTime)],void 0,e.D.pageViewTiming,this.ee)}))}lcpObserver(t,r){var n=t.getEntries();if(n.length&gt;0){var i=n[n.length-1];if(this.pageHiddenTime&lt;i.startTime)return;var o=[i],a=this.addConnectionAttributes({});a&amp;&amp;o.push(a),(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">lcp</span><span class="sc">\&quot;</span><span class="st">,o,void 0,e.D.pageViewTiming,this.ee)}}clsObserver(t){t.getEntries().forEach((t=&gt;{t.hadRecentInput||(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">cls</span><span class="sc">\&quot;</span><span class="st">,[t],void 0,e.D.pageViewTiming,this.ee)}))}addConnectionAttributes(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t)return t.type&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-type</span><span class="sc">\&quot;</span><span class="st">]=t.type),t.effectiveType&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-etype</span><span class="sc">\&quot;</span><span class="st">]=t.effectiveType),t.rtt&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-rtt</span><span class="sc">\&quot;</span><span class="st">]=t.rtt),t.downlink&amp;&amp;(e[</span><span class="sc">\&quot;</span><span class="st">net-dlink</span><span class="sc">\&quot;</span><span class="st">]=t.downlink),e}captureInteraction(r){if(r instanceof t.Yu.EV&amp;&amp;!this.fiRecorded){var n=Math.round(r.timeStamp),i={type:r.type};this.addConnectionAttributes(i),n&lt;=(0,w.zO)()?i.fid=(0,w.zO)()-n:n&gt;(0,w.os)()&amp;&amp;n&lt;=Date.now()?(n-=(0,w.os)(),i.fid=(0,w.zO)()-n):n=(0,w.zO)(),this.fiRecorded=!0,(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">timing</span><span class="sc">\&quot;</span><span class="st">,[</span><span class="sc">\&quot;</span><span class="st">fi</span><span class="sc">\&quot;</span><span class="st">,n,i],void 0,e.D.pageViewTiming,this.ee)}}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(R,</span><span class="sc">\&quot;</span><span class="st">featureName</span><span class="sc">\&quot;</span><span class="st">,N.t);var B=i(4045),M=</span><span class="sc">\&quot;</span><span class="st">React</span><span class="sc">\&quot;</span><span class="st">,V=</span><span class="sc">\&quot;</span><span class="st">Angular</span><span class="sc">\&quot;</span><span class="st">,q=</span><span class="sc">\&quot;</span><span class="st">AngularJS</span><span class="sc">\&quot;</span><span class="st">,L=</span><span class="sc">\&quot;</span><span class="st">Backbone</span><span class="sc">\&quot;</span><span class="st">,z=</span><span class="sc">\&quot;</span><span class="st">Ember</span><span class="sc">\&quot;</span><span class="st">,W=</span><span class="sc">\&quot;</span><span class="st">Vue</span><span class="sc">\&quot;</span><span class="st">,$=</span><span class="sc">\&quot;</span><span class="st">Meteor</span><span class="sc">\&quot;</span><span class="st">,F=</span><span class="sc">\&quot;</span><span class="st">Zepto</span><span class="sc">\&quot;</span><span class="st">,G=</span><span class="sc">\&quot;</span><span class="st">Jquery</span><span class="sc">\&quot;</span><span class="st">;function Z(){if(!S.il)return[];var e=[];try{(function(){try{if(window.React||window.ReactDOM||window.ReactRedux)return!0;if(document.querySelector(</span><span class="sc">\&quot;</span><span class="st">[data-reactroot], [data-reactid]</span><span class="sc">\&quot;</span><span class="st">))return!0;for(var e=document.querySelectorAll(</span><span class="sc">\&quot;</span><span class="st">body &gt; div</span><span class="sc">\&quot;</span><span class="st">),t=0;t&lt;e.length;t++)if(Object.keys(e[t]).indexOf(</span><span class="sc">\&quot;</span><span class="st">_reactRootContainer</span><span class="sc">\&quot;</span><span class="st">)&gt;=0)return!0;return!1}catch(e){return!1}})()&amp;&amp;e.push(M),function(){try{return!!window.angular||(!!document.querySelector(</span><span class="sc">\&quot;</span><span class="st">.ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]</span><span class="sc">\&quot;</span><span class="st">)||!!document.querySelector(&#39;script[src*=</span><span class="sc">\&quot;</span><span class="st">angular.js</span><span class="sc">\&quot;</span><span class="st">], script[src*=</span><span class="sc">\&quot;</span><span class="st">angular.min.js</span><span class="sc">\&quot;</span><span class="st">]&#39;))}catch(e){return!1}}()&amp;&amp;e.push(q),function(){try{return!!(window.hasOwnProperty(</span><span class="sc">\&quot;</span><span class="st">ng</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;window.ng.hasOwnProperty(</span><span class="sc">\&quot;</span><span class="st">coreTokens</span><span class="sc">\&quot;</span><span class="st">)&amp;&amp;window.ng.coreTokens.hasOwnProperty(</span><span class="sc">\&quot;</span><span class="st">NgZone</span><span class="sc">\&quot;</span><span class="st">))||!!document.querySelectorAll(</span><span class="sc">\&quot;</span><span class="st">[ng-version]</span><span class="sc">\&quot;</span><span class="st">).length}catch(e){return!1}}()&amp;&amp;e.push(V),window.Backbone&amp;&amp;e.push(L),window.Ember&amp;&amp;e.push(z),window.Vue&amp;&amp;e.push(W),window.Meteor&amp;&amp;e.push($),window.Zepto&amp;&amp;e.push(F),window.jQuery&amp;&amp;e.push(G)}catch(e){}return e}var U=i(9548),H=i(9226),X=i(8226);const Q=Boolean(S._A?.Worker),K=Boolean(S._A?.SharedWorker),J=Boolean(S._A?.navigator?.serviceWorker);let Y,ee,te;var re=i(6034);class ne extends D{constructor(e,t){var r;let n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length&gt;3&amp;&amp;void 0!==arguments[3])||arguments[3];super(e,t,re.t,i),r=this,this.PfFeatStatusEnum=n,this.singleChecks(),this.eachSessionChecks(),(0,B.X)(</span><span class="sc">\&quot;</span><span class="st">record-supportability</span><span class="sc">\&quot;</span><span class="st">,(function(){return r.recordSupportability(...arguments)}),this.featureName,this.ee),(0,B.X)(</span><span class="sc">\&quot;</span><span class="st">record-custom</span><span class="sc">\&quot;</span><span class="st">,(function(){return r.recordCustom(...arguments)}),this.featureName,this.ee),this.importAggregator()}recordSupportability(e,t){var r=[</span><span class="sc">\&quot;</span><span class="st">sm</span><span class="sc">\&quot;</span><span class="st">,e,{name:e},t];return(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">storeMetric</span><span class="sc">\&quot;</span><span class="st">,r,null,this.featureName,this.ee),r}recordCustom(e,t){var r=[</span><span class="sc">\&quot;</span><span class="st">cm</span><span class="sc">\&quot;</span><span class="st">,e,{name:e},t];return(0,b.p)(</span><span class="sc">\&quot;</span><span class="st">storeEventMetrics</span><span class="sc">\&quot;</span><span class="st">,r,null,this.featureName,this.ee),r}singleChecks(){this.recordSupportability(`Generic/Version/${X.q}/Detected`);const{loaderType:e}=(0,t.OP)(this.agentIdentifier);e&amp;&amp;this.recordSupportability(`Generic/LoaderType/${e}/Detected`),S.il&amp;&amp;(0,O.K)((()=&gt;{Z().forEach((e=&gt;{this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Framework/</span><span class="sc">\&quot;</span><span class="st">+e+</span><span class="sc">\&quot;</span><span class="st">/Detected</span><span class="sc">\&quot;</span><span class="st">)}))})),U.T.isFileProtocol()&amp;&amp;(this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Generic/FileProtocol/Detected</span><span class="sc">\&quot;</span><span class="st">),U.T.supportabilityMetricSent=!0);const r=(0,H.$c)(this.agentIdentifier);r.length&gt;0&amp;&amp;this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Generic/Obfuscate/Detected</span><span class="sc">\&quot;</span><span class="st">),r.length&gt;0&amp;&amp;!(0,H.Ng)(r)&amp;&amp;this.recordSupportability(</span><span class="sc">\&quot;</span><span class="st">Generic/Obfuscate/Invalid</span><span class="sc">\&quot;</span><span class="st">),S.il&amp;&amp;this.reportPolyfillsNeeded(),function(e){if(!Y){if(Q){Y=Worker;try{S._A.Worker=r(Y,</span><span class="sc">\&quot;</span><span class="st">Dedicated</span><span class="sc">\&quot;</span><span class="st">)}catch(e){o(e,</span><span class="sc">\&quot;</span><span class="st">Dedicated</span><span class="sc">\&quot;</span><span class="st">)}if(K){ee=SharedWorker;try{S._A.SharedWorker=r(ee,</span><span class="sc">\&quot;</span><span class="st">Shared</span><span class="sc">\&quot;</span><span class="st">)}catch(e){o(e,</span><span class="sc">\&quot;</span><span class="st">Shared</span><span class="sc">\&quot;</span><span class="st">)}}else n(</span><span class="sc">\&quot;</span><span class="st">Shared</span><span class="sc">\&quot;</span><span class="st">);if(J){te=navigator.serviceWorker.register;try{S._A.navigator.serviceWorker.register=(t=te,function(){for(var e=arguments.length,r=new Array(e),n=0;n&lt;e;n++)r[n]=arguments[n];return i(</span><span class="sc">\&quot;</span><span class="st">Service</span><span class="sc">\&quot;</span><span class="st">,r[1]?.type),t.apply(navigator.serviceWorker,r)})}catch(e){o(e,</span><span class="sc">\&quot;</span><span class="st">Service</span><span class="sc">\&quot;</span><span class="st">)}}else n(</span><span class="sc">\&quot;</span><span class="st">Service</span><span class="sc">\&quot;</span><span class="st">);var t;return}n(</span><span class="sc">\&quot;</span><span class="st">All</span><span class="sc">\&quot;</span><span class="st">)}function r(e,t){return new Proxy(e,{construct:(e,r)=&gt;(i(t,r[1]?.type),new e(...r))})}function n(t){S.v6||e(`Workers/${t}/Unavailable`)}function i(t,r){e(</span><span class="sc">\&quot;</span><span class="st">module</span><span class="sc">\&quot;</span><span class="st">===r?`Workers/${t}/Module`:`Workers/${t}/Classic`)}function o(t,r){e(`Workers/${r}/SM/Unsupported`),(0,m.Z)(`NR Agent: Unable to capture ${r} workers.`,t)}}(this.recordSupportability.bind(this))}reportPolyfillsNeeded(){this.recordSupportability(`Generic/Polyfill/Promise/${this.PfFeatStatusEnum.PROMISE}`),this.recordSupportability(`Generic/Polyfill/ArrayIncludes/${this.PfFeatStatusEnum.ARRAY_INCLUDES}`),this.recordSupportability(`Generic/Polyfill/ObjectAssign/${this.PfFeatStatusEnum.OBJECT_ASSIGN}`),this.recordSupportability(`Generic/Polyfill/ObjectEntries/${this.PfFeatStatusEnum.OBJECT_ENTRIES}`)}eachSessionChecks(){S.il&amp;&amp;(0,I.bP)(</span><span class="sc">\&quot;</span><span class="st">pageshow</span><span class="sc">\&quot;</span><span class="st">,(e=&gt;{e.persisted&amp;&amp;this.recordCustom(</span><span class="sc">\&quot;</span><span class="st">Custom/BFCache/PageRestored</span><span class="sc">\&quot;</span><span class="st">)}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ne,</span><span class="sc">\&quot;</span><span class="st">featureName</span><span class="sc">\&quot;</span><span class="st">,re.t);new class{constructor(t){let r=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:(0,v.ky)(16);this.agentIdentifier=r,this.sharedAggregator=new d({agentIdentifier:this.agentIdentifier}),this.features={},this.desiredFeatures=t.features||[],this.desiredFeatures.sort(((t,r)=&gt;e.p[t.featureName]-e.p[r.featureName])),Object.assign(this,(0,a.j)(this.agentIdentifier,t,t.loaderType||</span><span class="sc">\&quot;</span><span class="st">agent</span><span class="sc">\&quot;</span><span class="st">)),this.start()}get config(){return{info:(0,t.C5)(this.agentIdentifier),init:(0,t.P_)(this.agentIdentifier),loader_config:(0,t.DL)(this.agentIdentifier),runtime:(0,t.OP)(this.agentIdentifier)}}start(){try{const e=n(this.agentIdentifier);this.desiredFeatures.forEach((t=&gt;{if(e[t.featureName]){const r=(0,s.Z)(t.featureName);r.every((t=&gt;e[t]))||(0,m.Z)(`${t.featureName} is enabled but one or more dependent features has been disabled (${JSON.stringify(r)}). This may cause unintended consequences or missing data...`),this.features[t.featureName]=new t(this.agentIdentifier,this.sharedAggregator)}})),(0,p.Qy)(this.agentIdentifier,this.features,</span><span class="sc">\&quot;</span><span class="st">features</span><span class="sc">\&quot;</span><span class="st">)}catch(e){return(0,m.Z)(</span><span class="sc">\&quot;</span><span class="st">Failed to initialize instrument classes</span><span class="sc">\&quot;</span><span class="st">,e),!1}}}({features:[P,R,ne],loaderType:</span><span class="sc">\&quot;</span><span class="st">lite</span><span class="sc">\&quot;</span><span class="st">})})(),window.NRBA=o})();&lt;/script&gt;&quot;</span></span>
<span id="cb95-27"><a href="#cb95-27" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] <span class="st">&quot;&lt;link rel=</span><span class="sc">\&quot;</span><span class="st">canonical</span><span class="sc">\&quot;</span><span class="st"> href=</span><span class="sc">\&quot;</span><span class="st">https://publichealth.jhu.edu/</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </span>
<span id="cb95-28"><a href="#cb95-28" aria-hidden="true" tabindex="-1"></a> [<span class="dv">6</span>] <span class="st">&quot;&lt;link rel=</span><span class="sc">\&quot;</span><span class="st">shortlink</span><span class="sc">\&quot;</span><span class="st"> href=</span><span class="sc">\&quot;</span><span class="st">https://publichealth.jhu.edu/</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </span>
<span id="cb95-29"><a href="#cb95-29" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">&quot;&lt;link rel=</span><span class="sc">\&quot;</span><span class="st">image_src</span><span class="sc">\&quot;</span><span class="st"> href=</span><span class="sc">\&quot;</span><span class="st">https://publichealth.jhu.edu/sites/default/files/2021-09/bloomberg-school-og-image.jpg</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 </span>
<span id="cb95-30"><a href="#cb95-30" aria-hidden="true" tabindex="-1"></a> [<span class="dv">8</span>] <span class="st">&quot;&lt;meta name=</span><span class="sc">\&quot;</span><span class="st">description</span><span class="sc">\&quot;</span><span class="st"> content=</span><span class="sc">\&quot;</span><span class="st">Protecting Health, Saving Lives—Millions at a Time</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               </span>
<span id="cb95-31"><a href="#cb95-31" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] <span class="st">&quot;&lt;meta name=</span><span class="sc">\&quot;</span><span class="st">keywords</span><span class="sc">\&quot;</span><span class="st"> content=</span><span class="sc">\&quot;</span><span class="st">bloomberg school of public health, johns hopkins university, departments, academics, research, centers, admissions</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </span>
<span id="cb95-32"><a href="#cb95-32" aria-hidden="true" tabindex="-1"></a>[<span class="dv">10</span>] <span class="st">&quot;&lt;meta property=</span><span class="sc">\&quot;</span><span class="st">fb:app_id</span><span class="sc">\&quot;</span><span class="st"> content=</span><span class="sc">\&quot;</span><span class="st">833238036762815</span><span class="sc">\&quot;</span><span class="st"> /&gt;&quot;</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </span></code></pre></div>
<ul>
<li>However, more commonly we can use URL connection to read in specific
data files that are stored on web servers.</li>
</ul>
<hr />
</div>
</div>
<div id="subsetting-r-objects." class="section level1" number="17">
<h1><span class="header-section-number">17</span> Subsetting R
Objects.</h1>
<p>We can extract subsets of an R object, using three operators:</p>
<ul>
<li><strong>[ operator</strong>.
<ul>
<li>returns an element (or multiple elements) of the <strong>same
class</strong> as the original.<br />
</li>
</ul></li>
<li><strong>[[ operator</strong>.
<ul>
<li>returns a single element of a list or data frame, that can be of a
different class than a list or data frame.<br />
</li>
</ul></li>
<li><strong>$ operator</strong>.
<ul>
<li>returns an element of a list or data frame by literal name (its
semantics is similar to that of [[ operator).</li>
</ul></li>
</ul>
<div id="four-different-kinds-of-index-vectors" class="section level2"
number="17.1">
<h2><span class="header-section-number">17.1</span> Four different kinds
of index vectors:</h2>
<ul>
<li><p>index vectors of <em>positive integers</em>;</p></li>
<li><p>index vectors of <em>negative integers</em>;</p></li>
<li><p><em>logical</em> index vectors;</p></li>
<li><p>index vectors of <em>character strings</em> (for named
elements).</p></li>
</ul>
</div>
<div id="one-based-indexing." class="section level2" number="17.2">
<h2><span class="header-section-number">17.2</span> ONE-BASED
indexing.</h2>
<p>R uses <strong>“ONE-BASED indexing”</strong>: the <em>first
element</em> of a vector is considered element
<strong><em>1</em></strong>.</p>
<p>R doesn’t prevent us from out-of-bound indexing.</p>
<ul>
<li>Thus, we should always check that we are working within the bounds
of our vectors:</li>
</ul>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">28</span>, <span class="dv">33</span>, <span class="dv">9</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">2</span>)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>]                            <span class="co"># unuseful output.</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="fu">numeric</span>(<span class="dv">0</span>)</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3000</span>]                         <span class="co"># again, nothing useful.</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span></span></code></pre></div>
</div>
<div id="subsetting-vectors-operator-." class="section level2"
number="17.3">
<h2><span class="header-section-number">17.3</span> Subsetting Vectors:
<code>operator [</code>.</h2>
<div
id="positive-integer-indexes-sequences-and-arbitrary-index-vectors."
class="section level3" number="17.3.1">
<h3><span class="header-section-number">17.3.1</span> Positive integer
indexes: sequences and arbitrary index vectors.</h3>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;a&quot;</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>                      <span class="co"># indexes start from ONE, not from cero.</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>                      <span class="co"># The original object is a character vector, so the operator</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>]                  <span class="co"># returns a character vector with one element: &quot;a&quot;.</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]                       <span class="co"># colon operator.</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span><span class="sc">:</span><span class="dv">1</span>]</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;c&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;a&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>                             <span class="co"># indexing with the more flexible seq() function.</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">6</span>, <span class="at">by =</span> <span class="dv">2</span>)]         <span class="co"># odd indices.</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="at">by =</span> <span class="dv">2</span>)]         <span class="co"># even indices.</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;a&quot;</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">2</span>)]        <span class="co"># decreasing odd indices.</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;d&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;a&quot;</span></span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">seq</span>(<span class="dv">6</span>, <span class="dv">2</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">2</span>)]        <span class="co"># decreasing even indices.</span></span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;b&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb100"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">6</span>)]         <span class="co"># we can pass to [ operator any arbitrary integer index vector.</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;a&quot;</span></span></code></pre></div>
</div>
<div id="negative-indexes-to-exclude-elements." class="section level3"
number="17.3.2">
<h3><span class="header-section-number">17.3.2</span> Negative indexes
to exclude elements.</h3>
<div class="sourceCode" id="cb101"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>                      <span class="co"># the integer index vector can be negative: we get all elements</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">4</span>, <span class="sc">-</span><span class="dv">6</span>)]      <span class="co"># EXCEPT for those specified as negative.</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">6</span>)]        <span class="co"># the same as x[c(-1, -4, -6)]</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb102"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)]        <span class="co"># exclude the first three elements.</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span> <span class="st">&quot;a&quot;</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)]             <span class="co"># this shorthand NEEDS THE PARENTHESIS to work properly.</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span> <span class="st">&quot;a&quot;</span></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]               <span class="co"># infact, this is an error.</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> x[<span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]<span class="sc">:</span> solamente <span class="dv">0</span><span class="st">&#39;s pueden ser mezclados con subscritos negativos</span></span></code></pre></div>
</div>
<div id="logical-index-vectors." class="section level3" number="17.3.3">
<h3><span class="header-section-number">17.3.3</span> Logical index
vectors.</h3>
<div class="sourceCode" id="cb103"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>boolVec <span class="ot">&lt;-</span> x <span class="sc">&gt;</span> <span class="st">&quot;a&quot;</span>    <span class="co"># vectorized operation, returns a logical vector.</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>boolVec</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>                      <span class="co"># we pass to [ operator a logical index vector to extract elements</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>x[boolVec]            <span class="co"># that satisfy a given condition.</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb104"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>x[x <span class="sc">&gt;</span> <span class="st">&quot;a&quot;</span>]            <span class="co"># we can pass, directly and more simply, a logical expression.</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;b&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;c&quot;</span> <span class="st">&quot;d&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb105"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="cn">NA</span>, <span class="dv">6</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> y[<span class="sc">!</span><span class="fu">is.na</span>(y)]             <span class="co"># selects all the non-NAs values from y.</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>w</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">6</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> y[<span class="sc">!</span><span class="fu">is.na</span>(y) <span class="sc">&amp;</span> y <span class="sc">&gt;</span> <span class="dv">2</span>]     <span class="co"># selects values that are both non-missing and &gt; 2.</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">4</span> <span class="dv">6</span></span></code></pre></div>
</div>
<div id="character-index-vectors." class="section level3"
number="17.3.4">
<h3><span class="header-section-number">17.3.4</span> Character index
vectors.</h3>
<div class="sourceCode" id="cb106"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">foo =</span> <span class="dv">11</span>, <span class="at">bar =</span> <span class="dv">2</span>, <span class="at">norf =</span> <span class="cn">NA</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>v[<span class="fu">c</span>(<span class="st">&quot;bar&quot;</span>, <span class="st">&quot;norf&quot;</span>)]                  <span class="co"># character index vector when elements have names.</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a> bar norf </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span>   <span class="cn">NA</span> </span></code></pre></div>
</div>
</div>
<div id="subsetting-matrices-operator-." class="section level2"
number="17.4">
<h2><span class="header-section-number">17.4</span> Subsetting Matrices:
<code>operator [</code>.</h2>
<p>Selecting <strong>single elements</strong>.</p>
<div class="sourceCode" id="cb107"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">3</span>    <span class="dv">5</span></span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">2</span>    <span class="dv">4</span>    <span class="dv">6</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>, <span class="dv">1</span>]</span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span></code></pre></div>
<p>Selecting <strong>rows</strong> or <strong>columns</strong>.</p>
<div class="sourceCode" id="cb108"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>, ]                <span class="co"># extracts the first row.</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">3</span> <span class="dv">5</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>x[, <span class="dv">3</span>]                <span class="co"># extracts the third column.</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">6</span></span></code></pre></div>
<div
id="exceptional-dropping-default-behaviour-of-operator-.-the-drop-parameter."
class="section level3" number="17.4.1">
<h3><span class="header-section-number">17.4.1</span> Exceptional
dropping default behaviour of <code>operator [</code>. The
<code>drop</code> parameter.</h3>
<p>As we know, <code>operator [</code> <strong>in general
returns</strong> an object of the <strong>same class</strong> of the
original object.</p>
<p>However, we can see that, when subsetting matrices, there’s a
<strong>dropping of matrix dimensions</strong>.</p>
<ul>
<li><p>If we subset a <strong>single value</strong> of a matrix,
<code>operator [</code> <strong>returns that single element</strong>
<strong>retrieved</strong> as a <em>vector of length 1</em> rather than
a <em>1x1 matrix</em>.</p></li>
<li><p>And if we subset a <strong>single row</strong> or a
<strong>single column</strong>, <code>operator [</code>
<strong>returns</strong> a <em>vector</em> instead of a
<em>matrix</em>.</p></li>
</ul>
<p>We <strong>can TURN OFF</strong> this behavior, by setting
<code>drop</code> to FALSE:</p>
<div class="sourceCode" id="cb109"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>, <span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>]</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">3</span></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>, , drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]</span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">3</span>    <span class="dv">5</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a>x[, <span class="dv">3</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>]</span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">5</span></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">6</span></span></code></pre></div>
</div>
</div>
<div id="subsetting-lists-operator-operator-and-operator-."
class="section level2" number="17.5">
<h2><span class="header-section-number">17.5</span> Subsetting Lists:
<code>operator [</code>, <code>operator [[</code> and
<code>operator $</code>.</h2>
<div class="sourceCode" id="cb110"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">foo =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">bar =</span> <span class="fl">0.6</span>)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>foo</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>bar</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.6</span></span></code></pre></div>
<p><strong>operator [</strong> to extract a single element (with the
same class as the original).</p>
<div class="sourceCode" id="cb111"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>]                  <span class="co"># or also x[&quot;foo&quot;]</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>foo</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
<ul>
<li>Because the original object is a list, operator [ gives back a list
that has one element called <em>foo</em>, which is a sequence from 1
through 4.</li>
</ul>
<p><strong>operator [[</strong> to extract single elements (of their own
classes).</p>
<div class="sourceCode" id="cb112"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">1</span>]]                <span class="co"># or also x[[&quot;foo&quot;]]</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
<ul>
<li>We get back just the sequence.</li>
</ul>
<p><strong>operator $</strong> to extract single elements (this works if
list’s elements have names and it is useful when we don’t know the order
of elements).</p>
<div class="sourceCode" id="cb113"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">$</span>bar                 <span class="co"># equivalent to:        x[[&quot;bar&quot;]]</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.6</span></span></code></pre></div>
<ul>
<li>It’s important to remember this last equivalence because operator $
doesn’t work with “computed” indexes, son we can can only use [[
operator to extract by computed names.</li>
</ul>
<div class="sourceCode" id="cb114"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="st">&quot;foo&quot;</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>x<span class="sc">$</span>name</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="cn">NULL</span></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>x[[name]]</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
</div>
<div id="subsetting-nested-elements-from-a-list-operator-."
class="section level2" number="17.6">
<h2><span class="header-section-number">17.6</span> Subsetting nested
elements from a list: <code>operator [[</code>.</h2>
<ul>
<li>Here we use operator [[ with an integer sequence indicating the
parents elements followed by the child elements.</li>
</ul>
<div class="sourceCode" id="cb115"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="fu">list</span>(<span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">14</span>), <span class="at">b=</span> <span class="fu">c</span>(<span class="fl">3.14</span>, <span class="fl">2.81</span>))</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a[[<span class="dv">1</span>]]</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">10</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a[[<span class="dv">2</span>]]</span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">12</span></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>a[[<span class="dv">3</span>]]</span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">14</span></span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>b</span>
<span id="cb115-15"><a href="#cb115-15" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">3.14</span> <span class="fl">2.81</span></span>
<span id="cb115-16"><a href="#cb115-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-17"><a href="#cb115-17" aria-hidden="true" tabindex="-1"></a><span class="co"># extract 3rd element of 1st element.</span></span>
<span id="cb115-18"><a href="#cb115-18" aria-hidden="true" tabindex="-1"></a>x[[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]]          <span class="co"># This is equivalent to:        x [[1]] [[3]]</span></span>
<span id="cb115-19"><a href="#cb115-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">14</span></span></code></pre></div>
</div>
<div id="subsetting-multiple-elements-from-a-list-operator-."
class="section level2" number="17.7">
<h2><span class="header-section-number">17.7</span> Subsetting multiple
elements from a list: <code>operator [</code>.</h2>
<ul>
<li>Here we use operator [ with an integer sequence indicating the
elements we want.</li>
</ul>
<div class="sourceCode" id="cb116"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">foo =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">bar =</span> <span class="fl">0.6</span>, <span class="at">baz =</span> <span class="st">&quot;hello&quot;</span>)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]             <span class="co"># extract elements 1 and 3.</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>foo</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span>baz</span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;hello&quot;</span></span></code></pre></div>
<blockquote>
<p>Remember that <code>operator [</code> always returns an object of the
same class as the original: so elements 1 and 3 are not returned
separatly as vectors, but what is returned is a <strong>new
list</strong> whose elements are elements 1 and 3 of the original
list.</p>
</blockquote>
</div>
<div id="partial-matching-operator-and-operator-."
class="section level2" number="17.8">
<h2><span class="header-section-number">17.8</span> Partial matching:
<code>operator [[</code> and <code>operator $</code>.</h2>
<ul>
<li>Partial matching of names is allowed with [[ and $ operators.</li>
</ul>
<div class="sourceCode" id="cb117"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">aaberninangus =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>x<span class="sc">$</span>aab                  <span class="co"># equivalently:                x[[&quot;aab&quot;, exact = FALSE]]</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span></span></code></pre></div>
<blockquote>
<p><strong>Ambiguity warning</strong>: use this functionality only for
interactive work, not when writing longer scripts, functions or
programs.</p>
</blockquote>
<hr />
</div>
</div>
<div id="removing-na-values." class="section level1" number="18">
<h1><span class="header-section-number">18</span> Removing NA
values.</h1>
<div id="basic-technique." class="section level2" number="18.1">
<h2><span class="header-section-number">18.1</span> Basic
technique.</h2>
<ul>
<li>First create a logical vector which tell us where the NAs are. We
can do this with:
<ul>
<li>the <code>is.na()</code> function, or<br />
</li>
<li>the <code>complete.cases()</code> function.<br />
</li>
</ul></li>
<li>Then remove those NAs by subsetting.</li>
</ul>
</div>
<div id="using-the-is.na-function." class="section level2"
number="18.2">
<h2><span class="header-section-number">18.2</span> Using the
<code>is.na()</code> function.</h2>
<div class="sourceCode" id="cb118"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="cn">NA</span>, <span class="dv">5</span>)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>bad <span class="ot">&lt;-</span> <span class="fu">is.na</span>(x)                       <span class="co"># returns a logical vector.</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>bad</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">FALSE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">!</span>bad]                               <span class="co"># voilá: not bad as logical index vector.</span></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">5</span></span></code></pre></div>
</div>
<div id="using-the-complete.cases-function." class="section level2"
number="18.3">
<h2><span class="header-section-number">18.3</span> Using the
<code>complete.cases()</code> function.</h2>
<ul>
<li><p>This function can take multiple R objects (sequence of vectors,
matrices, data frames).</p></li>
<li><p>Applys the oposit logic of is.na():</p>
<ul>
<li>returns TRUE for cases that are complete (that have no missing
values).<br />
</li>
<li>A “case” is an element of the object:
<ul>
<li>for vectors, case == each value.<br />
</li>
<li>for matrices, case == each row.<br />
</li>
<li>for data frames, case == each row.</li>
</ul></li>
</ul></li>
<li><p>Vectors.</p></li>
</ul>
<div class="sourceCode" id="cb119"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="cn">NA</span>, <span class="dv">5</span>)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;d&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;f&quot;</span>)</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>good <span class="ot">&lt;-</span> <span class="fu">complete.cases</span>(x, y)          <span class="co"># returns a logical vector.</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>good</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span>  <span class="cn">TRUE</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>x[good]</span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">5</span></span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>y[good]</span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;a&quot;</span> <span class="st">&quot;b&quot;</span> <span class="st">&quot;d&quot;</span> <span class="st">&quot;f&quot;</span></span></code></pre></div>
<ul>
<li>Matrices.</li>
</ul>
<div class="sourceCode" id="cb120"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="cn">NA</span>, <span class="dv">6</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>m</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">4</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]    <span class="dv">2</span>   <span class="cn">NA</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>,]   <span class="cn">NA</span>    <span class="dv">6</span></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>good <span class="ot">&lt;-</span> <span class="fu">complete.cases</span>(m)             <span class="co"># boolean vector returned refers to rows.</span></span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>good</span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a>m[good, ]                             <span class="co"># select all &quot;good&quot; rows (without NAs).</span></span>
<span id="cb120-13"><a href="#cb120-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">4</span></span></code></pre></div>
<ul>
<li>Data frames.</li>
</ul>
<div class="sourceCode" id="cb121"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(airquality)                      <span class="co"># equivalent to airquality[1:6, ] for example.</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  Ozone Solar.R Wind Temp Month Day</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">41</span>     <span class="dv">190</span>  <span class="fl">7.4</span>   <span class="dv">67</span>     <span class="dv">5</span>   <span class="dv">1</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">36</span>     <span class="dv">118</span>  <span class="fl">8.0</span>   <span class="dv">72</span>     <span class="dv">5</span>   <span class="dv">2</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">12</span>     <span class="dv">149</span> <span class="fl">12.6</span>   <span class="dv">74</span>     <span class="dv">5</span>   <span class="dv">3</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">18</span>     <span class="dv">313</span> <span class="fl">11.5</span>   <span class="dv">62</span>     <span class="dv">5</span>   <span class="dv">4</span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="cn">NA</span>      <span class="cn">NA</span> <span class="fl">14.3</span>   <span class="dv">56</span>     <span class="dv">5</span>   <span class="dv">5</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    <span class="dv">28</span>      <span class="cn">NA</span> <span class="fl">14.9</span>   <span class="dv">66</span>     <span class="dv">5</span>   <span class="dv">6</span></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>good <span class="ot">&lt;-</span> <span class="fu">complete.cases</span>(airquality)    <span class="co"># boolean vector returned refers to rows.</span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(good)</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a><span class="co"># select all &quot;good&quot; rows (without NAs) and then show the first rows.</span></span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(airquality[good, ])              <span class="co"># equivalent to airquality[good, ] [1:6, ]</span></span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a>  Ozone Solar.R Wind Temp Month Day</span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">41</span>     <span class="dv">190</span>  <span class="fl">7.4</span>   <span class="dv">67</span>     <span class="dv">5</span>   <span class="dv">1</span></span>
<span id="cb121-18"><a href="#cb121-18" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">36</span>     <span class="dv">118</span>  <span class="fl">8.0</span>   <span class="dv">72</span>     <span class="dv">5</span>   <span class="dv">2</span></span>
<span id="cb121-19"><a href="#cb121-19" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">12</span>     <span class="dv">149</span> <span class="fl">12.6</span>   <span class="dv">74</span>     <span class="dv">5</span>   <span class="dv">3</span></span>
<span id="cb121-20"><a href="#cb121-20" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">18</span>     <span class="dv">313</span> <span class="fl">11.5</span>   <span class="dv">62</span>     <span class="dv">5</span>   <span class="dv">4</span></span>
<span id="cb121-21"><a href="#cb121-21" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>    <span class="dv">23</span>     <span class="dv">299</span>  <span class="fl">8.6</span>   <span class="dv">65</span>     <span class="dv">5</span>   <span class="dv">7</span></span>
<span id="cb121-22"><a href="#cb121-22" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>    <span class="dv">19</span>      <span class="dv">99</span> <span class="fl">13.8</span>   <span class="dv">59</span>     <span class="dv">5</span>   <span class="dv">8</span></span></code></pre></div>
<hr />
</div>
</div>
<div id="vectorized-operations." class="section level1" number="19">
<h1><span class="header-section-number">19</span> Vectorized
Operations.</h1>
<div id="arithmetic-operations-on-vectors---." class="section level2"
number="19.1">
<h2><span class="header-section-number">19.1</span> Arithmetic
operations on vectors (+, -, *, /).</h2>
<div class="sourceCode" id="cb122"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">9</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>z1 <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>z1</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">7</span>  <span class="dv">9</span> <span class="dv">11</span> <span class="dv">13</span></span></code></pre></div>
<blockquote>
<p>That x + y sum is equivalent to the following code chunk:</p>
</blockquote>
<div class="sourceCode" id="cb123"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>z2 <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(x))</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">seq_along</span>(x)) {</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>    z2[i] <span class="ot">&lt;-</span> x[i] <span class="sc">+</span> y[i]</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>z2</span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">7</span>  <span class="dv">9</span> <span class="dv">11</span> <span class="dv">13</span></span></code></pre></div>
</div>
<div id="logical-comparisons-." class="section level2" number="19.2">
<h2><span class="header-section-number">19.2</span> Logical comparisons
(&gt;, &lt;, &gt;=, &lt;=, ==).</h2>
<div class="sourceCode" id="cb124"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">2</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span></code></pre></div>
<p>What if vectors have different lengths?</p>
<ul>
<li>R “recycles” the shorter vector until it is the same length as the
longer vector.<br />
</li>
<li>Example 1:</li>
</ul>
<div class="sourceCode" id="cb125"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="fl">11.2</span>, <span class="dv">3</span>)</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>z3 <span class="ot">&lt;-</span> v <span class="sc">*</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">100</span>           <span class="co"># 2 and 100 are vectors of length 1, so R &quot;recycles&quot; them</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># as follows:</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>                            <span class="co"># z * c(2, 2, 2) + c(100, 100, 100)</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>z3</span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">118.0</span> <span class="fl">122.4</span> <span class="fl">106.0</span></span></code></pre></div>
<ul>
<li>Example 2:</li>
</ul>
<div class="sourceCode" id="cb126"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>z4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>)    <span class="co"># R &quot;recycles&quot; as follows:</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="co"># c(1, 2, 3, 4) + c(0, 10, 0, 10)</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>z4</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">1</span> <span class="dv">12</span>  <span class="dv">3</span> <span class="dv">14</span></span></code></pre></div>
<ul>
<li>If the length of the shorter vector does not divide evenly into the
length of the longer vector, R will still apply the ‘recycling’ method,
but will throw a warning.</li>
</ul>
<div class="sourceCode" id="cb127"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>z5 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>)</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>)<span class="sc">:</span> longitud de objeto mayor no es</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>múltiplo de la longitud de uno menor</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Despite the warning message, R &quot;recycles&quot; as follows: c(1, 2, 3, 4) + c(0, 10, 100, 0)</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>z5</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]   <span class="dv">1</span>  <span class="dv">12</span> <span class="dv">103</span>   <span class="dv">4</span></span></code></pre></div>
</div>
<div id="matrix-operations." class="section level2" number="19.3">
<h2><span class="header-section-number">19.3</span> Matrix
operations.</h2>
<div class="sourceCode" id="cb128"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="dv">10</span>, <span class="dv">4</span>), <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>z6 <span class="ot">&lt;-</span> x <span class="sc">*</span> y                          <span class="co"># element-wise multiplication.</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>                                     <span class="co"># there&#39;s also:</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="co">#   - element-wise division /</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="co">#   - true matrix multiplication %*%</span></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>z6</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>     [,<span class="dv">1</span>] [,<span class="dv">2</span>]</span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,]   <span class="dv">10</span>   <span class="dv">30</span></span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>,]   <span class="dv">20</span>   <span class="dv">40</span></span></code></pre></div>
</div>
<div id="identical-function-against-logical-comparisons."
class="section level2" number="19.4">
<h2><span class="header-section-number">19.4</span>
<code>identical()</code> function against logical comparisons.</h2>
<ul>
<li>The <code>identical ()</code> function is the safe and reliable way
to test two R objects for being EXACTLY equal.
<ul>
<li>Always <strong>returns a SINGLE logical value</strong> (logical
vector of length 1).<br />
</li>
</ul></li>
<li>If we want to know whether two objects are identical or not,
comparison operators, such as == or !=, may not behave or work as
expected. Infact:
<ul>
<li>they return a logical vector with the same lenght like the
arguments.<br />
</li>
<li>if one of the arguments is NA, the result is also NA.</li>
</ul></li>
</ul>
<hr />
</div>
</div>
<div id="applying-basic-operations-on-data-frames."
class="section level1" number="20">
<h1><span class="header-section-number">20</span> Applying basic
operations on data frames.</h1>
<p>As a summary, let’s see the <strong>basic operations</strong> that we
can do on <strong>data frames</strong>.</p>
<p>In particular, we’ll see the <strong>subsetting, sorting, ordering
and combining data</strong> operations on datasets that became very
important to construct <strong>tidy datasets</strong> ready to go into
downstream data analysis.</p>
<div id="inspecting-a-data-frame." class="section level2" number="20.1">
<h2><span class="header-section-number">20.1</span> Inspecting a data
frame.</h2>
<div id="which-variables-does-it-have-how-many-observations"
class="section level3" number="20.1.1">
<h3><span class="header-section-number">20.1.1</span> Which variables
does it have?; How many observations?</h3>
<div class="sourceCode" id="cb129"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;2_TestingFolder/Andy.csv&quot;</span>)</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)                                 <span class="co"># gives the names of the columns of df.</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Patient.Name&quot;</span> <span class="st">&quot;Age&quot;</span>          <span class="st">&quot;Weight&quot;</span>       <span class="st">&quot;Day&quot;</span>         </span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df)                                  <span class="co"># gives the number of rows of df.</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)</span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">30</span>  <span class="dv">4</span></span></code></pre></div>
</div>
<div id="seeing-the-few-first-or-few-last-observations."
class="section level3" number="20.1.2">
<h3><span class="header-section-number">20.1.2</span> Seeing the few
first or few last observations.</h3>
<div class="sourceCode" id="cb130"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)  </span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  Patient.Name Age Weight Day</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">1</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">2</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">3</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         Andy  <span class="dv">30</span>    <span class="dv">139</span>   <span class="dv">4</span></span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">5</span></span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>   <span class="dv">6</span></span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-10"><a href="#cb130-10" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(df)</span>
<span id="cb130-11"><a href="#cb130-11" aria-hidden="true" tabindex="-1"></a>   Patient.Name Age Weight Day</span>
<span id="cb130-12"><a href="#cb130-12" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">25</span></span>
<span id="cb130-13"><a href="#cb130-13" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">26</span></span>
<span id="cb130-14"><a href="#cb130-14" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">27</span></span>
<span id="cb130-15"><a href="#cb130-15" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">28</span></span>
<span id="cb130-16"><a href="#cb130-16" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">29</span></span>
<span id="cb130-17"><a href="#cb130-17" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">30</span></span></code></pre></div>
</div>
<div id="summary-of-all-variables-summary" class="section level3"
number="20.1.3">
<h3><span class="header-section-number">20.1.3</span> Summary of all
variables: <code>summary()</code></h3>
<div class="sourceCode" id="cb131"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a> Patient.Name      Age         Weight           Day       </span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a> Andy<span class="sc">:</span><span class="dv">30</span>      Min.   <span class="sc">:</span><span class="dv">30</span>   Min.   <span class="sc">:</span><span class="fl">135.0</span>   Min.   <span class="sc">:</span> <span class="fl">1.00</span>  </span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>              1st Qu.<span class="sc">:</span><span class="dv">30</span>   1st Qu.<span class="sc">:</span><span class="fl">137.0</span>   1st Qu.<span class="sc">:</span> <span class="fl">8.25</span>  </span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>              Median <span class="sc">:</span><span class="dv">30</span>   Median <span class="sc">:</span><span class="fl">137.5</span>   Median <span class="sc">:</span><span class="fl">15.50</span>  </span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>              Mean   <span class="sc">:</span><span class="dv">30</span>   Mean   <span class="sc">:</span><span class="fl">137.3</span>   Mean   <span class="sc">:</span><span class="fl">15.50</span>  </span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>              3rd Qu.<span class="sc">:</span><span class="dv">30</span>   3rd Qu.<span class="sc">:</span><span class="fl">138.0</span>   3rd Qu.<span class="sc">:</span><span class="fl">22.75</span>  </span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>              Max.   <span class="sc">:</span><span class="dv">30</span>   Max.   <span class="sc">:</span><span class="fl">140.0</span>   Max.   <span class="sc">:</span><span class="fl">30.00</span>  </span></code></pre></div>
</div>
<div
id="the-most-complete-set-of-information-about-an-r-object-at-once-str."
class="section level3" number="20.1.4">
<h3><span class="header-section-number">20.1.4</span> The most complete
set of information about an R Object at once: <code>str()</code>.</h3>
<div class="sourceCode" id="cb132"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data.frame&#39;</span><span class="sc">:</span>   <span class="dv">30</span> obs. of  <span class="dv">4</span> variables<span class="sc">:</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a> <span class="er">$</span> Patient.Name<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">1</span> level <span class="st">&quot;Andy&quot;</span><span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Age         <span class="sc">:</span> int  <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> <span class="dv">30</span> ...</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Weight      <span class="sc">:</span> int  <span class="dv">140</span> <span class="dv">140</span> <span class="dv">140</span> <span class="dv">139</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> <span class="dv">138</span> ...</span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> Day         <span class="sc">:</span> int  <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span> <span class="dv">9</span> <span class="dv">10</span> ...</span></code></pre></div>
</div>
</div>
<div
id="subsetting-sorting-ordering-and-combining-data-to-obtain-a-tidy-data-frame.-a-first-approach."
class="section level2" number="20.2">
<h2><span class="header-section-number">20.2</span> Subsetting, sorting,
ordering and combining data to obtain a tidy data frame. A first
approach.</h2>
<div id="simulating-an-untidy-dataset." class="section level3"
number="20.2.1">
<h3><span class="header-section-number">20.2.1</span> Simulating an
untidy dataset.</h3>
<p>In another course of this Data Science Specialization,
<strong><em>Getting and Cleaning Data</em></strong>, we’ll see in great
detail:</p>
<ul>
<li><p>How to <strong>read and load into R</strong> a huge variety of
data from different kind of sources.</p></li>
<li><p>How to manipulate that raw data and <strong>set it up</strong> to
be a <strong>tidy dataset</strong>, that is to say, basically, a
datasete where:</p>
<ul>
<li><p><em>variables</em> in the <em>columns</em> and
<em>observations</em> in the <em>rows</em>;</p></li>
<li><p>and <em>only the observations</em> that we want to be able to
<em>analyze</em>.</p></li>
</ul></li>
</ul>
<p>So, in order to be able to <strong>successfully compute</strong> that
second task of <strong>setting up a tidy</strong>
<strong>dataset</strong>, we’ll have to take out our skills on
<strong>subsetting, sorting, ordering and combining</strong> data.</p>
<p>We’ve seen before in this course, the <strong>operators</strong> that
we can use <strong>for subsetting</strong> R objects, as well as how to
<strong>combine vectors</strong> with <code>cbind()</code> and
<code>rbind()</code>.</p>
<p>Now we’ll focus on:</p>
<ul>
<li><p>Using <strong>subsetting operators</strong> on <em>data
frames</em>.</p></li>
<li><p><strong>Binding columns and rows</strong> to <em>data
frames</em>.</p></li>
<li><p>And we’ll include the basics of another operation:
<strong>ordering</strong> a <em>data frame</em>.</p></li>
</ul>
<p>To carry out this tasks as a first approach to the subject, let’s
<strong>simulate an untidy data frame</strong> as follows:</p>
<ul>
<li><p>Create a data frame with three labeled variables.</p></li>
<li><p>Scramble up the variables so that they’re not in a specific order
(we can do this by just subsetting with random indexes and
re-assigning).</p></li>
<li><p>Make some of the values be missing.</p></li>
</ul>
<div class="sourceCode" id="cb133"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">13435</span>)       <span class="co"># allows to reproduce the random numbers that &quot;sample()&quot; will generate.</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 5x3 data frame.</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;var1&quot;</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), <span class="st">&quot;var2&quot;</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>), <span class="st">&quot;var3&quot;</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">15</span>))</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Scramble up the variables.</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> X[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), ]</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Introduce some missing values (into the second variable)</span></span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>X<span class="sc">$</span>var2[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s see our Frankenstain.</span></span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>X</span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb133-13"><a href="#cb133-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb133-14"><a href="#cb133-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb133-15"><a href="#cb133-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span></code></pre></div>
</div>
<div id="subsetting-a-data-frame." class="section level3"
number="20.2.2">
<h3><span class="header-section-number">20.2.2</span> Subsetting a data
frame.</h3>
<div
id="subset-a-specific-range-of-variables-or-observations-or-both-by-indexing-with-operator-c-and-seq."
class="section level4" number="20.2.2.1">
<h4><span class="header-section-number">20.2.2.1</span> Subset a
<em>specific range</em> of <em>variables</em> or <em>observations</em>
or <em>both</em> by indexing with <code>operator :</code>,
<code>c()</code> and <code>seq()</code>.</h4>
<div class="sourceCode" id="cb134"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>range_vars <span class="ot">&lt;-</span> X[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>range_vars</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  var2 var3</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-10"><a href="#cb134-10" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(range_vars)</span>
<span id="cb134-11"><a href="#cb134-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;data.frame&quot;</span></span>
<span id="cb134-12"><a href="#cb134-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-13"><a href="#cb134-13" aria-hidden="true" tabindex="-1"></a>range_obs <span class="ot">&lt;-</span> X[<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>, ]</span>
<span id="cb134-14"><a href="#cb134-14" aria-hidden="true" tabindex="-1"></a>range_obs</span>
<span id="cb134-15"><a href="#cb134-15" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb134-16"><a href="#cb134-16" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb134-17"><a href="#cb134-17" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb134-18"><a href="#cb134-18" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb134-19"><a href="#cb134-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-20"><a href="#cb134-20" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(range_obs)</span>
<span id="cb134-21"><a href="#cb134-21" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;data.frame&quot;</span></span>
<span id="cb134-22"><a href="#cb134-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-23"><a href="#cb134-23" aria-hidden="true" tabindex="-1"></a>range_both <span class="ot">&lt;-</span> X[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</span>
<span id="cb134-24"><a href="#cb134-24" aria-hidden="true" tabindex="-1"></a>range_both</span>
<span id="cb134-25"><a href="#cb134-25" aria-hidden="true" tabindex="-1"></a>  var1 var3</span>
<span id="cb134-26"><a href="#cb134-26" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="dv">11</span></span>
<span id="cb134-27"><a href="#cb134-27" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">12</span></span>
<span id="cb134-28"><a href="#cb134-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-29"><a href="#cb134-29" aria-hidden="true" tabindex="-1"></a>range_both2 <span class="ot">&lt;-</span> X[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">&quot;var2&quot;</span>, <span class="st">&quot;var3&quot;</span>)]</span>
<span id="cb134-30"><a href="#cb134-30" aria-hidden="true" tabindex="-1"></a>range_both2</span>
<span id="cb134-31"><a href="#cb134-31" aria-hidden="true" tabindex="-1"></a>  var2 var3</span>
<span id="cb134-32"><a href="#cb134-32" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb134-33"><a href="#cb134-33" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb134-34"><a href="#cb134-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-35"><a href="#cb134-35" aria-hidden="true" tabindex="-1"></a>even_obs <span class="ot">&lt;-</span> X[<span class="fu">seq</span>(<span class="dv">2</span>, <span class="fu">nrow</span>(X), <span class="at">by =</span> <span class="dv">2</span>), ]            <span class="co"># take all even rows in a data frame.</span></span>
<span id="cb134-36"><a href="#cb134-36" aria-hidden="true" tabindex="-1"></a>even_obs</span>
<span id="cb134-37"><a href="#cb134-37" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb134-38"><a href="#cb134-38" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb134-39"><a href="#cb134-39" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span></code></pre></div>
</div>
<div
id="subset-a-single-observation-theres-no-default-dropping-behaviour."
class="section level4" number="20.2.2.2">
<h4><span class="header-section-number">20.2.2.2</span> Subset a
<em>single observation</em>: there’s <strong>NO default
dropping</strong> behaviour.</h4>
<div class="sourceCode" id="cb135"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>row_1 <span class="ot">&lt;-</span> X[<span class="dv">1</span>, ]               <span class="co"># returns a data.frame object (does not drop to vector class)</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>row_1</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(row_1)</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;data.frame&quot;</span></span></code></pre></div>
</div>
<div
id="subset-a-single-variable-heres-the-default-dropping-behaviour-from-data.frame-to-vector-unless-setting-drop-parameter."
class="section level4" number="20.2.2.3">
<h4><span class="header-section-number">20.2.2.3</span> Subset a
<em>single variable</em>: here’s the <strong>default dropping
behaviour</strong> from <code>data.frame</code> to <code>vector</code>,
unless setting <code>drop</code> parameter.</h4>
<div class="sourceCode" id="cb136"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>col_2 <span class="ot">&lt;-</span> X<span class="sc">$</span>var2                <span class="co"># returns column as a vector (dropping behaviour).</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>col_2</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span> <span class="dv">10</span> <span class="cn">NA</span>  <span class="dv">7</span>  <span class="dv">6</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>colu_2 <span class="ot">&lt;-</span> X[ , <span class="st">&quot;var2&quot;</span>]         <span class="co"># same dropping behaviour.</span></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a>colu_2</span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span> <span class="dv">10</span> <span class="cn">NA</span>  <span class="dv">7</span>  <span class="dv">6</span></span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a>column_2 <span class="ot">&lt;-</span> X[ , <span class="dv">2</span>]            <span class="co"># same dropping behaviour.  </span></span>
<span id="cb136-10"><a href="#cb136-10" aria-hidden="true" tabindex="-1"></a>column_2</span>
<span id="cb136-11"><a href="#cb136-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span> <span class="dv">10</span> <span class="cn">NA</span>  <span class="dv">7</span>  <span class="dv">6</span></span>
<span id="cb136-12"><a href="#cb136-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-13"><a href="#cb136-13" aria-hidden="true" tabindex="-1"></a>col_2_df <span class="ot">&lt;-</span> X[ , <span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]          <span class="co"># retuns a data.frame object with one variable.</span></span>
<span id="cb136-14"><a href="#cb136-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(col_2_df)</span>
<span id="cb136-15"><a href="#cb136-15" aria-hidden="true" tabindex="-1"></a>  var2</span>
<span id="cb136-16"><a href="#cb136-16" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="cn">NA</span></span>
<span id="cb136-17"><a href="#cb136-17" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="dv">10</span></span>
<span id="cb136-18"><a href="#cb136-18" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   <span class="cn">NA</span></span>
<span id="cb136-19"><a href="#cb136-19" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">7</span></span>
<span id="cb136-20"><a href="#cb136-20" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">6</span></span></code></pre></div>
</div>
<div
id="subset-observations-that-meet-a-condition-set-by-logical-statements-on-variables."
class="section level4" number="20.2.2.4">
<h4><span class="header-section-number">20.2.2.4</span> Subset
<em>observations</em> that <em>meet a condition</em> set by <em>logical
statements on variables</em>.</h4>
<p>The <strong>subset technique</strong> here is basically <strong>use a
logical vector as rows index vector</strong>:</p>
<ol style="list-style-type: decimal">
<li><p>We first construct the <strong>logical vector</strong>.</p>
<ul>
<li><p>Tipically, we use a <em>comparison operators</em> (or any other
logical expression) applied to a <em>variable</em> (a variable in a data
frame is, as we know, a <em>column vector</em>).</p></li>
<li><p>So the comparison operator performs a <strong>vectorized
operation</strong>:</p>
<ul>
<li><p>compares each value of the variable with the condition;</p></li>
<li><p><strong>returns a logical vector</strong> (we end up with a
boolean value for each row).</p></li>
<li><p><strong><em>Missing values</em></strong>: a logical statement
<em>cannot evaluate</em> <code>NA</code>s, therefore, if it encuonters a
missing value it **returns <code>NA</code>.</p></li>
</ul></li>
</ul></li>
<li><p>We then use the <strong>logical vector</strong> as <strong>rows
index vector</strong>.</p>
<ul>
<li>As we already saw, if we pass to <code>operator [</code> a logical
index vector, it <strong>selects</strong> <strong>only the
elements</strong> that <strong>satisfy the given condition</strong>, in
other words, the elements <strong>whose index is
<code>TRUE</code></strong>.</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb137"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>logical_vec <span class="ot">&lt;-</span> X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">3</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>X[logical_vec, ]</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a>X[X<span class="sc">$</span>var2 <span class="sc">&gt;</span> <span class="dv">0</span>, ]</span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a>     var1 var2 var3</span>
<span id="cb137-11"><a href="#cb137-11" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span>     <span class="cn">NA</span>   <span class="cn">NA</span>   <span class="cn">NA</span></span>
<span id="cb137-12"><a href="#cb137-12" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>       <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb137-13"><a href="#cb137-13" aria-hidden="true" tabindex="-1"></a>NA<span class="fl">.1</span>   <span class="cn">NA</span>   <span class="cn">NA</span>   <span class="cn">NA</span></span>
<span id="cb137-14"><a href="#cb137-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>       <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb137-15"><a href="#cb137-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span></code></pre></div>
</div>
<div
id="subset-observations-based-on-multiple-queries-on-the-values-of-more-than-one-variable-operators-and-."
class="section level4" number="20.2.2.5">
<h4><span class="header-section-number">20.2.2.5</span> Subset
<em>observations</em> based on multiple queries (on the values of more
than one variable): operators <code>&amp;</code> and
<code>|</code>.</h4>
<p>We can construct <strong>multiple logical expressions</strong> using
<strong>operator AND</strong> or <strong>operator OR</strong>.</p>
<p>We tipically use those operators when we have to <strong>select rows
based on</strong> the <strong><em>values of</em></strong>
<strong><em>two variables</em></strong>.</p>
<ul>
<li><p><strong>Notice</strong> that there are <strong>two
versions</strong> of operators AND and OR: a <em>single</em> version
(<code>&amp;</code>, <code>|</code>) and a <em>double</em> version
(<code>&amp;&amp;</code>, <code>||</code>).</p></li>
<li><p>We have to remember that both versions work similarly, but
there’s an <strong>imporant difference</strong> regarding their
<strong>behavior</strong> when the <strong>operands are vectors</strong>
-that is by the way always the case-.<br />
The <em>single</em> version evaluates <strong>all the elements</strong>
of the vector.<br />
The <em>double</em> version evaluates only the <strong>first
element</strong> of the vector.</p></li>
</ul>
<div class="sourceCode" id="cb138"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>X[X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> X<span class="sc">$</span>var3 <span class="sc">&gt;</span> <span class="dv">11</span>, ]</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The following statement only evaluates (X$var[1] &lt;= 3) AND (X$var3[1] &gt; 11).</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a><span class="co"># That is TRUE, so it selects all the rows.</span></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Ends up beeing like we would&#39;ve made X[TRUE, ]</span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a>X[X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">&amp;&amp;</span> X<span class="sc">$</span>var3 <span class="sc">&gt;</span> <span class="dv">11</span>, ]</span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] var1 var2 var3</span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span><span class="dv">0</span> rows<span class="sc">&gt;</span> (or <span class="dv">0</span><span class="sc">-</span>length row.names)</span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a>X[X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">|</span> X<span class="sc">$</span>var3 <span class="sc">&gt;</span> <span class="dv">12</span>, ]</span>
<span id="cb138-14"><a href="#cb138-14" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb138-15"><a href="#cb138-15" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb138-16"><a href="#cb138-16" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb138-17"><a href="#cb138-17" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb138-18"><a href="#cb138-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-19"><a href="#cb138-19" aria-hidden="true" tabindex="-1"></a><span class="co"># The following statement only evaluates (X$var[1] &lt;= 0) OR (X$var3[1] &gt; 12),</span></span>
<span id="cb138-20"><a href="#cb138-20" aria-hidden="true" tabindex="-1"></a><span class="co"># which is TRUE. So it selects all the rows.</span></span>
<span id="cb138-21"><a href="#cb138-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Again, it ends up beeing like we would&#39;ve made X[TRUE, ]</span></span>
<span id="cb138-22"><a href="#cb138-22" aria-hidden="true" tabindex="-1"></a>X[X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">||</span> X<span class="sc">$</span>var3 <span class="sc">&gt;</span> <span class="dv">12</span>, ]</span>
<span id="cb138-23"><a href="#cb138-23" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] var1 var2 var3</span>
<span id="cb138-24"><a href="#cb138-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span><span class="dv">0</span> rows<span class="sc">&gt;</span> (or <span class="dv">0</span><span class="sc">-</span>length row.names)</span></code></pre></div>
</div>
<div
id="subset-observations-based-on-multiple-queries-on-the-alternative-values-of-the-same-variable-operator-in."
class="section level4" number="20.2.2.6">
<h4><span class="header-section-number">20.2.2.6</span> Subset
<em>observations</em> based on multiple queries (on the alternative
values of the same variable): operator <code>%in%</code>.</h4>
<p>Operator <code>%in%</code> is a binary operator that
<strong>returns</strong> a <strong>logical vector</strong> indicating
<strong>if there is a</strong> <strong>match or not for its left
operand</strong>.</p>
<p>So this operator <strong>proves useful</strong> when, for instance,
we want to <strong>select rows</strong> that <strong>have</strong>
<strong>different values of the same variable</strong> in the data
frame.</p>
<p>Let’s take our <strong><code>andy</code> data frame</strong> and
suppose that we are intesested only in the observations that corrispond
to <code>Day</code>s 1, 15 and 28.</p>
<div class="sourceCode" id="cb139"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>andy[andy<span class="sc">$</span>Day <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">15</span>, <span class="dv">28</span>), ]</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>   Patient.Name Age Weight Day</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>          Andy  <span class="dv">30</span>    <span class="dv">140</span>   <span class="dv">1</span></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>         Andy  <span class="dv">30</span>    <span class="dv">138</span>  <span class="dv">15</span></span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span>         Andy  <span class="dv">30</span>    <span class="dv">135</span>  <span class="dv">28</span></span></code></pre></div>
</div>
<div
id="subset-observations-that-meet-a-condition-set-by-the-which-statement.-an-important-difference-in-terms-of-missing-values."
class="section level4" number="20.2.2.7">
<h4><span class="header-section-number">20.2.2.7</span> Subset
<em>observations</em> that <em>meet a condition</em> set by the
<em><code>which()</code> statement</em>. An important difference in
terms of missing values.</h4>
<div class="sourceCode" id="cb140"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(which)</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (x, <span class="at">arr.ind =</span> <span class="cn">FALSE</span>, <span class="at">useNames =</span> <span class="cn">TRUE</span>)  </span></code></pre></div>
<ul>
<li><p>This function takes a <strong>logical vector</strong> as
<em>first argument</em>.</p></li>
<li><p>It <strong>returns the indices</strong> of the logical vector
<strong>that are <code>TRUE</code></strong> (if the logical vector has
an <code>NA</code> value, the function evaluates it to
<code>FALSE</code> and, consecuently, it does not return the index of
that missing value).</p></li>
<li><p>In other words, this functions answers this question:
<strong>which indices are true?</strong>.</p></li>
</ul>
<p>Therefore, we can again proceed pretty much the same as before:</p>
<ul>
<li><p>Construct the <strong>logical vector</strong>.</p></li>
<li><p><strong>Don’t use it directly</strong> as a logical
<em>index</em> vector <strong>but give it in input to
<code>which()</code></strong> function.</p></li>
<li><p>Use the <strong>integer vector</strong> returned by
<code>which()</code> as an <strong>integer</strong>
<strong><em>index</em></strong> <strong>vector</strong>.</p></li>
</ul>
<div class="sourceCode" id="cb141"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>X[<span class="fu">which</span>(X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> X<span class="sc">$</span>var3 <span class="sc">&gt;</span> <span class="dv">11</span>), ]</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>X[<span class="fu">which</span>(X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">0</span> <span class="sc">|</span> X<span class="sc">$</span>var3 <span class="sc">&gt;</span> <span class="dv">12</span>), ]</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb141-10"><a href="#cb141-10" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span></code></pre></div>
<p>We can see that we <strong>obtained the same result</strong> as
before, when we made the subsetting <strong>using the</strong>
<strong>logical expression by itself</strong> with nothing else.</p>
<p>That is the case <strong>because the variables <code>var1</code> and
<code>var3</code></strong> used to construct our logical expressions,
<strong><em>did not have any <code>NA</code>s at all</em></strong>.</p>
<p>As we said, <code>which()</code> evaluates to <code>FALSE</code> all
missign values (<code>NA</code>s) that it encounters across the the
logical vector passed to it and, therefore, <strong>doesn’t
return</strong> the <strong>indices of those
<code>NA</code>s</strong>.</p>
<div class="sourceCode" id="cb142"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(X<span class="sc">$</span>var2)                                <span class="co"># Two missing values.</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA<span class="st">&#39;s </span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="st">  6.000   6.500   7.000   7.667   8.500  10.000       2 </span></span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a><span class="st">X[which(X$var2 &gt; 8), ]</span></span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a><span class="st">  var1 var2 var3</span></span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a><span class="st">4    4   10   12</span></span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-9"><a href="#cb142-9" aria-hidden="true" tabindex="-1"></a><span class="st">X[X$var2 &gt; 8, ]</span></span>
<span id="cb142-10"><a href="#cb142-10" aria-hidden="true" tabindex="-1"></a><span class="st">     var1 var2 var3</span></span>
<span id="cb142-11"><a href="#cb142-11" aria-hidden="true" tabindex="-1"></a><span class="st">NA     NA   NA   NA</span></span>
<span id="cb142-12"><a href="#cb142-12" aria-hidden="true" tabindex="-1"></a><span class="st">4       4   10   12</span></span>
<span id="cb142-13"><a href="#cb142-13" aria-hidden="true" tabindex="-1"></a><span class="st">NA.1   NA   NA   NA</span></span>
<span id="cb142-14"><a href="#cb142-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-15"><a href="#cb142-15" aria-hidden="true" tabindex="-1"></a><span class="st">summary(airquality$Ozone)                      # There are 37 NAs there!!</span></span>
<span id="cb142-16"><a href="#cb142-16" aria-hidden="true" tabindex="-1"></a><span class="st">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;</span>s </span>
<span id="cb142-17"><a href="#cb142-17" aria-hidden="true" tabindex="-1"></a>   <span class="fl">1.00</span>   <span class="fl">18.00</span>   <span class="fl">31.50</span>   <span class="fl">42.13</span>   <span class="fl">63.25</span>  <span class="fl">168.00</span>      <span class="dv">37</span> </span>
<span id="cb142-18"><a href="#cb142-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-19"><a href="#cb142-19" aria-hidden="true" tabindex="-1"></a>index <span class="ot">&lt;-</span> <span class="fu">which</span>(airquality<span class="sc">$</span>Ozone <span class="sc">&lt;</span> <span class="fl">31.5</span>)</span>
<span id="cb142-20"><a href="#cb142-20" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(index)</span>
<span id="cb142-21"><a href="#cb142-21" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">58</span></span>
<span id="cb142-22"><a href="#cb142-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-23"><a href="#cb142-23" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(airquality[index, ])</span>
<span id="cb142-24"><a href="#cb142-24" aria-hidden="true" tabindex="-1"></a>  Ozone Solar.R Wind Temp Month Day</span>
<span id="cb142-25"><a href="#cb142-25" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">12</span>     <span class="dv">149</span> <span class="fl">12.6</span>   <span class="dv">74</span>     <span class="dv">5</span>   <span class="dv">3</span></span>
<span id="cb142-26"><a href="#cb142-26" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">18</span>     <span class="dv">313</span> <span class="fl">11.5</span>   <span class="dv">62</span>     <span class="dv">5</span>   <span class="dv">4</span></span>
<span id="cb142-27"><a href="#cb142-27" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    <span class="dv">28</span>      <span class="cn">NA</span> <span class="fl">14.9</span>   <span class="dv">66</span>     <span class="dv">5</span>   <span class="dv">6</span></span>
<span id="cb142-28"><a href="#cb142-28" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>    <span class="dv">23</span>     <span class="dv">299</span>  <span class="fl">8.6</span>   <span class="dv">65</span>     <span class="dv">5</span>   <span class="dv">7</span></span>
<span id="cb142-29"><a href="#cb142-29" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>    <span class="dv">19</span>      <span class="dv">99</span> <span class="fl">13.8</span>   <span class="dv">59</span>     <span class="dv">5</span>   <span class="dv">8</span></span>
<span id="cb142-30"><a href="#cb142-30" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>     <span class="dv">8</span>      <span class="dv">19</span> <span class="fl">20.1</span>   <span class="dv">61</span>     <span class="dv">5</span>   <span class="dv">9</span></span>
<span id="cb142-31"><a href="#cb142-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-32"><a href="#cb142-32" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(airquality[airquality<span class="sc">$</span>Ozone <span class="sc">&lt;</span> <span class="fl">31.5</span>, ])    <span class="co"># 58 + 37 NAs = 95 rows.</span></span>
<span id="cb142-33"><a href="#cb142-33" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">95</span></span></code></pre></div>
<p>So, there’s a <strong>big difference</strong> when there are
<em>missing values</em> in the logical vector that one pretend to use as
index vector in a subset operation.</p>
<ul>
<li><p>A <em>logical statement</em> retuns <code>NA</code> when it
encounters missing values.</p></li>
<li><p>A <em>which statement</em> does not return the index of missing
values.</p></li>
</ul>
</div>
<div
id="subset-observations-using-subset-function.-only-for-interactive-use."
class="section level4" number="20.2.2.8">
<h4><span class="header-section-number">20.2.2.8</span> Subset
<em>observations</em> using <code>subset()</code> function. Only for
interactive use.</h4>
<p>There’s a <em>convinience function</em> for subsetting vectors,
matrices or data frames which meet conditions.</p>
<pre><code>subset(x, subset, ...)                                  # x is a vector.</code></pre>
<pre><code>subset(x, subset, select, drop = FALSE, ...)            # x is a matrix or a data frames.</code></pre>
<ul>
<li><p><code>x</code> can be a vector, matrix or data frame.</p></li>
<li><p><code>subset</code> is the <strong>logical statement</strong> to
identify the <strong>indices of the rows to take</strong>.</p>
<ul>
<li><strong>Notice</strong>: like <code>which()</code>, <strong>indices
of missing values</strong> are <strong>discarded</strong>.</li>
</ul></li>
<li><p><code>select</code> allows to take a <strong>subset of the
columns</strong>.</p></li>
</ul>
<div class="sourceCode" id="cb145"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(X, X<span class="sc">$</span>var1 <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> X<span class="sc">$</span>var3 <span class="sc">&gt;</span> <span class="dv">11</span>)</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-6"><a href="#cb145-6" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(X, X<span class="sc">$</span>var2 <span class="sc">&gt;</span> <span class="dv">8</span>)</span>
<span id="cb145-7"><a href="#cb145-7" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb145-8"><a href="#cb145-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb145-9"><a href="#cb145-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-10"><a href="#cb145-10" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(X, X<span class="sc">$</span>var2 <span class="sc">&gt;</span> <span class="dv">8</span>, <span class="st">&quot;var3&quot;</span>)</span>
<span id="cb145-11"><a href="#cb145-11" aria-hidden="true" tabindex="-1"></a>  var3</span>
<span id="cb145-12"><a href="#cb145-12" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="dv">12</span></span></code></pre></div>
<blockquote>
<p>This function comes with a <strong>warning</strong> in the help
file:<br />
<em>This is a convenience function intended for use interactively. For
programming it is better to</em> <em>use the standard subsetting
functions like <code>[</code>, and in particular the non-standard
evaluation</em> <em>of argument <code>subset</code> can have
unanticipated consequences</em>.</p>
</blockquote>
<blockquote>
<p>So <strong>better to use the brackets in our scripts</strong> and use
<strong><code>subset()</code> only interactively</strong>.</p>
</blockquote>
</div>
<div id="dealing-with-missing-values." class="section level4"
number="20.2.2.9">
<h4><span class="header-section-number">20.2.2.9</span> Dealing with
<em>missing values</em>.</h4>
<div
id="how-many-missing-values-does-a-variable-have-count-is.nas-summary."
class="section level5" number="20.2.2.9.1">
<h5><span class="header-section-number">20.2.2.9.1</span> How many
missing values does a variable have?: count <code>is.na()</code>’s,
<code>summary()</code>.</h5>
<p>We can count NAs like this:</p>
<div class="sourceCode" id="cb146"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(X<span class="sc">$</span>var1))</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(X<span class="sc">$</span>var2))</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">2</span></span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-7"><a href="#cb146-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(X<span class="sc">$</span>var3))</span>
<span id="cb146-8"><a href="#cb146-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">0</span></span></code></pre></div>
<p><code>summary()</code> also gives information about NAs.</p>
<div class="sourceCode" id="cb147"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(X)</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>      var1        var2             var3   </span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span><span class="dv">1</span>   Min.   <span class="sc">:</span> <span class="fl">6.000</span>   Min.   <span class="sc">:</span><span class="dv">11</span>  </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span><span class="dv">2</span>   1st Qu.<span class="sc">:</span> <span class="fl">6.500</span>   1st Qu.<span class="sc">:</span><span class="dv">12</span>  </span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span><span class="dv">3</span>   Median <span class="sc">:</span> <span class="fl">7.000</span>   Median <span class="sc">:</span><span class="dv">13</span>  </span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span><span class="dv">3</span>   Mean   <span class="sc">:</span> <span class="fl">7.667</span>   Mean   <span class="sc">:</span><span class="dv">13</span>  </span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span><span class="dv">4</span>   3rd Qu.<span class="sc">:</span> <span class="fl">8.500</span>   3rd Qu.<span class="sc">:</span><span class="dv">14</span>  </span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="dv">5</span>   Max.   <span class="sc">:</span><span class="fl">10.000</span>   Max.   <span class="sc">:</span><span class="dv">15</span>  </span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a>             NA<span class="st">&#39;s   :2                    </span></span></code></pre></div>
</div>
<div
id="subset-a-variable-without-missing-values-is.na-as-logical-index-vector."
class="section level5" number="20.2.2.9.2">
<h5><span class="header-section-number">20.2.2.9.2</span> Subset a
<em>variable</em> <strong>without</strong> <em>missing values</em>:
<code>!is.na()</code> as logical index vector.</h5>
<div class="sourceCode" id="cb148"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>X<span class="sc">$</span>var2[<span class="sc">!</span><span class="fu">is.na</span>(X<span class="sc">$</span>var2)]          <span class="co"># There&#39;s a logical index vector.</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">10</span>  <span class="dv">7</span>  <span class="dv">6</span></span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Equivalently:</span></span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>X[<span class="sc">!</span><span class="fu">is.na</span>(X<span class="sc">$</span>var2), <span class="st">&quot;var2&quot;</span>]</span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">10</span>  <span class="dv">7</span>  <span class="dv">6</span></span></code></pre></div>
</div>
<div
id="subset-observations-without-missing-values-in-a-certain-variable-again-is.na-as-logical-row-index-vector."
class="section level5" number="20.2.2.9.3">
<h5><span class="header-section-number">20.2.2.9.3</span> Subset
<em>observations</em> <strong>without</strong> <em>missing values in a
certain variable</em>: again <code>!is.na()</code> as logical row index
vector.</h5>
<div class="sourceCode" id="cb149"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>X[<span class="sc">!</span><span class="fu">is.na</span>(X<span class="sc">$</span>var2), ]</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span></code></pre></div>
</div>
<div
id="subset-observations-without-missing-values-in-any-variable-complete.cases-as-logical-row-index-vector."
class="section level5" number="20.2.2.9.4">
<h5><span class="header-section-number">20.2.2.9.4</span> Subset
<em>observations</em> <strong>without</strong> <em>missing values in any
variable</em>: <code>complete.cases()</code> as logical row index
vector.</h5>
<div class="sourceCode" id="cb150"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>X[<span class="fu">complete.cases</span>(X), ]</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span></code></pre></div>
</div>
<div
id="subset-observations-without-missing-values-in-the-variables-involved-in-the-subsetting-logical-condition-which-and-subset."
class="section level5" number="20.2.2.9.5">
<h5><span class="header-section-number">20.2.2.9.5</span> Subset
<em>observations</em> <strong>without</strong> <em>missing values in the
variables involved in the subsetting logical condition</em>:
<code>which()</code> and <code>subset()</code>.</h5>
<p>As we saw, if we use a <strong>logical condition within
<code>which()</code></strong> for subsetting rows, we’ll get back the
rows or observations that both <strong>meet the condition</strong> and
<strong>have no <code>NA</code>s in the variable involved</strong>
<strong>in that condition</strong>.</p>
<p>The <strong>same result</strong> we can get <strong>using
<code>subset()</code></strong> (remember: use it only
interactively).</p>
<div class="sourceCode" id="cb151"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(X<span class="sc">$</span>var2)                                <span class="co"># Two missing values.</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA<span class="st">&#39;s </span></span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="st">  6.000   6.500   7.000   7.667   8.500  10.000       2 </span></span>
<span id="cb151-4"><a href="#cb151-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-5"><a href="#cb151-5" aria-hidden="true" tabindex="-1"></a><span class="st">X[which(X$var2 &gt; 8), ]</span></span>
<span id="cb151-6"><a href="#cb151-6" aria-hidden="true" tabindex="-1"></a><span class="st">  var1 var2 var3</span></span>
<span id="cb151-7"><a href="#cb151-7" aria-hidden="true" tabindex="-1"></a><span class="st">4    4   10   12</span></span>
<span id="cb151-8"><a href="#cb151-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-9"><a href="#cb151-9" aria-hidden="true" tabindex="-1"></a><span class="st">subset(X, X$var2 &gt; 8)</span></span>
<span id="cb151-10"><a href="#cb151-10" aria-hidden="true" tabindex="-1"></a><span class="st">  var1 var2 var3</span></span>
<span id="cb151-11"><a href="#cb151-11" aria-hidden="true" tabindex="-1"></a><span class="st">4    4   10   12</span></span>
<span id="cb151-12"><a href="#cb151-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-13"><a href="#cb151-13" aria-hidden="true" tabindex="-1"></a><span class="st">summary(airquality$Ozone)                      # There are 37 NAs in Ozone!!</span></span>
<span id="cb151-14"><a href="#cb151-14" aria-hidden="true" tabindex="-1"></a><span class="st">   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;</span>s </span>
<span id="cb151-15"><a href="#cb151-15" aria-hidden="true" tabindex="-1"></a>   <span class="fl">1.00</span>   <span class="fl">18.00</span>   <span class="fl">31.50</span>   <span class="fl">42.13</span>   <span class="fl">63.25</span>  <span class="fl">168.00</span>      <span class="dv">37</span> </span>
<span id="cb151-16"><a href="#cb151-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-17"><a href="#cb151-17" aria-hidden="true" tabindex="-1"></a>airquality[<span class="fu">which</span>(airquality<span class="sc">$</span>Ozone <span class="sc">&lt;</span> <span class="dv">9</span>), ]</span>
<span id="cb151-18"><a href="#cb151-18" aria-hidden="true" tabindex="-1"></a>    Ozone Solar.R Wind Temp Month Day</span>
<span id="cb151-19"><a href="#cb151-19" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>       <span class="dv">8</span>      <span class="dv">19</span> <span class="fl">20.1</span>   <span class="dv">61</span>     <span class="dv">5</span>   <span class="dv">9</span></span>
<span id="cb151-20"><a href="#cb151-20" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>      <span class="dv">7</span>      <span class="cn">NA</span>  <span class="fl">6.9</span>   <span class="dv">74</span>     <span class="dv">5</span>  <span class="dv">11</span></span>
<span id="cb151-21"><a href="#cb151-21" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>      <span class="dv">6</span>      <span class="dv">78</span> <span class="fl">18.4</span>   <span class="dv">57</span>     <span class="dv">5</span>  <span class="dv">18</span></span>
<span id="cb151-22"><a href="#cb151-22" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>      <span class="dv">1</span>       <span class="dv">8</span>  <span class="fl">9.7</span>   <span class="dv">59</span>     <span class="dv">5</span>  <span class="dv">21</span></span>
<span id="cb151-23"><a href="#cb151-23" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>      <span class="dv">4</span>      <span class="dv">25</span>  <span class="fl">9.7</span>   <span class="dv">61</span>     <span class="dv">5</span>  <span class="dv">23</span></span>
<span id="cb151-24"><a href="#cb151-24" aria-hidden="true" tabindex="-1"></a><span class="dv">76</span>      <span class="dv">7</span>      <span class="dv">48</span> <span class="fl">14.3</span>   <span class="dv">80</span>     <span class="dv">7</span>  <span class="dv">15</span></span>
<span id="cb151-25"><a href="#cb151-25" aria-hidden="true" tabindex="-1"></a><span class="dv">147</span>     <span class="dv">7</span>      <span class="dv">49</span> <span class="fl">10.3</span>   <span class="dv">69</span>     <span class="dv">9</span>  <span class="dv">24</span></span>
<span id="cb151-26"><a href="#cb151-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-27"><a href="#cb151-27" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(airquality, airquality<span class="sc">$</span>Ozone <span class="sc">&lt;</span> <span class="dv">9</span>)</span>
<span id="cb151-28"><a href="#cb151-28" aria-hidden="true" tabindex="-1"></a>    Ozone Solar.R Wind Temp Month Day</span>
<span id="cb151-29"><a href="#cb151-29" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>       <span class="dv">8</span>      <span class="dv">19</span> <span class="fl">20.1</span>   <span class="dv">61</span>     <span class="dv">5</span>   <span class="dv">9</span></span>
<span id="cb151-30"><a href="#cb151-30" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>      <span class="dv">7</span>      <span class="cn">NA</span>  <span class="fl">6.9</span>   <span class="dv">74</span>     <span class="dv">5</span>  <span class="dv">11</span></span>
<span id="cb151-31"><a href="#cb151-31" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>      <span class="dv">6</span>      <span class="dv">78</span> <span class="fl">18.4</span>   <span class="dv">57</span>     <span class="dv">5</span>  <span class="dv">18</span></span>
<span id="cb151-32"><a href="#cb151-32" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>      <span class="dv">1</span>       <span class="dv">8</span>  <span class="fl">9.7</span>   <span class="dv">59</span>     <span class="dv">5</span>  <span class="dv">21</span></span>
<span id="cb151-33"><a href="#cb151-33" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>      <span class="dv">4</span>      <span class="dv">25</span>  <span class="fl">9.7</span>   <span class="dv">61</span>     <span class="dv">5</span>  <span class="dv">23</span></span>
<span id="cb151-34"><a href="#cb151-34" aria-hidden="true" tabindex="-1"></a><span class="dv">76</span>      <span class="dv">7</span>      <span class="dv">48</span> <span class="fl">14.3</span>   <span class="dv">80</span>     <span class="dv">7</span>  <span class="dv">15</span></span>
<span id="cb151-35"><a href="#cb151-35" aria-hidden="true" tabindex="-1"></a><span class="dv">147</span>     <span class="dv">7</span>      <span class="dv">49</span> <span class="fl">10.3</span>   <span class="dv">69</span>     <span class="dv">9</span>  <span class="dv">24</span></span></code></pre></div>
</div>
</div>
</div>
<div id="sorting-and-ordering." class="section level3" number="20.2.3">
<h3><span class="header-section-number">20.2.3</span> Sorting and
Ordering.</h3>
<p>We are going to see two functions that perform similar operations but
not entirely equal: <em>sorting</em> and <em>ordering</em>.</p>
<ul>
<li><p>As we’ll see, <strong>both kind</strong> of functions take a
<strong>vector as input</strong>.</p></li>
<li><p>But the <strong>main difference</strong> between sorting and
ordering is on <strong>what do they return</strong>:</p>
<ul>
<li><p>The <code>sort()</code> function performs sorting by ordering the
elements and <strong>returning</strong> a vector containing the
<strong>ordered elements themselves</strong>.</p></li>
<li><p>The <code>order()</code> function performs ordering by ordering
the elements and <strong>retunrning</strong>a vector containing the
<strong>indices of the ordered elements</strong>.</p></li>
</ul></li>
<li><p>So we can use <strong>the <code>order()</code> function</strong>
to order a <strong>data frame</strong>, as a <strong>row index
function</strong> <strong>within operator [</strong>.</p></li>
</ul>
<p>We’ll also see <strong>the <code>arrange()</code> function</strong>
of the <strong><code>plyr</code> package</strong>.</p>
<ul>
<li>This function <em>works alone</em>, in the sense that we don’t have
to use it as a row index function, because it <strong>takes the entire
data frame as argument</strong> and orders it by the ordering variable
we want.</li>
</ul>
<div id="sorting-values-of-a-vector-sort-function."
class="section level4" number="20.2.3.1">
<h4><span class="header-section-number">20.2.3.1</span> Sorting values
of a vector: <code>sort()</code> function.</h4>
<div class="sourceCode" id="cb152"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sort)</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (x, <span class="at">decreasing =</span> <span class="cn">FALSE</span>, ...)  </span></code></pre></div>
<ul>
<li><p>So, this function takes a <strong>vector as input</strong> (it
can be a column of a data frame for instance) and
<strong>retuns</strong> a <strong>vector with the original values or
elements ordered</strong>.</p></li>
<li><p>The <strong>default</strong> ordering is
<strong>increasing</strong>, we can change this setting
<code>decreasing</code>.</p></li>
<li><p><code>na.last</code> parameter is for controlling the
<strong>treatment of <code>NA</code>s</strong>.</p>
<ul>
<li>If <code>TRUE</code>, missing values in the data are put last.<br />
</li>
<li>If <code>FALSE</code>, they are put first.</li>
<li>If <code>NA</code>, they are removed (this is the
<em>default</em>).</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb153"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(X<span class="sc">$</span>var1)</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span></span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(X<span class="sc">$</span>var1, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">4</span> <span class="dv">3</span> <span class="dv">2</span> <span class="dv">1</span></span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(X<span class="sc">$</span>var2)</span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">6</span>  <span class="dv">7</span> <span class="dv">10</span></span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(X<span class="sc">$</span>var2, <span class="at">na.last =</span> <span class="cn">TRUE</span>)</span>
<span id="cb153-11"><a href="#cb153-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">6</span>  <span class="dv">7</span> <span class="dv">10</span> <span class="cn">NA</span> <span class="cn">NA</span></span>
<span id="cb153-12"><a href="#cb153-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-13"><a href="#cb153-13" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(X<span class="sc">$</span>var2, <span class="at">na.last =</span> <span class="cn">FALSE</span>)</span>
<span id="cb153-14"><a href="#cb153-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">NA</span> <span class="cn">NA</span>  <span class="dv">6</span>  <span class="dv">7</span> <span class="dv">10</span></span></code></pre></div>
</div>
<div
id="ordering-observations-of-a-data-frame-by-an-ordering-variable-using-the-order-function-as-a-row-indexing-function."
class="section level4" number="20.2.3.2">
<h4><span class="header-section-number">20.2.3.2</span> Ordering
<em>observations</em> of a data frame <em>by an ordering variable</em>
using the <code>order()</code> function as a row indexing function.</h4>
<div class="sourceCode" id="cb154"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(order)</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (..., <span class="at">na.last =</span> <span class="cn">TRUE</span>, <span class="at">decreasing =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="fu">c</span>(<span class="st">&quot;auto&quot;</span>, <span class="st">&quot;shell&quot;</span>, </span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;radix&quot;</span>))  </span></code></pre></div>
<ul>
<li><p>This function <strong>orders</strong> the elements of the
<strong>vector</strong> given as <strong>first argument</strong> and
<strong>returns the indices</strong> of the ordered elements.</p></li>
<li><p>In the <strong>case of ties</strong> in the first vector, we can
pass a <strong>second vector</strong> because it’s values are going to
be used to <strong>break the ties</strong> (if the values are still
tied, values in the later arguments are used to break the tie).</p></li>
<li><p>The sort order is <strong>increasing</strong> by default, but
this can be changed setting to <code>TRUE</code>the
<code>decreasing</code> argument.</p></li>
<li><p><em>Equivalently</em>, to <strong>invert the sort order</strong>,
we can pass the <strong>vector name</strong> with a <strong>minus sign
ahead</strong>.</p></li>
<li><p><code>na.last</code> parameter is for controlling the
<strong>treatment of <code>NA</code>s</strong>.</p>
<ul>
<li>If <code>TRUE</code>, missing values in the data are put last (this
is the <em>default</em>).<br />
</li>
<li>If <code>FALSE</code>, they are put first.</li>
<li>If <code>NA</code>, they are removed.</li>
</ul></li>
</ul>
<p>So we can <strong>order a data frame by a particular
variable</strong>, in other words, <strong>sort all the rows</strong>
<em>so the values of that particular variable are in
increasing/decreasing order</em>, as follows:</p>
<ul>
<li><p>First, we <strong>give that column</strong> (that is, a
<em>vector</em>) in <strong>input to
<code>order()</code></strong>.</p></li>
<li><p>Then, we use the <strong>integer vector with the oredered
indices</strong> returned by <code>order()</code> as <strong>row index
vector</strong> within <code>operator [</code>.</p></li>
</ul>
<p>For <strong>example</strong>:</p>
<div class="sourceCode" id="cb155"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by var1</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>X[<span class="fu">order</span>(X<span class="sc">$</span>var1), ]</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by var2, put NAs at last</span></span>
<span id="cb155-11"><a href="#cb155-11" aria-hidden="true" tabindex="-1"></a>X[<span class="fu">order</span>(X<span class="sc">$</span>var2), ]</span>
<span id="cb155-12"><a href="#cb155-12" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb155-13"><a href="#cb155-13" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb155-14"><a href="#cb155-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb155-15"><a href="#cb155-15" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb155-16"><a href="#cb155-16" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb155-17"><a href="#cb155-17" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb155-18"><a href="#cb155-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-19"><a href="#cb155-19" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by var2, remove NAs</span></span>
<span id="cb155-20"><a href="#cb155-20" aria-hidden="true" tabindex="-1"></a>X[<span class="fu">order</span>(X<span class="sc">$</span>var2, <span class="at">na.last =</span> <span class="cn">NA</span> ), ]</span>
<span id="cb155-21"><a href="#cb155-21" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb155-22"><a href="#cb155-22" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb155-23"><a href="#cb155-23" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb155-24"><a href="#cb155-24" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span></code></pre></div>
<p><strong>Notice</strong>:</p>
<ul>
<li><p><code>order()</code> <strong><em>does not change the row
names</em></strong>.</p></li>
<li><p>If we want to rearrenge or fix this, we can <strong>set the
<code>rownames</code> attribute to <code>NULL</code></strong>.</p></li>
</ul>
<div class="sourceCode" id="cb156"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> X[<span class="fu">order</span>(X<span class="sc">$</span>var2), ]</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>Y</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(Y) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb156-11"><a href="#cb156-11" aria-hidden="true" tabindex="-1"></a>Y</span>
<span id="cb156-12"><a href="#cb156-12" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb156-13"><a href="#cb156-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb156-14"><a href="#cb156-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb156-15"><a href="#cb156-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb156-16"><a href="#cb156-16" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb156-17"><a href="#cb156-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span></code></pre></div>
<p>Some <strong>other examples</strong> using <code>mtcars</code>
dataset.</p>
<div class="sourceCode" id="cb157"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>                   mpg cyl disp  hp drat    wt  qsec vs am gear carb</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>Mazda RX4         <span class="fl">21.0</span>   <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span> <span class="fl">3.90</span> <span class="fl">2.620</span> <span class="fl">16.46</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">4</span></span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>Mazda RX4 Wag     <span class="fl">21.0</span>   <span class="dv">6</span>  <span class="dv">160</span> <span class="dv">110</span> <span class="fl">3.90</span> <span class="fl">2.875</span> <span class="fl">17.02</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">4</span></span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>Datsun <span class="dv">710</span>        <span class="fl">22.8</span>   <span class="dv">4</span>  <span class="dv">108</span>  <span class="dv">93</span> <span class="fl">3.85</span> <span class="fl">2.320</span> <span class="fl">18.61</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>Hornet <span class="dv">4</span> Drive    <span class="fl">21.4</span>   <span class="dv">6</span>  <span class="dv">258</span> <span class="dv">110</span> <span class="fl">3.08</span> <span class="fl">3.215</span> <span class="fl">19.44</span>  <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">1</span></span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>Hornet Sportabout <span class="fl">18.7</span>   <span class="dv">8</span>  <span class="dv">360</span> <span class="dv">175</span> <span class="fl">3.15</span> <span class="fl">3.440</span> <span class="fl">17.02</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">2</span></span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>Valiant           <span class="fl">18.1</span>   <span class="dv">6</span>  <span class="dv">225</span> <span class="dv">105</span> <span class="fl">2.76</span> <span class="fl">3.460</span> <span class="fl">20.22</span>  <span class="dv">1</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">1</span></span>
<span id="cb157-9"><a href="#cb157-9" aria-hidden="true" tabindex="-1"></a>                            carname</span>
<span id="cb157-10"><a href="#cb157-10" aria-hidden="true" tabindex="-1"></a>Mazda RX4                 Mazda RX4</span>
<span id="cb157-11"><a href="#cb157-11" aria-hidden="true" tabindex="-1"></a>Mazda RX4 Wag         Mazda RX4 Wag</span>
<span id="cb157-12"><a href="#cb157-12" aria-hidden="true" tabindex="-1"></a>Datsun <span class="dv">710</span>               Datsun <span class="dv">710</span></span>
<span id="cb157-13"><a href="#cb157-13" aria-hidden="true" tabindex="-1"></a>Hornet <span class="dv">4</span> Drive       Hornet <span class="dv">4</span> Drive</span>
<span id="cb157-14"><a href="#cb157-14" aria-hidden="true" tabindex="-1"></a>Hornet Sportabout Hornet Sportabout</span>
<span id="cb157-15"><a href="#cb157-15" aria-hidden="true" tabindex="-1"></a>Valiant                     Valiant</span>
<span id="cb157-16"><a href="#cb157-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-17"><a href="#cb157-17" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by mpg</span></span>
<span id="cb157-18"><a href="#cb157-18" aria-hidden="true" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> mtcars[<span class="fu">order</span>(mtcars<span class="sc">$</span>mpg), ]</span>
<span id="cb157-19"><a href="#cb157-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(newdata)</span>
<span id="cb157-20"><a href="#cb157-20" aria-hidden="true" tabindex="-1"></a>                     mpg cyl disp  hp drat    wt  qsec vs am gear carb</span>
<span id="cb157-21"><a href="#cb157-21" aria-hidden="true" tabindex="-1"></a>Cadillac Fleetwood  <span class="fl">10.4</span>   <span class="dv">8</span>  <span class="dv">472</span> <span class="dv">205</span> <span class="fl">2.93</span> <span class="fl">5.250</span> <span class="fl">17.98</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-22"><a href="#cb157-22" aria-hidden="true" tabindex="-1"></a>Lincoln Continental <span class="fl">10.4</span>   <span class="dv">8</span>  <span class="dv">460</span> <span class="dv">215</span> <span class="fl">3.00</span> <span class="fl">5.424</span> <span class="fl">17.82</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-23"><a href="#cb157-23" aria-hidden="true" tabindex="-1"></a>Camaro Z28          <span class="fl">13.3</span>   <span class="dv">8</span>  <span class="dv">350</span> <span class="dv">245</span> <span class="fl">3.73</span> <span class="fl">3.840</span> <span class="fl">15.41</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-24"><a href="#cb157-24" aria-hidden="true" tabindex="-1"></a>Duster <span class="dv">360</span>          <span class="fl">14.3</span>   <span class="dv">8</span>  <span class="dv">360</span> <span class="dv">245</span> <span class="fl">3.21</span> <span class="fl">3.570</span> <span class="fl">15.84</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-25"><a href="#cb157-25" aria-hidden="true" tabindex="-1"></a>Chrysler Imperial   <span class="fl">14.7</span>   <span class="dv">8</span>  <span class="dv">440</span> <span class="dv">230</span> <span class="fl">3.23</span> <span class="fl">5.345</span> <span class="fl">17.42</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-26"><a href="#cb157-26" aria-hidden="true" tabindex="-1"></a>Maserati Bora       <span class="fl">15.0</span>   <span class="dv">8</span>  <span class="dv">301</span> <span class="dv">335</span> <span class="fl">3.54</span> <span class="fl">3.570</span> <span class="fl">14.60</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">8</span></span>
<span id="cb157-27"><a href="#cb157-27" aria-hidden="true" tabindex="-1"></a>                                carname</span>
<span id="cb157-28"><a href="#cb157-28" aria-hidden="true" tabindex="-1"></a>Cadillac Fleetwood   Cadillac Fleetwood</span>
<span id="cb157-29"><a href="#cb157-29" aria-hidden="true" tabindex="-1"></a>Lincoln Continental Lincoln Continental</span>
<span id="cb157-30"><a href="#cb157-30" aria-hidden="true" tabindex="-1"></a>Camaro Z28                   Camaro Z28</span>
<span id="cb157-31"><a href="#cb157-31" aria-hidden="true" tabindex="-1"></a>Duster <span class="dv">360</span>                   Duster <span class="dv">360</span></span>
<span id="cb157-32"><a href="#cb157-32" aria-hidden="true" tabindex="-1"></a>Chrysler Imperial     Chrysler Imperial</span>
<span id="cb157-33"><a href="#cb157-33" aria-hidden="true" tabindex="-1"></a>Maserati Bora             Maserati Bora</span>
<span id="cb157-34"><a href="#cb157-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-35"><a href="#cb157-35" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by mpg and -untie- by qsec</span></span>
<span id="cb157-36"><a href="#cb157-36" aria-hidden="true" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> mtcars[<span class="fu">order</span>(mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>qsec), ]</span>
<span id="cb157-37"><a href="#cb157-37" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(newdata)</span>
<span id="cb157-38"><a href="#cb157-38" aria-hidden="true" tabindex="-1"></a>                     mpg cyl disp  hp drat    wt  qsec vs am gear carb</span>
<span id="cb157-39"><a href="#cb157-39" aria-hidden="true" tabindex="-1"></a>Lincoln Continental <span class="fl">10.4</span>   <span class="dv">8</span>  <span class="dv">460</span> <span class="dv">215</span> <span class="fl">3.00</span> <span class="fl">5.424</span> <span class="fl">17.82</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-40"><a href="#cb157-40" aria-hidden="true" tabindex="-1"></a>Cadillac Fleetwood  <span class="fl">10.4</span>   <span class="dv">8</span>  <span class="dv">472</span> <span class="dv">205</span> <span class="fl">2.93</span> <span class="fl">5.250</span> <span class="fl">17.98</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-41"><a href="#cb157-41" aria-hidden="true" tabindex="-1"></a>Camaro Z28          <span class="fl">13.3</span>   <span class="dv">8</span>  <span class="dv">350</span> <span class="dv">245</span> <span class="fl">3.73</span> <span class="fl">3.840</span> <span class="fl">15.41</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-42"><a href="#cb157-42" aria-hidden="true" tabindex="-1"></a>Duster <span class="dv">360</span>          <span class="fl">14.3</span>   <span class="dv">8</span>  <span class="dv">360</span> <span class="dv">245</span> <span class="fl">3.21</span> <span class="fl">3.570</span> <span class="fl">15.84</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-43"><a href="#cb157-43" aria-hidden="true" tabindex="-1"></a>Chrysler Imperial   <span class="fl">14.7</span>   <span class="dv">8</span>  <span class="dv">440</span> <span class="dv">230</span> <span class="fl">3.23</span> <span class="fl">5.345</span> <span class="fl">17.42</span>  <span class="dv">0</span>  <span class="dv">0</span>    <span class="dv">3</span>    <span class="dv">4</span></span>
<span id="cb157-44"><a href="#cb157-44" aria-hidden="true" tabindex="-1"></a>Maserati Bora       <span class="fl">15.0</span>   <span class="dv">8</span>  <span class="dv">301</span> <span class="dv">335</span> <span class="fl">3.54</span> <span class="fl">3.570</span> <span class="fl">14.60</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">8</span></span>
<span id="cb157-45"><a href="#cb157-45" aria-hidden="true" tabindex="-1"></a>                                carname</span>
<span id="cb157-46"><a href="#cb157-46" aria-hidden="true" tabindex="-1"></a>Lincoln Continental Lincoln Continental</span>
<span id="cb157-47"><a href="#cb157-47" aria-hidden="true" tabindex="-1"></a>Cadillac Fleetwood   Cadillac Fleetwood</span>
<span id="cb157-48"><a href="#cb157-48" aria-hidden="true" tabindex="-1"></a>Camaro Z28                   Camaro Z28</span>
<span id="cb157-49"><a href="#cb157-49" aria-hidden="true" tabindex="-1"></a>Duster <span class="dv">360</span>                   Duster <span class="dv">360</span></span>
<span id="cb157-50"><a href="#cb157-50" aria-hidden="true" tabindex="-1"></a>Chrysler Imperial     Chrysler Imperial</span>
<span id="cb157-51"><a href="#cb157-51" aria-hidden="true" tabindex="-1"></a>Maserati Bora             Maserati Bora</span>
<span id="cb157-52"><a href="#cb157-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-53"><a href="#cb157-53" aria-hidden="true" tabindex="-1"></a><span class="co">#sort by mpg (decreasing) and -untiy- by cyl</span></span>
<span id="cb157-54"><a href="#cb157-54" aria-hidden="true" tabindex="-1"></a>newdata <span class="ot">&lt;-</span> mtcars[<span class="fu">order</span>(<span class="sc">-</span>mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>cyl), ]</span>
<span id="cb157-55"><a href="#cb157-55" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(newdata)</span>
<span id="cb157-56"><a href="#cb157-56" aria-hidden="true" tabindex="-1"></a>                mpg cyl  disp  hp drat    wt  qsec vs am gear carb</span>
<span id="cb157-57"><a href="#cb157-57" aria-hidden="true" tabindex="-1"></a>Toyota Corolla <span class="fl">33.9</span>   <span class="dv">4</span>  <span class="fl">71.1</span>  <span class="dv">65</span> <span class="fl">4.22</span> <span class="fl">1.835</span> <span class="fl">19.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb157-58"><a href="#cb157-58" aria-hidden="true" tabindex="-1"></a>Fiat <span class="dv">128</span>       <span class="fl">32.4</span>   <span class="dv">4</span>  <span class="fl">78.7</span>  <span class="dv">66</span> <span class="fl">4.08</span> <span class="fl">2.200</span> <span class="fl">19.47</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb157-59"><a href="#cb157-59" aria-hidden="true" tabindex="-1"></a>Honda Civic    <span class="fl">30.4</span>   <span class="dv">4</span>  <span class="fl">75.7</span>  <span class="dv">52</span> <span class="fl">4.93</span> <span class="fl">1.615</span> <span class="fl">18.52</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">2</span></span>
<span id="cb157-60"><a href="#cb157-60" aria-hidden="true" tabindex="-1"></a>Lotus Europa   <span class="fl">30.4</span>   <span class="dv">4</span>  <span class="fl">95.1</span> <span class="dv">113</span> <span class="fl">3.77</span> <span class="fl">1.513</span> <span class="fl">16.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span></span>
<span id="cb157-61"><a href="#cb157-61" aria-hidden="true" tabindex="-1"></a>Fiat X1<span class="dv">-9</span>      <span class="fl">27.3</span>   <span class="dv">4</span>  <span class="fl">79.0</span>  <span class="dv">66</span> <span class="fl">4.08</span> <span class="fl">1.935</span> <span class="fl">18.90</span>  <span class="dv">1</span>  <span class="dv">1</span>    <span class="dv">4</span>    <span class="dv">1</span></span>
<span id="cb157-62"><a href="#cb157-62" aria-hidden="true" tabindex="-1"></a>Porsche <span class="dv">914-2</span>  <span class="fl">26.0</span>   <span class="dv">4</span> <span class="fl">120.3</span>  <span class="dv">91</span> <span class="fl">4.43</span> <span class="fl">2.140</span> <span class="fl">16.70</span>  <span class="dv">0</span>  <span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">2</span></span>
<span id="cb157-63"><a href="#cb157-63" aria-hidden="true" tabindex="-1"></a>                      carname</span>
<span id="cb157-64"><a href="#cb157-64" aria-hidden="true" tabindex="-1"></a>Toyota Corolla Toyota Corolla</span>
<span id="cb157-65"><a href="#cb157-65" aria-hidden="true" tabindex="-1"></a>Fiat <span class="dv">128</span>             Fiat <span class="dv">128</span></span>
<span id="cb157-66"><a href="#cb157-66" aria-hidden="true" tabindex="-1"></a>Honda Civic       Honda Civic</span>
<span id="cb157-67"><a href="#cb157-67" aria-hidden="true" tabindex="-1"></a>Lotus Europa     Lotus Europa</span>
<span id="cb157-68"><a href="#cb157-68" aria-hidden="true" tabindex="-1"></a>Fiat X1<span class="dv">-9</span>           Fiat X1<span class="dv">-9</span></span>
<span id="cb157-69"><a href="#cb157-69" aria-hidden="true" tabindex="-1"></a>Porsche <span class="dv">914-2</span>   Porsche <span class="dv">914-2</span></span></code></pre></div>
</div>
<div id="ordering-a-data-frame-using-plyr-package-arrange-function."
class="section level4" number="20.2.3.3">
<h4><span class="header-section-number">20.2.3.3</span> Ordering a data
frame using <code>plyr</code> package: <code>arrange()</code>
function.</h4>
<p>We can do the <strong>same thing</strong> with the
<strong><code>arrange()</code> function</strong> of the
<strong><code>plyr</code> package</strong> (written by Hadley
Wickham).</p>
<div class="sourceCode" id="cb158"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plyr)</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(arrange)</span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span> (df, ...)  </span></code></pre></div>
<p>This time <strong>we just use the function alone</strong> (we don’t
use it as an indexing function within <code>operator [</code>).</p>
<ul>
<li><p>Infact, it <strong>takes the entire data frame</strong> we want
to order as <strong>first argument</strong>.</p></li>
<li><p>And we can tell it the <strong>variable that the data frame is
sorted on</strong>.</p></li>
<li><p>The <strong>default</strong> order is
<strong>increasing</strong>.</p>
<ul>
<li>There’s <strong>not a <code>decreasing</code> parameter</strong>
here, so what we can do if we want a decreasing order is <strong>passing
the ordering variable wrapped with the <code>desc()</code>
function</strong>.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb159"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(X, var1)</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb159-6"><a href="#cb159-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb159-7"><a href="#cb159-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb159-8"><a href="#cb159-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-9"><a href="#cb159-9" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(X, <span class="fu">desc</span>(var1))</span>
<span id="cb159-10"><a href="#cb159-10" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb159-11"><a href="#cb159-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb159-12"><a href="#cb159-12" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb159-13"><a href="#cb159-13" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb159-14"><a href="#cb159-14" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb159-15"><a href="#cb159-15" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span></code></pre></div>
</div>
</div>
<div
id="combining-data-addingremoving-columns-and-rows-tofrom-data-frames."
class="section level3" number="20.2.4">
<h3><span class="header-section-number">20.2.4</span> Combining data:
adding/removing columns and rows to/from data frames.</h3>
<p>We have different ways for adding/removing columns or rows to/from a
data frame.</p>
<p>Here we’ll see basically two forms of doing that: <em>manually</em>
and using <em>binding</em> functions.</p>
<ul>
<li><p>The <em>binding</em> functions that we’ll revisit here, are
<code>cbind()</code> and <code>rbind()</code> and, as we already know,
they allow us to <em>only add</em> columns or rows.</p></li>
<li><p>Regarding the <em>manual</em> way, we must distinguish the
situations:</p>
<ul>
<li>If it is a <strong>column</strong>, then:
<ul>
<li>There’s a <strong>straight forward</strong> <em>manual
procedure</em> for both <em>adding</em> and <em>removing</em>
columns.<br />
</li>
</ul></li>
<li>If it is a <strong>row</strong>, then:
<ul>
<li>Essentially the <em>manual procedure</em> to <em>remove</em> a
single row or specific rows, is substetting the rows we want to keep
using an index row vector that is the complement of the row indices that
we want to “delete”.</li>
</ul></li>
</ul></li>
</ul>
<div
id="adding-a-column-by-just-directly-assigning-a-vector-to-a-new-data-frame-variable."
class="section level4" number="20.2.4.1">
<h4><span class="header-section-number">20.2.4.1</span> Adding a
<em>column</em> by <em>just directly assigning</em> a vector to a new
data frame variable.</h4>
<p>If we want to add a column, we just assign a new vector to a variable
that wasn’t in the data frame before.</p>
<p>The new vector must have <strong>the same length</strong> as the
<strong>number of rows</strong> of the data frame.</p>
<div class="sourceCode" id="cb160"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>X<span class="sc">$</span>var4 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">nrow</span>(X))</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>X</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3       var4</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span> <span class="sc">-</span><span class="fl">0.4150458</span></span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span>  <span class="fl">2.5437602</span></span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span>  <span class="fl">1.5545298</span></span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span> <span class="sc">-</span><span class="fl">0.6192328</span></span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span> <span class="sc">-</span><span class="fl">0.9261035</span></span></code></pre></div>
</div>
<div id="removing-a-column-by-just-setting-it-to-null."
class="section level4" number="20.2.4.2">
<h4><span class="header-section-number">20.2.4.2</span> Removing a
<em>column</em> by <em>just setting it to <code>NULL</code></em>.</h4>
<p>Yes, it’s simply like that.</p>
<div class="sourceCode" id="cb161"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>X<span class="sc">$</span>var4 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>X</span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span></code></pre></div>
</div>
<div id="removing-specific-rows-by-subsetting-all-the-other-rows."
class="section level4" number="20.2.4.3">
<h4><span class="header-section-number">20.2.4.3</span> Removing
<em>specific rows</em> by <em>subsetting all the other rows</em>.</h4>
<p>So, we can “remove” specific rows from a data frame by subsetting all
the other rows that we want to keep, and we do that by <strong>using as
row index vector</strong> a vector that is the <strong>complement of
the</strong> <strong>indices that we want to “erase”</strong>.</p>
<ul>
<li><p>As we know, we can do this by using the <strong>minus
sign</strong> to <em>exlude the unwnated indices</em> when
subsetting.</p></li>
<li><p>Obviously, we have here the alternative of
<strong>reassigning</strong> the result to the <em>same variable</em>
(this way we modify the original data frame) or <strong>assing</strong>
the result to other variable.</p></li>
</ul>
<p>For example, let’s “remove” form our <code>X</code> data frame rows 2
and 4.</p>
<div class="sourceCode" id="cb162"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> X</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> Y[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>), ]</span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>Y</span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3</span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb162-7"><a href="#cb162-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span></code></pre></div>
</div>
<div id="adding-columns-and-rows-with-cbind-and-rbind."
class="section level4" number="20.2.4.4">
<h4><span class="header-section-number">20.2.4.4</span> Adding columns
and rows with <code>cbind()</code> and <code>rbind()</code>.</h4>
<p>We can also use <code>cbind()</code> and <code>rbind()</code>
commands which, as we already know,:</p>
<ul>
<li><p>Take a <strong>non empty data set</strong> as first argument and
<strong>(column or row)-bind the new vector</strong> to it, meaning that
they add the vector as a new column to the right hand side
(<code>cbind</code>) or as a new row at the bottom
(<code>rbind</code>).</p></li>
<li><p>Therefore, if we give the R objects in other order, say the new
vector as first argument and the data frame as second, we get the new
column to be added to the left side (<code>cbind</code>) and the new
line added to the top of the data frame (<code>rbind</code>).</p></li>
</ul>
<div class="sourceCode" id="cb163"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">cbind</span>(X, <span class="fu">rnorm</span>(<span class="fu">nrow</span>(X)))</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>Y</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>  var1 var2 var3 <span class="fu">rnorm</span>(<span class="fu">nrow</span>(X))</span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span>    <span class="sc">-</span><span class="fl">0.66549949</span></span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span>    <span class="sc">-</span><span class="fl">0.02166735</span></span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span>    <span class="sc">-</span><span class="fl">0.17411953</span></span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span>     <span class="fl">0.23900438</span></span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span>    <span class="sc">-</span><span class="fl">1.83245959</span></span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a>Y2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">rnorm</span>(<span class="fu">nrow</span>(X)), X)</span>
<span id="cb163-11"><a href="#cb163-11" aria-hidden="true" tabindex="-1"></a>Y2</span>
<span id="cb163-12"><a href="#cb163-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rnorm</span>(<span class="fu">nrow</span>(X)) var1 var2 var3</span>
<span id="cb163-13"><a href="#cb163-13" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="sc">-</span><span class="fl">0.03718739</span>    <span class="dv">2</span>   <span class="cn">NA</span>   <span class="dv">11</span></span>
<span id="cb163-14"><a href="#cb163-14" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="sc">-</span><span class="fl">0.44051699</span>    <span class="dv">4</span>   <span class="dv">10</span>   <span class="dv">12</span></span>
<span id="cb163-15"><a href="#cb163-15" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="sc">-</span><span class="fl">1.44826359</span>    <span class="dv">3</span>   <span class="cn">NA</span>   <span class="dv">14</span></span>
<span id="cb163-16"><a href="#cb163-16" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="sc">-</span><span class="fl">0.51824571</span>    <span class="dv">1</span>    <span class="dv">7</span>   <span class="dv">15</span></span>
<span id="cb163-17"><a href="#cb163-17" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="fl">0.75852718</span>    <span class="dv">5</span>    <span class="dv">6</span>   <span class="dv">13</span></span>
<span id="cb163-18"><a href="#cb163-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-19"><a href="#cb163-19" aria-hidden="true" tabindex="-1"></a>Z <span class="ot">&lt;-</span> <span class="fu">rbind</span>(X, <span class="fu">rnorm</span>(<span class="fu">ncol</span>(X)))</span>
<span id="cb163-20"><a href="#cb163-20" aria-hidden="true" tabindex="-1"></a>Z</span>
<span id="cb163-21"><a href="#cb163-21" aria-hidden="true" tabindex="-1"></a>       var1     var2       var3</span>
<span id="cb163-22"><a href="#cb163-22" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="fl">2.0000000</span>       <span class="cn">NA</span> <span class="fl">11.0000000</span></span>
<span id="cb163-23"><a href="#cb163-23" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="fl">4.0000000</span> <span class="fl">10.00000</span> <span class="fl">12.0000000</span></span>
<span id="cb163-24"><a href="#cb163-24" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">3.0000000</span>       <span class="cn">NA</span> <span class="fl">14.0000000</span></span>
<span id="cb163-25"><a href="#cb163-25" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="fl">1.0000000</span>  <span class="fl">7.00000</span> <span class="fl">15.0000000</span></span>
<span id="cb163-26"><a href="#cb163-26" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="fl">5.0000000</span>  <span class="fl">6.00000</span> <span class="fl">13.0000000</span></span>
<span id="cb163-27"><a href="#cb163-27" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="fl">0.2849353</span> <span class="sc">-</span><span class="fl">1.53784</span> <span class="sc">-</span><span class="fl">0.3652188</span></span>
<span id="cb163-28"><a href="#cb163-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-29"><a href="#cb163-29" aria-hidden="true" tabindex="-1"></a>Z2 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rnorm</span>(<span class="fu">ncol</span>(X)), X)</span>
<span id="cb163-30"><a href="#cb163-30" aria-hidden="true" tabindex="-1"></a>Z2</span>
<span id="cb163-31"><a href="#cb163-31" aria-hidden="true" tabindex="-1"></a>         var1      var2      var3</span>
<span id="cb163-32"><a href="#cb163-32" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="sc">-</span><span class="fl">0.4338298</span> <span class="sc">-</span><span class="fl">1.577484</span> <span class="sc">-</span><span class="fl">1.349549</span></span>
<span id="cb163-33"><a href="#cb163-33" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   <span class="fl">2.0000000</span>        <span class="cn">NA</span> <span class="fl">11.000000</span></span>
<span id="cb163-34"><a href="#cb163-34" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   <span class="fl">4.0000000</span> <span class="fl">10.000000</span> <span class="fl">12.000000</span></span>
<span id="cb163-35"><a href="#cb163-35" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>  <span class="fl">3.0000000</span>        <span class="cn">NA</span> <span class="fl">14.000000</span></span>
<span id="cb163-36"><a href="#cb163-36" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>   <span class="fl">1.0000000</span>  <span class="fl">7.000000</span> <span class="fl">15.000000</span></span>
<span id="cb163-37"><a href="#cb163-37" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>   <span class="fl">5.0000000</span>  <span class="fl">6.000000</span> <span class="fl">13.000000</span></span></code></pre></div>
<hr />
</div>
</div>
</div>
</div>
<div id="session-info." class="section level1" number="21">
<h1><span class="header-section-number">21</span> Session Info.</h1>
<div class="sourceCode" id="cb164"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>R version <span class="dv">3</span>.<span class="fl">6.3</span> (<span class="dv">2020-02-29</span>)</span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>Platform<span class="sc">:</span> x86_64<span class="sc">-</span>pc<span class="sc">-</span>linux<span class="sc">-</span><span class="fu">gnu</span> (<span class="dv">64</span><span class="sc">-</span>bit)</span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>Running under<span class="sc">:</span> Ubuntu <span class="dv">18</span>.<span class="fl">04.6</span> LTS</span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>Matrix products<span class="sc">:</span> default</span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>BLAS<span class="sc">:</span>   <span class="er">/</span>usr<span class="sc">/</span>lib<span class="sc">/</span>x86_64<span class="sc">-</span>linux<span class="sc">-</span>gnu<span class="sc">/</span>blas<span class="sc">/</span>libblas.so.<span class="dv">3</span>.<span class="fl">7.1</span></span>
<span id="cb164-8"><a href="#cb164-8" aria-hidden="true" tabindex="-1"></a>LAPACK<span class="sc">:</span> <span class="er">/</span>usr<span class="sc">/</span>lib<span class="sc">/</span>x86_64<span class="sc">-</span>linux<span class="sc">-</span>gnu<span class="sc">/</span>lapack<span class="sc">/</span>liblapack.so.<span class="dv">3</span>.<span class="fl">7.1</span></span>
<span id="cb164-9"><a href="#cb164-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-10"><a href="#cb164-10" aria-hidden="true" tabindex="-1"></a>locale<span class="sc">:</span></span>
<span id="cb164-11"><a href="#cb164-11" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] LC_CTYPE<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>       LC_NUMERIC<span class="ot">=</span>C              </span>
<span id="cb164-12"><a href="#cb164-12" aria-hidden="true" tabindex="-1"></a> [<span class="dv">3</span>] LC_TIME<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>        LC_COLLATE<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>    </span>
<span id="cb164-13"><a href="#cb164-13" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] LC_MONETARY<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>    LC_MESSAGES<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>   </span>
<span id="cb164-14"><a href="#cb164-14" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] LC_PAPER<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span>       LC_NAME<span class="ot">=</span>C                 </span>
<span id="cb164-15"><a href="#cb164-15" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] LC_ADDRESS<span class="ot">=</span>C               LC_TELEPHONE<span class="ot">=</span>C            </span>
<span id="cb164-16"><a href="#cb164-16" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] LC_MEASUREMENT<span class="ot">=</span>es_AR.UTF<span class="dv">-8</span> LC_IDENTIFICATION<span class="ot">=</span>C       </span>
<span id="cb164-17"><a href="#cb164-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-18"><a href="#cb164-18" aria-hidden="true" tabindex="-1"></a>attached base packages<span class="sc">:</span></span>
<span id="cb164-19"><a href="#cb164-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span id="cb164-20"><a href="#cb164-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-21"><a href="#cb164-21" aria-hidden="true" tabindex="-1"></a>other attached packages<span class="sc">:</span></span>
<span id="cb164-22"><a href="#cb164-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] plyr_1.<span class="fl">8.6</span></span>
<span id="cb164-23"><a href="#cb164-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-24"><a href="#cb164-24" aria-hidden="true" tabindex="-1"></a>loaded via a <span class="fu">namespace</span> (and not attached)<span class="sc">:</span></span>
<span id="cb164-25"><a href="#cb164-25" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] Rcpp_1.<span class="fl">0.7</span>       pillar_1.<span class="fl">7.0</span>     compiler_3.<span class="fl">6.3</span>   bslib_0.<span class="fl">3.0</span>     </span>
<span id="cb164-26"><a href="#cb164-26" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] jquerylib_0.<span class="fl">1.4</span>  tools_3.<span class="fl">6.3</span>      digest_0.<span class="fl">6.29</span>    jsonlite_1.<span class="fl">7.2</span>  </span>
<span id="cb164-27"><a href="#cb164-27" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] evaluate_0<span class="fl">.19</span>    lifecycle_1.<span class="fl">0.3</span>  tibble_3.<span class="fl">1.8</span>     gtable_0.<span class="fl">3.0</span>    </span>
<span id="cb164-28"><a href="#cb164-28" aria-hidden="true" tabindex="-1"></a>[<span class="dv">13</span>] lattice_0<span class="fl">.20</span><span class="dv">-45</span>  pkgconfig_2.<span class="fl">0.3</span>  rlang_1.<span class="fl">0.6</span>      DBI_1.<span class="fl">1.1</span>       </span>
<span id="cb164-29"><a href="#cb164-29" aria-hidden="true" tabindex="-1"></a>[<span class="dv">17</span>] cli_3.<span class="fl">6.0</span>        rstudioapi_0<span class="fl">.13</span>  yaml_2.<span class="fl">2.1</span>       xfun_0<span class="fl">.36</span>       </span>
<span id="cb164-30"><a href="#cb164-30" aria-hidden="true" tabindex="-1"></a>[<span class="dv">21</span>] fastmap_1.<span class="fl">1.0</span>    stringr_1.<span class="fl">4.0</span>    dplyr_1.<span class="fl">0.8</span>      httr_1.<span class="fl">4.2</span>      </span>
<span id="cb164-31"><a href="#cb164-31" aria-hidden="true" tabindex="-1"></a>[<span class="dv">25</span>] knitr_1<span class="fl">.41</span>       sass_0.<span class="fl">4.0</span>       generics_0.<span class="fl">1.2</span>   vctrs_0.<span class="fl">5.2</span>     </span>
<span id="cb164-32"><a href="#cb164-32" aria-hidden="true" tabindex="-1"></a>[<span class="dv">29</span>] grid_3.<span class="fl">6.3</span>       tidyselect_1.<span class="fl">2.0</span> glue_1.<span class="fl">6.2</span>       R6_2.<span class="fl">5.1</span>        </span>
<span id="cb164-33"><a href="#cb164-33" aria-hidden="true" tabindex="-1"></a>[<span class="dv">33</span>] fansi_1.<span class="fl">0.2</span>      rmarkdown_2<span class="fl">.11</span>   ggplot2_3.<span class="fl">3.5</span>    magrittr_2.<span class="fl">0.2</span>  </span>
<span id="cb164-34"><a href="#cb164-34" aria-hidden="true" tabindex="-1"></a>[<span class="dv">37</span>] scales_1.<span class="fl">1.1</span>     ellipsis_0.<span class="fl">3.2</span>   htmltools_0.<span class="fl">5.2</span>  assertthat_0.<span class="fl">2.1</span></span>
<span id="cb164-35"><a href="#cb164-35" aria-hidden="true" tabindex="-1"></a>[<span class="dv">41</span>] colorspace_2<span class="fl">.0</span><span class="dv">-3</span> utf8_1.<span class="fl">2.2</span>       stringi_1.<span class="fl">7.6</span>    munsell_0.<span class="fl">5.0</span>   </span>
<span id="cb164-36"><a href="#cb164-36" aria-hidden="true" tabindex="-1"></a>[<span class="dv">45</span>] crayon_1.<span class="fl">5.0</span>    </span></code></pre></div>
<hr />
</div>

<div style="width: 100%; padding: 10px; box-sizing: border-box; text-align: justify; border: 1px solid gray;">
  <p style="font-family: 'Playfair Display', serif; font-style: italic;">Copyright &copy; 2020 por <b>Christian A. Karanicolas</b>.  Todos los derechos reservados.  La elaboración de este sitio ha tenido como fuente principal de información el curso de <b>Especialización en Ciencias de Datos</b> brindado por la <b>Johns Hopkins University</b> a través de <b>Coursera</b>.</p>
</div>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap');
</style>


<!--
<p style="font-family: 'Playfair Display', serif; font-style: italic;">Copyright &copy; 2020 por <b>Christian A. Karanicolas</b>.  Todos los derechos reservados.  La elaboración de este sitio ha tenido como fuente principal de información el curso de <b>Especialización en Ciencias de Datos</b> brindado por la <b>Johns Hopkins University</b> a través de <b>Coursera</b>.</p>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap');
</style>
-->


<!--
<p style="font-style: italic;">Copyright &copy; 2020 por <b>Christian A. Karanicolas</b>.  Todos los derechos reservados.  La elaboración de este sitio ha tenido como fuente principal de información el curso de <b>Especialización en Ciencias de Datos</b> brindado por la <b>Johns Hopkins University</b> a través de <b>Coursera</b>.</p>
-->




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
